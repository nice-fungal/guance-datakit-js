!function(){"use strict";var e={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},t=console,n={};Object.keys(e).forEach((function(e){n[e]=t[e]||ee}));var r,o="GUANCE Browser SDK:",i={debug:n.debug.bind(t,o),log:n.log.bind(t,o),info:n.info.bind(t,o),warn:n.warn.bind(t,o),error:n.error.bind(t,o)},s=!1;function a(e){s=e}function u(e){return function(){return c(e,this,arguments)}}function c(e,t,n){try{return e.apply(t,n)}catch(e){if(l(e),r)try{r(e)}catch(e){l(e)}}}function l(){var e=[].slice.call(arguments);s&&i.error.apply(null,["[MONITOR]"].concat(e))}function f(e,t){return function(){var n=[].slice.call(arguments);try{return e.apply(this,n)}catch(e){i.error(t,e)}}}function d(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_gc_temp_",{get:function(){return this},configurable:!0});var e=_gc_temp_;return delete Object.prototype._gc_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function p(e,t){var n,r=d();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function v(e,t){return p(d(),"setTimeout")(u(e),t)}function m(e){p(d(),"clearTimeout")(e)}function g(e,t){return p(d(),"setInterval")(u(e),t)}function y(e){p(d(),"clearInterval")(e)}var h=Array.prototype,_=Object.prototype,b=h.slice,w=_.toString,S=_.hasOwnProperty,E=h.forEach,C=Array.isArray,T=function(e,t,n){if(null===e)return!1;if(E&&e.forEach===E)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++)if(r in e&&false===t.call(n,e[r],r,e))return!1}else for(var i in e)if(S.call(e,i)&&false===t.call(n,e[i],i,e))return!1};function x(e){return T(b.call(arguments,1),(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function k(e){return x({},e)}var O=function(e){return T(b.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},R=function(e){return T(b.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(U(t[n])&&U(e[n])?O(e[n],t[n]):e[n]=t[n])})),e},I=C||function(e){return"[object Array]"===w.call(e)},A=function(e){if(!e)return!1;try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},P=function(e){return e?e.toArray?e.toArray():I(e)?b.call(e):(t=e)&&S.call(t,"callee")?b.call(e):M(e):[];var t},M=function(e){var t=[];return null===e||T(e,(function(e){t[t.length]=e})),t},N=function(e,t,n){if(e.filter)return e.filter(t);for(var r=[],o=0;o<e.length;o++)if(S.call(e,o)){var i=e[o];t.call(n,i,o,e)&&r.push(i)}return r},L=function(e,t,n){if(e.map)return e.map(t);for(var r=[],o=0;o<e.length;o++)if(S.call(e,o)){var i=e[o];r.push(t.call(n,i,o,e))}return r},V=function(e,t,n){if(e.some)return e.some(t);for(var r=!1,o=0;o<e.length;o++)if(S.call(e,o)){var i=e[o];if(t.call(n,i,o,e)){r=!0;break}}return r},j=function(e){return e+="",window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}))},U=function(e){return null!==e&&"[object Object]"===w.call(e)},D=function(e){if(U(e)){for(var t in e)if(S.call(e,t))return!1;return!0}return!1},B=function(e){var t=[];return T(e,(function(e,n){t.push([n,e])})),t},q=function(e){return"[object String]"===w.call(e)},H=function(e){return"[object Boolean]"===w.call(e)},F=function(e){return"[object Number]"===w.call(e)&&/[\d\.]+/.test(String(e))},z=(Date.now,function(e,t,n){var r=!n||void 0===n.leading||n.leading,o=!n||void 0===n.trailing||n.trailing;let i,s,a=!1;var u=this;return{throttled:function(){a?i=arguments:(r?e.apply(u,arguments):i=arguments,a=!0,s=v((function(){o&&i&&e.apply(u,i),a=!1,i=void 0}),t))},cancel:function(){m(s),a=!1,i=void 0}}});function G(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,G)}function W(e){var t="";return e&&(t=e.replace(/\/([^\/]*)\d([^\/]*)/g,"/?").replace(/\/$/g,"")),t||"/"}var J=function(e){var t=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return t.prototype.setUrl=function(e){this._parse(e)},t.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},t.prototype.addQueryString=function(e){if("object"!=typeof e)return!1;var t=this._values.QueryString||"";for(var n in e)t=new RegExp(n+"[^&]+").test(t)?t.replace(new RegExp(n+"[^&]+"),n+"="+e[n]):"&"===t.slice(-1)?t+n+"="+e[n]:""===t?n+"="+e[n]:t+"&"+n+"="+e[n];this._values.QueryString=t},t.prototype.getParse=function(){return this._values},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Path,e+=this._values.QueryString?"?"+this._values.QueryString:""},t.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);if(!t)throw"DPURLParser::_parse -> Invalid URL";for(var n in this._fields)void 0!==t[this._fields[n]]&&(this._values[n]=t[this._fields[n]]);this._values.Path=this._values.Path||"/",this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname+(this._values.Port?":"+this._values.Port:"")},new t(e)};var X=function(e){var t={},n=e.split("?")[1]||"";return n&&(t=$("?"+n)),t},$=function(e){for(var t=function(e){return decodeURIComponent(e)},n={},r=(e=e||"").substring(1).split("&"),o=0;o<r.length;o++){var i=r[o].indexOf("=");if(-1!==i){var s=r[o].substring(0,i),a=r[o].substring(i+1);s=t(s),a=t(a),n[s]=a}}return n};function K(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function Q(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=Q(o[i],t[i],n);return o}o="object"===K(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=Q(o[s],t[s],n));return o}}function Z(e){return Q(void 0,e)}function Y(e){return e?String(e).substr(0,1)+String(e).substr(1).replace(/\d*/g,"x"):0===e?void 0:e}function ee(){}var te,ne=1e3,re=6e4;function oe(e){return 0!==e&&100*Math.random()<=e}function ie(e,t){return+e.toFixed(t)}function se(e){return"number"!=typeof e?e:ie(1e6*e,0)}function ae(e){return F(e)?ie(1e6*e,0):e}function ue(e){return e-_e()}function ce(e){return Math.round(_e()+e)}function le(){return performance.now()}function fe(){return{relative:le(),timeStamp:de()}}function de(){return pe()}function pe(){return(new Date).getTime()}function ve(e,t){return t-e}function me(){return{relative:0,timeStamp:_e()}}function ge(e){return{relative:e,timeStamp:he(e)}}function ye(e,t){return e+t}function he(e){var t=pe()-performance.now();return t>_e()?Math.round(t+e):ce(e)}function _e(){return void 0===te&&(te=performance.timing.navigationStart),te}var be=/([\w-]+)\s*=\s*([^;]+)/g;function we(e,t){for(var n=t.split(".");n.length;){var r=n.shift();if(!(e&&U(e)&&r in e&&S.call(e,r)))return;e=e[r]}return e}function Se(e,t){var n=e.charCodeAt(t-1);return n>=55296&&n<=56319?e.slice(0,t+1):e.slice(0,t)}function Ee(e){const t=K(e);return"string"===t||"function"===t||e instanceof RegExp}function Ce(e,t){return-1!==e.indexOf(t)}function Te(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function xe(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function ke(e){return F(e)&&e>=0&&e<=100}var Oe,Re=0,Ie=1,Ae=2,Pe=3;function Me(){return Ve(Oe,Oe=function(e){var t,n;void 0===e&&(e=window||{});var r=(null===(t=e)||void 0===t||null===(t=t.navigator)||void 0===t?void 0:t.userAgent)||"";if(e.chrome||/HeadlessChrome/.test(r))return Ie;if(0===(null===(n=e.navigator.vendor)||void 0===n?void 0:n.indexOf("Apple"))||/safari/i.test(r)&&!/chrome|android/i.test(r))return Ae;if(e.document.documentMode)return Re;return Pe}())}function Ne(e){var t={};return T(e,(function(e,n){var r;t[(r=n,r.replace(/[A-Z]/g,(function(e,t){return(0!==t?"_":"")+e.toLowerCase()})).replace(/-/g,"_"))]=Le(e)})),t}function Le(e){return I(e)?L(e,(function(e){return Le(e)})):"object"==typeof e&&null!==e?Ne(e):e}function Ve(e,t){return null!=e?e:t}function je(e,t){return V((r=[],null===(n=e)||T(n,(function(e,t){r[r.length]=t})),r),(function(n){return e[n]===t}));var n,r}function Ue(e,t){return e.slice(0,t.length)===t}function De(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Be(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function qe(e){return F(e)&&e<0?void 0:e}var He=1/0;let Fe=null;const ze=new Set;function Ge(e){var t=e.expireDelay,n=e.maxEntries,r=[];function o(){for(var e=le()-t;r.length>0&&r[r.length-1].endTime<e;)r.pop()}return Fe&&(Fe=g((function(){return o()}),6e4)),ze.add(o),{add:function(e,t){var o={value:e,startTime:t,endTime:He,remove:function(){De(r,o)},close:function(e){o.endTime=e}};return n&&r.length>=n&&r.pop(),r.unshift(o),o},find:function(e,t){void 0===e&&(e=He),void 0===t&&(t={returnInactive:!1});for(var n=0,o=r;n<o.length;n++){var i=o[n];if(i.startTime<=e){if(t.returnInactive||e<=i.endTime)return i.value;break}}},closeActive:function(e){var t=r[0];t&&t.endTime===He&&t.close(e)},findAll:function(e,t){void 0===e&&(e=He),void 0===t&&(t=0);var n=ye(e,t);return r.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},reset:function(){r=[]},stop:function(){ze.delete(o),0===ze.size&&Fe&&(y(Fe),Fe=null)}}}var We={navigator:"undefined"!=typeof window&&void 0!==window.navigator?window.navigator:{}},Je={getNetwork:u((function(){var e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,t="unknown",n=e?e.type||e.effectiveType:null;if(n&&"string"==typeof n)switch(n){case"bluetooth":case"cellular":t="cellular";break;case"none":t="none";break;case"ethernet":case"wifi":case"wimax":t="wifi";break;case"other":case"unknown":t="unknown";break;case"slow-2g":case"2g":case"3g":t="cellular";break;case"4g":t="wifi"}return t})),getLanguage:u((function(){var e;return this.language=((e=(We.navigator.browserLanguage||We.navigator.language||"").split("-"))[1]&&(e[1]=e[1].toUpperCase()),e.join("_")),this.language})),getTimeZone:u((function(){try{return(new Intl.DateTimeFormat).resolvedOptions().timeZone}catch(e){return}}))},Xe={};"undefined"!=typeof window&&(Xe={screenSize:window.screen.width+"*"+window.screen.height,networkType:Je.getNetwork(),userAgent:We.navigator.userAgent||"",timeZone:Je.getTimeZone()});var $e=Xe,Ke="beforeunload",Qe="click",Ze="keydown",Ye="load",et="popstate",tt="scroll",nt="touchstart",rt="visibilitychange",ot="pageshow",it="freeze",st="resume",at="DOMContentLoaded",ut="pointerdown",ct="pointerup",lt="pointercancel",ft="hashchange",dt="pagehide",pt="mousedown",vt="focus",mt="blur",gt="resize",yt="securitypolicyviolation",ht="storage",_t="document",bt="xhr",wt="beacon",St="fetch",Et="css",Ct="js",Tt="image",xt="font",kt="media",Ot="other",Rt="custom",It="click",At="custom",Pt={ACTION:"action",ERROR:"error",LONG_TASK:"long_task",VIEW:"view",RESOURCE:"resource",LOGGER:"logger"},Mt="initial_load",Nt="route_change",Lt={FETCH:St,XHR:bt},Vt="ddtrace",jt="handled",Ut="unhandled",Dt="Uncaught",Bt="Provided";function qt(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=Ht(Object.prototype),o=Ht(Array.prototype),i=Ht(Object.getPrototypeOf(e)),s=Ht(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),o(),i(),s()}}function Ht(e){const t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):ee}var Ft="?";function zt(e){var t=[],n=Zt(e,"stack"),r=String(e);return n&&n.startsWith(r)&&(n=n.slice(r.length)),n&&T(n.split("\n"),(function(e){var n=function(e){var t=Wt.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),o=Jt.exec(t[2]);r&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Ft,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=Xt.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:Ft,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=$t.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Ft,line:+t[3],url:t[2]}}(e)||function(e){var t=Kt.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=Qt.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Ft,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=Ft),t.push(n))})),{message:Zt(e,"message"),name:Zt(e,"name"),stack:t}}var Gt="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",Wt=new RegExp("^\\s*at (.*?) ?\\("+Gt+"(?::(\\d+))?"+"(?::(\\d+))?\\)?\\s*$","i"),Jt=new RegExp("\\((\\S*)(?::(\\d+))(?::(\\d+))\\)");var Xt=new RegExp("^\\s*at ?"+Gt+"(?::(\\d+))?"+"(?::(\\d+))??\\s*$","i");var $t=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var Kt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?\s*$/i,Qt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Zt(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var Yt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function en(e){var t=function(e){return _n(window,"onerror",(function(t){var n,r=t.parameters,o=r[0],i=r[1],s=r[2],a=r[3],u=r[4];if(u instanceof Error)n=zt(u);else{var c={url:i,column:a,line:s},l=function(e){let t,n;if("[object String]"==={}.toString.call(e)){var r=Yt.exec(e);r&&(t=r[1],n=r[2])}return{name:t,message:n}}(o);n={name:l.name,message:l.message,stack:[c]}}e(n,Ve(u,o))}))}(e),n=function(e){return _n(window,"onunhandledrejection",(function(t){var n=t.parameters[0].reason||"Empty reason",r=zt(n);e(r,n)}))}(e);return{stop:function(){t.stop(),n.stop()}}}var tn=1024,nn=/[^\u0000-\u007F]/;function rn(e){return nn.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function on(e,t){void 0===t&&(t=225280);var n=Ht(Object.prototype),r=Ht(Array.prototype),o=[],i=new WeakMap,s=sn(e,"$",void 0,o,i),a=JSON.stringify(s)&&JSON.stringify(s).length||0;if(!(a>t)){for(;o.length>0&&a<t;){var u=o.shift(),c=0;if(Array.isArray(u.source))for(var l=0;l<u.source.length;l++){if(a+=void 0!==(f=sn(u.source[l],u.path,l,o,i))?JSON.stringify(f).length:4,a+=c,c=1,a>t){un(t,"truncated",e);break}u.target[l]=f}else for(var l in u.source)if(Object.prototype.hasOwnProperty.call(u.source,l)){var f;if(void 0!==(f=sn(u.source[l],u.path,l,o,i))&&(a+=JSON.stringify(f).length+c+l.length+3,c=1),a>t){un(t,"truncated",e);break}u.target[l]=f}}return n(),r(),s}un(t,"discarded",e)}function sn(e,t,n,r,o){var i=function(e){var t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch(e){}return e}(e);if(!i||"object"!=typeof i)return function(e){if("bigint"==typeof e)return"[BigInt] "+e.toString();if("function"==typeof e)return"[Function] "+e.name||0;if("symbol"==typeof e)return"[Symbol] "+e.description||0;return e}(i);var s=an(i);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;var a=e;if(o.has(a))return"[Reference seen at "+o.get(a)+"]";var u=void 0!==n?t+"."+n:t,c=Array.isArray(i)?[]:{};return o.set(a,u),r.push({source:i,target:c,path:u}),c}function an(e){try{if(e instanceof Event)return{type:(n=e).type,isTrusted:n.isTrusted,currentTarget:n.currentTarget?an(n.currentTarget):null,target:n.target?an(n.target):null};if(e instanceof RegExp)return"[RegExp] ".concat(e.toString());var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"["+t[1]+"]"}catch(e){}var n;return"[Unserializable]"}function un(e,t,n){i.warn("The data provided has been "+t+" as it is over the limit of "+e+" characters:",n)}var cn="agent",ln="console",fn="source",dn="custom",pn="report";function vn(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,o=e.startClocks,i=e.nonErrorPrefix,s=e.source,a=e.handling,u=n instanceof Error,c=function(e,t,n,r){return e&&e.message&&e&&e.name?e.message:t?"Empty message":n+" "+qt(on(r))}(t,u,i,n),l=function(e,t){if(void 0===t)return!1;if(e)return!0;return t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url)}(u,t)?gn(t):"No stack, consider using an instance of Error",f=u?hn(n,s):void 0;return{startClocks:o,source:s,handling:a,originalError:n,message:c,stack:l,handlingStack:r,type:t&&t.name,causes:f}}function mn(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return c((function(){var n=zt(t);n.stack=n.stack.slice(2),e=gn(n)})),e}function gn(e){var t=yn(e);return T(e.stack,(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",o=e.line?":"+e.line:"",i=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+o+i})),t}function yn(e){return(e.name||"Error")+": "+e.message}function hn(e,t){for(var n=e,r=[];n&&n.cause instanceof Error&&r.length<10;){var o=zt(n.cause);r.push({message:n.cause.message,source:t,type:o&&o.name,stack:o&&gn(o)}),n=n.cause}return r.length?r:void 0}function _n(e,t,n,r){var o=r&&r.computeHandlingStack,i=e[t];if("function"!=typeof i){if(!Ue(t,"on"))return{stop:ee};i=ee}var s=!1,a=function(){if(s)return i.apply(this,arguments);var e,t=xe(arguments);c(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:o?mn():void 0}]);var r=i.apply(this,t);return e&&c(e,null,[r]),r};return e[t]=a,{stop:function(){s=!0,e[t]===a&&(e[t]=i)}}}var bn=function(e){this.observers=[],this.onLastUnsubscribe=void 0,this.onFirstSubscribe=e};bn.prototype={subscribe:function(e){this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0);var t=this;return{unsubscribe:function(){t.observers=N(t.observers,(function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},notify:function(e){T(this.observers,(function(t){t(e)}))}};var wn=bn;function Sn(){var e=[].slice.call(arguments);return new wn((function(t){var n=L(e,(function(e){return e.subscribe((function(e){return t.notify(e)}))}));return function(){return T(n,(function(e){return e.unsubscribe()}))}}))}var En={};function Cn(e){var t=L(e,(function(e){return En[e]||(En[e]=function(e){return new wn((function(t){var n=console[e];return console[e]=function(){var r=[].slice.call(arguments);n.apply(console,arguments);var o=mn();c((function(){t.notify(Tn(r,e,o))}))},function(){console[e]=n}}))}(e)),En[e]}));return Sn.apply(this,t)}function Tn(t,n,r){var o,i=L(t,(function(e){return function(e){if("string"==typeof e)return e;if(e instanceof Error)return yn(zt(e));return qt(e,void 0,2)}(e)})).join(" ");if(n===e.error){var s=Te(t,(function(e){return e instanceof Error}));o={stack:s?gn(zt(s)):void 0,causes:s?hn(s,"console"):void 0,startClocks:fe(),message:i,source:ln,handling:jt,handlingStack:r}}return{api:n,message:i,error:o,handlingStack:r}}function xn(e,t,n,r){return kn(e,[t],n,r)}function kn(e,t,n,r){var o=u(r&&r.once?function(e){i(),n(e)}:n);r=r&&r.passive?{capture:r.capture,passive:r.passive}:r&&r.capture,T(t,(function(t){On(e,"addEventListener",(n=>n.call(e,t,o,r)))}));var i=function(){T(t,(function(t){On(e,"removeEventListener",(n=>n.call(e,t,o,r)))}))};return{stop:i}}function On(e,t,n){const r=p(window.EventTarget&&e instanceof EventTarget?window.EventTarget.prototype:e,t);try{n(r)}catch(r){if(function(e,t){return e instanceof Error&&(e.message.includes("Illegal invocation")||e.message.includes("'".concat(t,"' called on an object that does not implement interface EventTarget."))||e.message.includes("Can only call EventTarget.".concat(t," on instances of EventTarget")))}(r,t))return n(e[t]);throw r}}var Rn="intervention",In="csp_violation";function An(e,t){var n=[];Ce(t,In)&&n.push(new wn((function(e){return xn(document,yt,(function(t){e.notify(function(e){var t="'"+e.blockedURI+"' blocked by '"+e.effectiveDirective+"' directive";return Pn({type:e.effectiveDirective,message:In+": "+t,originalError:e,csp:{disposition:e.disposition},stack:Mn(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(Se(e.originalPolicy,100),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(t))})).stop})));var r=N(t,(function(e){return e!==In}));return r.length&&n.push(function(e){return new wn((function(t){if(window.ReportingObserver){var n=u((function(e){T(e,(function(e){t.notify(function(e){var t=e.body,n=e.type;return Pn({type:t.id,message:n+": "+t.message,originalError:e,stack:Mn(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)})}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),Sn.apply(this,n)}function Pn(e){return x({startClocks:fe(),source:ErrorSource.REPORT,handling:ErrorHandling.UNHANDLED},e)}function Mn(e,t,n,r,o){return n&&gn({name:e,message:t,stack:[{func:"?",url:n,line:r,column:o}]})}var Nn,Ln="AUTO_ACTION_COMPLETED",Vn="BEFORE_VIEW_CREATED",jn="VIEW_CREATED",Un="VIEW_UPDATED",Dn="BEFORE_VIEW_UPDATED",Bn="VIEW_ENDED",qn="AFTER_VIEW_ENDED",Hn="SESSION_RENEWED",Fn="SESSION_EXPIRED",zn="PAGE_EXITED",Gn="REQUEST_STARTED",Wn="REQUEST_COMPLETED",Jn="RAW_RUM_EVENT_COLLECTED",Xn="RUM_EVENT_COLLECTED",$n="RAW_ERROR_COLLECTED";function Kn(){this.callbacks={}}function Qn(e,t,n){const r=Z(e),o=n(r);return B(t).forEach((t=>{let[n,o]=t;return Zn(e,r,n.split(/\.|(?=\[\])/),o)})),o}function Zn(e,t,n,r){const[o,...i]=n;if("[]"!==o){if(Yn(e)&&Yn(t))return i.length>0?Zn(e[o],t[o],i,r):void function(e,t,n,r){const o=K(n);o===r?e[t]=on(n):"object"!==r||"undefined"!==o&&"null"!==o||(e[t]={})}(e,o,t[o],r)}else Array.isArray(e)&&Array.isArray(t)&&e.forEach(((e,n)=>Zn(e,t[n],i,r)))}function Yn(e){return"object"===K(e)}function er(e,t,n){var r=0,o=!1;return{isLimitReached:function(){if(0===r&&v((function(){r=0}),re),(r+=1)<=t||o)return o=!1,!1;if(r===t+1){o=!0;try{n({message:"Reached max number of "+e+"s by minute: "+t,source:cn,startClocks:fe()})}finally{o=!1}}return!0}}}function tr(e){return nr(e,function(e){if(e.origin&&"null"!==e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)).href}function nr(e,t){if(function(){if(void 0!==Nn)return Nn;try{var e=new URL("http://test/path");return Nn="http://test/path"===e.href}catch(e){Nn=!1}return Nn}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: "+e);var n=document,r=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(r)}return r.href=e,r}function rr(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){const n=window.requestIdleCallback(u(e),t);return function(){return window.cancelIdleCallback(n)}}return function(e){const t=pe(),n=v((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(pe()-t))}})}),0);return function(){return m(n)}}(e)}Kn.prototype={notify:function(e,t){var n=this.callbacks[e];n&&T(n,(function(e){e(t)}))},subscribe:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t);var n=this;return{unsubscribe:function(){n.callbacks[e]=N(n.callbacks[e],(function(e){return e!==t}))}}}};var or,ir=/^\s+|\s+$/g,sr={rum:"/rum",log:"/logging",sessionReplay:"/rum/replay"};function ar(e,t){var n=sr[t];if(!n)return"";var r=e.datakitOrigin||e.datakitUrl||e.site;0===r.indexOf("/")&&(r=location.origin+ur(r));var o=r;return o=r.lastIndexOf("/")===r.length-1?ur(r)+"v1/write"+n:ur(r)+"/v1/write"+n,e.site&&e.clientToken&&(o=o+"?token="+e.clientToken+"&to_headless=true"),o}function ur(e){return e.replace(ir,"")}function cr(e,t){return"".concat(e,"_").concat(t&&t.crossSite?"cs1":"cs0","_").concat(t&&t.domain?"d1":"d0","_").concat(t&&t.secure?"sec1":"sec0","_").concat(t&&t.partitioned?"part1":"part0")}function lr(e,t,n,r){var o=new Date;o.setTime(o.getTime()+n);var i="expires="+o.toUTCString(),s=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie=cr(e,r)+"="+t+";"+i+";path=/;samesite="+s+a+u+c}function fr(e,t){return function(e,t){for(be.lastIndex=0;;){var n=be.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,cr(e,t))}function dr(e,t){lr(e,"",0,t)}var pr=144e5,vr=9e5,mr="_gc_s";const gr="cookie",yr="local-storage",hr=/^([a-zA-Z]+)=([a-z0-9-]+)$/,_r="&";function br(e){return D(e)}function wr(e){return void 0!==e.isExpired||!((void 0===(t=e).created||pe()-Number(t.created)<pr)&&(void 0===t.expire||pe()<Number(t.expire)));var t}function Sr(e){e.expire=String(pe()+vr)}function Er(e){return L(B(e),(function(e){return e[0]+"="+e[1]})).join("&")}function Cr(e){const t={};return function(e){return!!e&&(-1!==e.indexOf(_r)||hr.test(e))}(e)&&e.split(_r).forEach((function(e){const n=hr.exec(e);if(null!==n){const[,e,r]=n;t[e]=r}})),t}function Tr(e){const t=function(e){const t={};t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===or){const e="gc_site_test_".concat(G()),t="test",n=window.location.hostname.split(".");let r=n.pop();for(;n.length&&!fr(e,{domain:r});)r="".concat(n.pop(),".").concat(r),lr(e,t,ne,{domain:r});dr(e,{domain:r}),or=r}return or}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="gc_cookie_test_".concat(G()),n="test";lr(t,n,re,e);const r=fr(t,e)===n;return dr(t,e),r}catch(e){return!1}}(t)?{type:gr,cookieOptions:t}:void 0}function xr(e){var t;return{isLockEnabled:Me()===Ie,persistSession:(t=e,function(e){lr(mr,Er(e),vr,t)}),retrieveSession:kr(e),expireSession:function(){return function(e){lr(mr,Er({isExpired:"1"}),pr,e)}(e)}}}function kr(e){return function(){return Cr(fr(mr,e))}}function Or(){try{const e=G(),t="".concat("_gc_test_").concat(e);localStorage.setItem(t,e);const n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:yr}:void 0}catch(e){return}}function Rr(e){localStorage.setItem(mr,Er(e))}function Ir(){return Cr(localStorage.getItem(mr))}function Ar(){Rr({isExpired:"1"})}function Pr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Mr=["lock"],Nr=[];let Lr;function Vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{isLockEnabled:r,persistSession:o,expireSession:i}=t,s=function(e){return o(x({},e,{lock:u}))},a=function(){const e=t.retrieveSession(),{lock:n}=e;return{session:Pr(e,Mr),lock:n&&!Br(n)?n:void 0}};if(Lr||(Lr=e),e!==Lr)return void Nr.push(e);if(r&&n>=100)return void Ur(t);let u,c=a();if(r){if(c.lock)return void jr(e,t,n);if(u=Dr(),s(c.session),c=a(),c.lock!==u)return void jr(e,t,n)}let l=e.process(c.session);if(r&&(c=a(),c.lock!==u))jr(e,t,n);else{if(l&&(wr(l)?i():(Sr(l),r?s(l):o(l))),r&&(!l||!wr(l))){if(c=a(),c.lock!==u)return void jr(e,t,n);o(c.session),l=c.session}e.after&&e.after(l||c.session),Ur(t)}}function jr(e,t,n){v((function(){Vr(e,t,n+1)}),10)}function Ur(e){Lr=void 0;const t=Nr.shift();t&&Vr(t,e)}function Dr(){return G()+"--"+de()}function Br(e){const[,t]=e.split("--");return!t||ve(Number(t),de())>1e3}function qr(e){switch(e.sessionPersistence){case gr:return Tr(e);case yr:return Or();case void 0:{let t=Tr(e);return!t&&e.allowFallbackToLocalStorage&&(t=Or()),t}default:i.error("Invalid session persistence '".concat(String(e.sessionPersistence),"'"))}}function Hr(e,t,n){const r=new wn,o=new wn,i=new wn,s=e.type===gr?xr(e.cookieOptions):{isLockEnabled:!1,persistSession:Rr,retrieveSession:Ir,expireSession:Ar},{expireSession:a}=s,u=g((function(){Vr({process:function(e){return wr(e)?{isExpired:"1"}:void 0},after:d},s)}),1e3);let c;p();const{throttled:l,cancel:f}=z((function(){Vr({process:function(e){if(br(e))return;const r=d(e);return function(e){if(br(e))return!1;const{trackingType:r,isTracked:o}=n(e[t]);e[t]=r,delete e.isExpired,o&&!e.id&&(e.id=G(),e.created=String(pe()))}(r),r},after:function(e){br(e)||v()||function(e){c=e,r.notify()}(e),c=e}},s)}),1e3);function d(e){return wr(e)&&(e={isExpired:"1"}),v()&&(!function(e){return c.id!==e.id||c[t]!==e[t]}(e)?(i.notify({previousState:c,newState:e}),c=e):(c={isExpired:"1"},o.notify())),e}function p(){Vr({process:function(e){if(br(e))return{isExpired:"1"}},after:function(e){c=e}},s)}function v(){return void 0!==c[t]}return{expandOrRenewSession:l,expandSession:function(){Vr({process:function(e){return v()?d(e):void 0}},s)},getSession:function(){return c},renewObservable:r,expireObservable:o,sessionStateUpdateObservable:i,restartSession:p,expire:function(){f(),a(),d({isExpired:"1"})},stop:function(){y(u)},updateSessionState:function(e){Vr({process:function(t){return x({},t,e)},after:d},s)}}}var Fr,zr,Gr={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function Wr(e){if(void 0===e.sampleRate||ke(e.sampleRate))if(void 0===e.sessionSampleRate||ke(e.sessionSampleRate)){if(void 0===e.telemetrySampleRate||ke(e.telemetrySampleRate)){var t=Ve(e.sessionSampleRate,e.sampleRate);return x({beforeSend:e.beforeSend&&f(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:qr(e),isOpenWay:e.site&&e.clientToken,sessionSampleRate:Ve(t,100),service:e.service,version:e.version,env:e.env,telemetrySampleRate:Ve(e.telemetrySampleRate,100),telemetryEnabled:Ve(e.telemetryEnabled,!1),silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144,resourceUrlLimit:5120,storeContextsToLocal:!!e.storeContextsToLocal,storeContextsKey:e.storeContextsKey,sendContentTypeByJson:!!e.sendContentTypeByJson,retryMaxSize:Ve(e.retryMaxSize,-1)},function(e){var t=function(e){return!1};"isIntakeUrl"in e&&I(e.isIntakeUrl)?t=function(t){return V(e.isIntakeUrl,(function(e){return 0===t.indexOf(e)}))}:"isIntakeUrl"in e&&A(e.isIntakeUrl)&&H(e.isIntakeUrl())&&(t=e.isIntakeUrl);var n=function(e){return!1};return"isServerError"in e&&A(e.isServerError)&&H(e.isServerError())&&(n=e.isServerError),{rumEndpoint:ar(e,"rum"),logsEndpoint:ar(e,"log"),sessionReplayEndPoint:ar(e,"sessionReplay"),isIntakeUrl:t,isServerError:n}}(e))}i.error("Telemetry Sample Rate should be a number between 0 and 100")}else i.error("Sample Rate should be a number between 0 and 100");else i.error("Sample Rate should be a number between 0 and 100")}function Jr(){return Fr||(Fr=new wn((function(e){if(window.fetch)return _n(window,"fetch",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,o=e.handlingStack,i=n[0],s=n[1],a=s&&s.method;void 0===a&&i instanceof Request&&(a=i.method);var c=void 0!==a?String(a).toUpperCase():"GET",l=i instanceof Request?i.url:tr(String(i)),f=fe(),d={state:"start",init:s,input:i,method:c,startClocks:f,url:l,handlingStack:o};t.notify(d),n[0]=d.input,n[1]=d.init,r((function(e){return function(e,t,n){var r=n,o=function(t){r.state="resolve",x(r,t),e.notify(r)};t.then(u((function(e){var t="";try{t=e.constructor===Response&&e.type||""}catch(e){t=""}o({response:e,responseType:t,status:e.status,isAborted:!1})})),u((function(e){o({status:0,isAborted:r.init&&r.init.signal&&r.init.signal.aborted||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})})))}(t,e,d)}))}(t,e)}),{computeHandlingStack:!0}).stop}))),Fr}var Xr=new WeakMap;function $r(){return zr||(zr=new wn((function(e){var t=_n(XMLHttpRequest.prototype,"open",Kr),n=_n(XMLHttpRequest.prototype,"send",(function(t){!function(e,t){var n=e.target,r=e.handlingStack,o=Xr.get(n);if(o){var i=o;i.state="start",i.startClocks=fe(),i.isAborted=!1,i.xhr=n,i.handlingStack=r;var s=!1,a=_n(n,"onreadystatechange",(function(){n.readyState===XMLHttpRequest.DONE&&u()})).stop,u=function(){if(c(),a(),!s){s=!0;var e=o;e.state="complete",e.duration=ve(i.startClocks.timeStamp,de()),e.status=n.status,t.notify(k(e))}},c=xn(n,"loadend",u).stop;t.notify(i)}}(t,e)}),{computeHandlingStack:!0}),r=_n(XMLHttpRequest.prototype,"setRequestHeader",Qr),o=_n(XMLHttpRequest.prototype,"abort",Zr);return function(){t.stop(),n.stop(),o.stop(),r.stop()}}))),zr}function Kr(e){var t=e.target,n=e.parameters[0],r=e.parameters[1];Xr.set(t,{state:"open",method:String(n).toUpperCase(),url:tr(String(r))})}function Qr(e){var t=e.target,n=e.parameters[0],r=e.parameters[1],o=Xr.get(t);if(o&&n){var i=o.requestHeaderContexts||{};i[n]=r,o.requestHeaderContexts=i}}function Zr(e){var t=e.target,n=Xr.get(t);n&&(n.isAborted=!0)}var Yr={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function eo(e){return e.nodeType===Node.ELEMENT_NODE}function to(e,t){return document.readyState===e||"complete"===document.readyState?(t(),{stop:ee}):xn(window,"complete"===e?Ye:at,t,{once:!0})}var no={sdk_name:"_gc.sdk_name",sdk_version:"_gc.sdk_version",app_id:"application.id",env:"env",service:"service",version:"version",source:"source",userid:"user.id",user_email:"user.email",user_name:"user.name",session_id:"session.id",session_type:"session.type",session_is_forced:"session.is_forced_session",session_sampling:"session.is_sampling",is_signin:"user.is_signin",os:"device.os",os_version:"device.os_version",os_version_major:"device.os_version_major",browser:"device.browser",browser_version:"device.browser_version",browser_version_major:"device.browser_version_major",b2owser:"device.b2owser",b2owser_version:"device.b2owser_version",b2owser_version_major:"device.b2owser_version_major",webview:"webview.webview",webview_version:"webview.webview_version",webview_version_major:"webview.webview_version_major",screen_size:"device.screen_size",network_type:"device.network_type",time_zone:"device.time_zone",device:"device.device",device_vendor:"device.device_vendor",device_model:"device.device_model",user_agent:"device.user_agent",view_id:"view.id",view_referrer:"view.referrer",view_url:"view.url",view_host:"view.host",view_path:"view.path",view_name:"view.name",view_path_group:"view.path_group",view_path_name:"view.pathname"},ro={view_url_query:"view.url_query",action_id:"action.id",action_ids:"action.ids",view_in_foreground:"view.in_foreground",display:"display",session_has_replay:"session.has_replay",is_login:"user.is_login",page_states:"_gc.page_states",session_sample_rate:"_gc.configuration.session_sample_rate",session_replay_sample_rate:"_gc.configuration.session_replay_sample_rate",session_on_error_sample_rate:"_gc.configuration.session_on_error_sample_rate",session_replay_on_error_sample_rate:"_gc.configuration.session_replay_on_error_sample_rate",drift:"_gc.drift"},oo={view:{type:Pt.VIEW,tags:{view_loading_type:"view.loading_type",view_apdex_level:"view.apdex_level",view_privacy_replay_level:"privacy.replay_level"},fields:{view_update_time:"_gc.view_update_time",sampled_for_replay:"session.sampled_for_replay",sampled_for_error_replay:"session.sampled_for_error_replay",sampled_for_error_session:"session.sampled_for_error_session",session_error_timestamp:"session.error_timestamp_for_session",is_active:"view.is_active",session_replay_stats:"_gc.replay_stats",session_is_active:"session.is_active",view_error_count:"view.error.count",view_resource_count:"view.resource.count",view_long_task_count:"view.long_task.count",view_action_count:"view.action.count",first_contentful_paint:"view.first_contentful_paint",largest_contentful_paint:"view.largest_contentful_paint",largest_contentful_paint_element_selector:"view.largest_contentful_paint_element_selector",cumulative_layout_shift:"view.cumulative_layout_shift",cumulative_layout_shift_time:"view.cumulative_layout_shift_time",cumulative_layout_shift_target_selector:"view.cumulative_layout_shift_target_selector",first_input_delay:"view.first_input_delay",loading_time:"view.loading_time",dom_interactive:"view.dom_interactive",dom_content_loaded:"view.dom_content_loaded",dom_complete:"view.dom_complete",load_event:"view.load_event",first_input_time:"view.first_input_time",first_input_target_selector:"view.first_input_target_selector",first_paint_time:"view.fpt",interaction_to_next_paint:"view.interaction_to_next_paint",interaction_to_next_paint_target_selector:"view.interaction_to_next_paint_target_selector",resource_load_time:"view.resource_load_time",time_to_interactive:"view.tti",dom:"view.dom",dom_ready:"view.dom_ready",time_spent:"view.time_spent",first_byte:"view.first_byte",frustration_count:"view.frustration.count",custom_timings:"view.custom_timings"}},resource:{type:Pt.RESOURCE,tags:{trace_id:"_gc.trace_id",span_id:"_gc.span_id",resource_id:"resource.id",resource_status:"resource.status",resource_status_group:"resource.status_group",resource_method:"resource.method"},fields:{duration:"resource.duration",resource_size:"resource.size",resource_url:"resource.url",resource_url_host:"resource.url_host",resource_url_path:"resource.url_path",resource_url_path_group:"resource.url_path_group",resource_url_query:"resource.url_query",resource_delivery_type:"resource.delivery_type",resource_type:"resource.type",resource_protocol:"resource.protocol",resource_encode_size:"resource.encoded_body_size",resource_decode_size:"resource.decoded_body_size",resource_transfer_size:"resource.transfer_size",resource_render_blocking_status:"resource.render_blocking_status",resource_dns:"resource.dns",resource_tcp:"resource.tcp",resource_ssl:"resource.ssl",resource_ttfb:"resource.ttfb",resource_trans:"resource.trans",resource_redirect:"resource.redirect",resource_first_byte:"resource.firstbyte",resource_dns_time:"resource.dns_time",resource_download_time:"resource.download_time",resource_first_byte_time:"resource.first_byte_time",resource_connect_time:"resource.connect_time",resource_ssl_time:"resource.ssl_time",resource_redirect_time:"resource.redirect_time"}},error:{type:Pt.ERROR,tags:{error_id:"error.id",trace_id:"_gc.trace_id",span_id:"_gc.span_id",error_source:"error.source",error_type:"error.type",error_handling:"error.handling"},fields:{error_message:["string","error.message"],error_stack:["string","error.stack"],error_causes:["string","error.causes"],error_handling_stack:["string","error.handling_stack"]}},long_task:{type:Pt.LONG_TASK,tags:{long_task_id:"long_task.id"},fields:{duration:"long_task.duration",blocking_duration:"long_task.blocking_duration",first_ui_event_timestamp:"long_task.first_ui_event_timestamp",render_start:"long_task.render_start",style_and_layout_start:"long_task.style_and_layout_start",long_task_start_time:"long_task.start_time",scripts:["string","long_task.scripts"]}},action:{type:Pt.ACTION,tags:{action_type:"action.type"},fields:{action_name:"action.target.name",duration:"action.loading_time",action_error_count:"action.error.count",action_resource_count:"action.resource.count",action_frustration_types:"action.frustration.type",action_long_task_count:"action.long_task.count",action_target:"_gc.action.target",action_position:"_gc.action.position"}},telemetry:{type:"telemetry",fields:{status:"telemetry.status",message:["string","telemetry.message"],type:"telemetry.type",error_stack:["string","telemetry.error.stack"],error_kind:["string","telemetry.error.kind"],connectivity:["string","telemetry.connectivity"],runtime_env:["string","telemetry.runtime_env"],usage:["string","telemetry.usage"],configuration:["string","telemetry.configuration"]}},browser_log:{type:Pt.LOGGER,tags:{error_source:"error.source",error_type:"error.type",error_resource_url:"http.url",error_resource_url_host:"http.url_host",error_resource_url_path:"http.url_path",error_resource_url_path_group:"http.url_path_group",error_resource_status:"http.status_code",error_resource_status_group:"http.status_group",error_resource_method:"http.method",action_id:"user_action.id",service:"service",status:"status"},fields:{message:["string","message"],error_message:["string","error.message"],error_stack:["string","error.stack"]}}};let io=[];function so(e,t,n){const r=new wn,o=new wn,i=Hr(e.sessionStoreStrategyType,t,n);io.push((function(){return i.stop()}));const s=Ge({expireDelay:144e5});function a(){const e=i.getSession();return e?{id:e.id,trackingType:e[t],hasError:!!e.hasError,isSessionForced:!!e.forcedSession}:{id:"invalid",trackingType:"0",isSessionForced:!1,hasError:!1}}return io.push((function(){return s.stop()})),i.renewObservable.subscribe((function(){s.add(a(),le()),r.notify()})),i.expireObservable.subscribe((function(){o.notify(),s.closeActive(le())})),i.expandOrRenewSession(),s.add(a(),me().relative),function(e){const{stop:t}=kn(window,[Qe,nt,Ze,tt],e,{capture:!0,passive:!0});io.push(t)}((function(){i.expandOrRenewSession()})),function(e){const t=function(){"visible"===document.visibilityState&&e()},{stop:n}=xn(document,rt,t);io.push(n);const r=g(t,6e4);io.push((function(){y(r)}))}((function(){return i.expandSession()})),function(e){const{stop:t}=xn(window,st,e,{capture:!0});io.push(t)}((function(){i.restartSession()})),{findSession:function(e,t){return s.find(e,t)},renewObservable:r,expireObservable:o,sessionStateUpdateObservable:i.sessionStateUpdateObservable,expire:i.expire,updateSessionState:i.updateSessionState}}var ao=20971520,uo=0,co=1,lo=2,fo=0,po=1;function vo(e,t,n,r,o){t.transportStatus===uo&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?go(e,t,n,{onSuccess:function(){return yo(fo,t,n,r,o)},onFailure:function(){t.queuedPayloads.enqueue(e),mo(t,n,r,o)}}):t.queuedPayloads.enqueue(e)}function mo(e,t,n,r){e.transportStatus===lo&&v((function(){go(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,yo(po,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(256e3,2*e.currentBackoffTime),mo(e,t,n,r)}})}),e.currentBackoffTime)}function go(e,t,n,r){var o=r.onSuccess,i=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e,t,n){return!(t.retryMaxSize>-1&&n.retry&&n.retry.count>t.retryMaxSize)&&("opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500))}(n,t,e)?(t.transportStatus=uo,o()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?co:lo,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},i())}))}function yo(e,t,n,r,o){e===fo&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:"Reached max "+r+" events size queued for upload: 20MiB",source:cn,startClocks:fe()}),t.queueFullReported=!0);var i=t.queuedPayloads;for(t.queuedPayloads=ho();i.size()>0;)vo(i.dequeue(),t,n,r,o)}function ho(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=ao}}}function _o(e,t){return e?(e=e+(-1===e.indexOf("?")?"?":"&")+"precision=ms",t&&(e=e+"&encoding="+t),e):e}function bo(e,t,n,r){void 0===n&&(n=-1);var o=function(e){return{transportStatus:uo,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:ho(),queueFullReported:!1,retryMaxSize:e}}(n),i=function(n,r){return function(e,t,n,r){var o=n.data,i=n.bytesCount,s=_o(e,n.encoding);if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&i<t){var a={method:"POST",body:o,keepalive:!0,mode:"cors"};const e={"x-client-timestamp":Date.now().toString()};n.type&&(e["Content-Type"]=n.type),a.headers=e,fetch(s,a).then(u((function(e){"function"==typeof r&&r({status:e.status,type:e.type})}))).catch(u((function(){!function(e,t,n){const r={method:"POST",body:t.data,keepalive:!0,mode:"cors"},o={"x-client-timestamp":Date.now().toString()};t.type&&(o["Content-Type"]=t.type);r.headers=o,fetch(e,r).then(u((function(e){"function"==typeof n&&n({status:e.status,type:e.type})}))).catch(u((function(){"function"==typeof n&&n({status:0})})))}(s,n,r)})))}else So(s,n,r)}(e,t,n,r)};return{send:function(t){vo(t,o,i,e,r)},sendOnExit:function(n){!function(e,t,n){var r=n.data,o=n.bytesCount,i=_o(e,n.encoding);if(navigator.sendBeacon&&o<t)try{var s;if(s=n.type?new Blob([r],{type:n.type}):r,navigator.sendBeacon(i,s))return}catch(e){wo||(wo=!0)}So(i,n)}(e,t,n)}}}var wo=!1;function So(e,t,n){const r=t.data,o=new XMLHttpRequest;o.open("POST",e,!0),r instanceof Blob?o.setRequestHeader("Content-Type",r.type):t.type&&o.setRequestHeader("Content-Type",t.type),o.setRequestHeader("x-client-timestamp",Date.now().toString()),xn(o,"loadend",(function(){"function"==typeof n&&n({status:o.status})}),{once:!0}),o.send(r)}function Eo(e){if("object"==typeof e&&e)e=qt(e);else if(!q(e))return e;return String(e).replace(/[\s=,"]/g,(function(e){return"\\"+e}))}function Co(e,t){return"object"==typeof e&&e?e=qt(e):t&&(e=""+e),e}function To(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function xo(e){return"object"==typeof e&&e?To(qt(e)):q(e)?To(e):e}var ko="custom_keys",Oo=function(e){if(!e||!e.type)return{rowStr:"",rowData:void 0};var t={tags:{},fields:{}},n=!1,r="";return T(oo,(function(o,i){if(o.type===e.type){r+=i+",",t.measurement=i;var s=[],a=O({},no,o.tags),u=["date","type",ko];T(a,(function(n,r){var o=we(e,n);u.push(r),(o||F(o))&&(t.tags[r]=Co(o,!0),s.push(Eo(r)+"="+Eo(o)))}));var c=[],l=O({},ro,o.fields);if(T(l,(function(n,r){if(I(n)&&2===n.length){var o=n[1],i=we(e,o);u.push(r),null!=i&&(t.fields[r]=Co(i),c.push(Eo(r)+"="+xo(i)))}else if(q(n)){i=we(e,n);u.push(r),null!=i&&(t.fields[r]=Co(i),c.push(Eo(r)+"="+xo(i)))}})),e.context&&U(e.context)&&!D(e.context)){var f=[];T(e.context,(function(e,n){u.indexOf(n)>-1||(u.push(n),null!=e&&(f.push(n),t.fields[n]=Co(e),c.push(Eo(n)+"="+xo(e))))})),f.length&&(t.fields.custom_keys=Co(f),c.push(Eo(ko)+"="+xo(f)))}e.type===Pt.LOGGER&&T(e,(function(e,n){-1===u.indexOf(n)&&null!=e&&(t.fields[n]=Co(e),c.push(Eo(n)+"="+xo(e)))})),s.length&&(r+=s.join(",")),c.length&&(r+=" ",r+=c.join(","),n=!0),r=r+" "+e.date,t.time=e.date}})),{rowStr:n?r:"",rowData:n?t:void 0}};function Ro(e){var t=e.encoder,n=e.request,r=e.messageBytesLimit,o=e.sendContentTypeByJson,s=e.flushController,a={},u=s.flushObservable.subscribe((function(e){!function(e){var r=M(a).join(o?",":"\n");a={};var i=(u=e.reason,Ce(M(Yr),u)),s=i?n.sendOnExit:n.send;var u;if(i&&t.isAsync){var l=t.finishSync();l.outputBytesCount&&s(Io(l,o));var f=[...l.pendingData,r].filter(Boolean).join("\n");f&&s({data:f,bytesCount:rn(f)})}else{if(r){var d=c([r],t.isEmpty());o&&(d+="]"),t.write(d)}else o&&t.write("]");t.finish((function(e){s(Io(e))}))}}(e)}));function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o?t?"["+e.join(","):","+e.join(","):t?e.join("\n"):"\n"+e.join("\n")}function l(e,n){const u=function(e){return o?qt(Oo(e).rowData):Oo(e).rowStr}(e),l=t.estimateEncodedBytesCount(u);l>=r?i.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(r,"KB.")):(function(e){return void 0!==e&&void 0!==a[e]}(n)&&function(e){var n=a[e];delete a[e];var r=t.estimateEncodedBytesCount(n);s.notifyAfterRemoveMessage(r)}(n),function(e,n,r){s.notifyBeforeAddMessage(n),void 0!==r?(a[r]=e,s.notifyAfterAddMessage()):t.write(c([e],t.isEmpty()),(function(e){s.notifyAfterAddMessage(e-n)}))}(u,l,n))}return{flushController:s,add:l,upsert:l,stop:u.unsubscribe}}function Io(e,t){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),type:t?"application/json;UTF-8":void 0,bytesCount:e.outputBytesCount,encoding:e.encoding}}function Ao(e){let{messagesLimit:t,bytesLimit:n,durationLimit:r,pageExitObservable:o,sessionExpireObservable:i}=e;var s,a=o.subscribe((function(e){return d(e.reason)})),u=i.subscribe((function(){return d("session_expire")})),c=new wn((function(){return function(){a.unsubscribe(),u.unsubscribe()}})),l=0,f=0;function d(e){if(0!==f){var t=f,n=l;f=0,l=0,p(),c.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){m(s),s=void 0}return{flushObservable:c,getMessagesCount:function(){return f},notifyBeforeAddMessage:function(e){l+e>=n&&d("bytes_limit"),f+=1,l+=e,void 0===s&&(s=v((function(){d("duration_limit")}),r))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,f>=t?d("messages_limit"):l>=n&&d("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0===(f-=1)&&p()}}}function Po(){var e;arguments.length>0&&void 0!==arguments[0]||null===(e=d().location)||void 0===e||e.hostname;return!1}function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e){var t=function(e,t){if("object"!=Mo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mo(t)?t:t+""}function Lo(e,t,n){return(t=No(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e,t,n){const r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);for(const[o,{required:s,type:a}]of Object.entries(t))"string"===a&&o in r&&(r[o]=String(r[o])),s&&!(o in e)&&i.warn("The property ".concat(o," of ").concat(n," context is required; context will not be sent to the intake."));return r}function Uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{customerDataTracker:t,propertiesConfig:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};const o=new wn,i={getContext:()=>Z(r),setContext:s=>{"object"===K(s)?(r=on(jo(s,n,e)),null==t||t.updateCustomerData(r)):i.clearContext(),o.notify()},setContextProperty:(i,s)=>{r[i]=on(jo({[i]:s},n,e)[i]),null==t||t.updateCustomerData(r),o.notify()},removeContextProperty:i=>{delete r[i],null==t||t.updateCustomerData(r),jo(r,n,e),o.notify()},clearContext:()=>{r={},null==t||t.resetCustomerData(),o.notify()},changeObservable:o};return i}var Do="user",Bo="global context",qo="view",Ho=[];function Fo(e,t,n,r){var o=function(e,t,n){return e.storeContextsKey&&q(e.storeContextsKey)?"_gc_s_"+t+"_"+n+"_"+e.storeContextsKey:"_gc_s_"+t+"_"+n}(e,n,r);function i(){const e=localStorage.getItem(o);return null!==e?JSON.parse(e):{}}return Ho.push(xn(window,ht,(function(e){o===e.key&&t.setContext(i())}))),t.changeObservable.subscribe((function(){localStorage.setItem(o,JSON.stringify(t.getContext()))})),t.setContext(R(i(),t.getContext())),t}const zo=3072,Go=16384,Wo=0,Jo=1,Xo=2;function $o(e){let t=0;const{throttled:n,cancel:r}=z((n=>{t=rn(qt(n)),e()}),200),o=()=>{r(),t=0};return{updateCustomerData:e=>{D(e)?o():n(e)},resetCustomerData:o,getBytesCount:()=>t,stop:()=>{r()}}}function Ko(e){i.warn("Customer data exceeds the recommended ".concat(e/tn,"KiB threshold."))}function Qo(){var e="",t=0;return{isAsync:!1,isEmpty:function(){return!e},write:function(n,r){var o=rn(n);t+=o,e+=n,r&&r(o)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:[]};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function Zo(e){var t=x({},e);return T(["id","name","email"],(function(e){e in t&&(t[e]=String(t[e]))})),t}function Yo(e){this.map=new WeakMap,e&&e.forEach((function(e){this.map.set(e,1)}))}function ei(e,t){t.silentMultipleInit||i.error(e+" is already initialized.")}Yo.prototype.add=function(e){return this.map.set(e,1),this},Yo.prototype.delete=function(e){return this.map.delete(e)},Yo.prototype.has=function(e){return this.map.has(e)};var ti=1,ni=2,ri=3;var oi="0",ii="1",si="2",ai="3",ui="4",ci="5",li="6";function fi(e,t){var n=so(e,"rum",(function(t){return function(e,t){const{sessionSampleRate:n,sessionOnErrorSampleRate:r,sessionReplaySampleRate:o,sessionReplayOnErrorSampleRate:i}=e,s=oe(n),a=oe(r),u=oe(o),c=oe(i);var l;!function(e){return e===oi||e===ci||e===li||e===ui||e===si||e===ai||e===ii}(t)?a||s?s&&u?l=ii:s&&c?l=ai:!s||u||c?a&&u?l=ui:a&&c?l=li:!a||u||c||(l=ci):l=si:l=oi:l=t;return{trackingType:l,isTracked:di(l)}}(e,t)}));return n.expireObservable.subscribe((function(){t.notify(Fn)})),n.renewObservable.subscribe((function(){t.notify(Hn)})),n.sessionStateUpdateObservable.subscribe((e=>{let{previousState:t,newState:r}=e;if(!t.hasError&&r.hasError){const e=n.findSession();e&&(e.hasError=!0,e.ets=r.ets||de())}if(!t.forcedSession&&r.forcedSession){const e=n.findSession();e&&(e.isSessionForced=!0)}})),{findTrackedSession:function(e){var t=n.findSession(e);if(!t)return;if(!di(t.trackingType)&&!t.isSessionForced)return;const r=t.trackingType===ci||t.trackingType===ui||t.trackingType===li;let o=ti;return t.trackingType===ii||t.trackingType===ui?o=ni:t.trackingType!==li&&t.trackingType!==ai||(o=ri),{id:t.id,plan:o,errorSessionReplayAllowed:o===ri,sessionHasError:t.hasError,isErrorSession:r,sessionErrorTimestamp:t.ets,isSessionForced:t.isSessionForced,sessionReplayAllowed:o===ni||o===ri||t.isSessionForced}},expire:n.expire,expireObservable:n.expireObservable,sessionStateUpdateObservable:n.sessionStateUpdateObservable,setErrorForSession:()=>n.updateSessionState({hasError:"1",ets:de()}),setForcedSession:()=>{n.updateSessionState({forcedSession:"1"})}}}function di(e){return e!==oi}var pi="_gc_usr_id";var vi=function(e){if(!e.sessionStoreStrategyType)return{getId:ee};let t;return t=e.sessionStoreStrategyType.type===gr?function(e){var t=fr(pi,e);return t||(t=G(),lr(pi,t,5184e6,e)),t}(e.sessionStoreStrategyType.cookieOptions):function(){var e=localStorage.getItem(pi);return e||(e=G(),localStorage.setItem(pi,e)),e}(),{getId:function(){return t}}};function mi(){var e=function(){var e,t=window;if(t.Zone&&(e=p(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=p(new t.MutationObserver(ee),"originalInstance");e=n&&n.constructor}e||(e=t.MutationObserver);return e}();return new wn((function(t){if(e){var n=new e(u((function(){return t.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}))}function gi(e){var t=k(e);return new wn((function(n){var r,o,i,s,a=(r=c,o=_n(yi("pushState"),"pushState",(function(e){(0,e.onPostCall)(r)})),i=_n(yi("replaceState"),"replaceState",(function(e){(0,e.onPostCall)(r)})),s=xn(window,et,r),{stop:function(){o.stop(),i.stop(),s.stop()}}),u=xn(window,ft,c);function c(){if(t.href!==e.href){var r=k(e);n.notify({newLocation:r,oldLocation:t}),t=r}}return function(){a.stop(),u.stop()}}))}function yi(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}var hi="initial_document",_i=[[_t,function(e){return hi===e}],[bt,function(e){return"xmlhttprequest"===e}],[St,function(e){return"fetch"===e}],[wt,function(e){return"beacon"===e}],[Et,function(e,t){return null!==t.match(/\.css$/i)}],[Ct,function(e,t){return null!==t.match(/\.js$/i)}],[Tt,function(e,t){return Ce(["image","img","icon"],e)||null!==t.match(/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i)}],[xt,function(e,t){return null!==t.match(/\.(woff|eot|woff2|ttf)$/i)}],[kt,function(e,t){return Ce(["audio","video"],e)||null!==t.match(/\.(mp3|mp4)$/i)}]];function bi(e){var t=e.name;if(!function(e){try{return!!nr(e)}catch(e){return!1}}(t))return Ot;var n=function(e){var t=nr(e).pathname;return"/"===t[0]?t:"/"+t}(t),r=Ot;return T(_i,(function(t){var o=t[0];if((0,t[1])(e.initiatorType,n))return r=o,!1})),r}function wi(){for(var e=P(arguments),t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function Si(e){return""===e.deliveryType?"other":e.deliveryType}function Ei(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}var Ci=/[^\u0000-\u007F]/;function Ti(e,t){return n=e,(Ci.test(n)?void 0!==window.TextEncoder?(new TextEncoder).encode(n).length:new Blob([n]).size:n.length)>t;var n}function xi(e){return 0===e.duration&&e.startTime<e.responseEnd?se(e.responseEnd-e.startTime):se(e.duration)}function ki(e){if(Ri(e)){var t=e.startTime,n=e.fetchStart,r=e.redirectStart,o=e.redirectEnd,i=e.domainLookupStart,s=e.domainLookupEnd,a=e.connectStart,u=e.secureConnectionStart,c=e.connectEnd,l=e.requestStart,f=e.responseStart,d=e.responseEnd,p={firstbyte:se(f-l),trans:se(d-f),downloadTime:Ai(t,f,d),firstByteTime:Ai(t,l,f)};return f>0&&f<=le()&&(p.ttfb=se(f-l)),c!==n&&(p.tcp=se(c-a),p.connectTime=Ai(t,a,c),wi(a,u,c)&&(p.ssl=se(c-u),p.sslTime=Ai(t,u,c))),s!==n&&(p.dns=se(s-i),p.dnsTime=Ai(t,i,s)),Ii(e)&&(p.redirect=se(o-r),p.redirectTime=Ai(t,r,o)),e.renderBlockingStatus&&(p.renderBlockingStatus=e.renderBlockingStatus),p}}function Oi(e){return e.duration>=0}function Ri(e){var t=wi(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!Ii(e)||wi(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return t&&n}function Ii(e){return e.redirectEnd>e.startTime}function Ai(e,t,n){return{duration:se(n-t),start:se(t-e)}}function Pi(e){return e.startTime<e.responseStart?{size:e.decodedBodySize,encodedBodySize:e.encodedBodySize,decodedBodySize:e.decodedBodySize,transferSize:e.transferSize}:{size:void 0,encodedBodySize:void 0,decodedBodySize:void 0,transferSize:void 0}}function Mi(e,t){return t&&!function(e,t){var n=[t.rumEndpoint];return t.logsEndpoint&&n.push(t.logsEndpoint),t.sessionReplayEndPoint&&n.push(t.sessionReplayEndPoint),V(n,(function(t){return 0===e.indexOf(t)}))||t.isIntakeUrl(e)}(t,e)}var Ni=/data:(.+)?(;base64)?,/g;function Li(e){return!(e.length<=24e3)&&("data:"===e.substring(0,5)&&(e=e.substring(0,24e3),!0))}function Vi(e){return e.match(Ni)[0]+"[...]"}function ji(e,t){var n=pe(),r=!1,o=kn(window,[Qe,pt,Ze,nt,ut],(function(e){if(e.cancelable){var t={entryType:"first-input",processingStart:le(),processingEnd:le(),startTime:e.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:function(){return{}}};e.type===ut?function(e){kn(window,[ct,lt],(function(t){t.type===ct&&i(e)}),{once:!0})}(t):i(t)}}),{passive:!0,capture:!0}).stop;return{stop:o};function i(e){if(!r){r=!0,o();var i=e.processingStart-e.startTime;i>=0&&i<pe()-n&&t(e)}}}var Ui,Di="event",Bi="first-input",qi="largest-contentful-paint",Hi="layout-shift",Fi="longtask",zi="navigation",Gi="paint",Wi="resource",Ji="visibility-state";function Xi(e,t){return new wn((function(n){if(!window.PerformanceObserver)return;var r,o=function(t){var r=function(e,t){return t.filter((function(t){return!function(e,t){return!(t.entryType!==Wi||Mi(e,t.name)&&Oi(t))}(e,t)}))}(e,t);r.length>0&&n.notify(r)},i=!0;const s=new PerformanceObserver(u((function(e){i?r=v((function(){o(e.getEntries())})):o(e.getEntries())})));try{s.observe(t)}catch(e){if(Ce([Wi,zi,Fi,Gi],t.type)){t.buffered&&(r=v((function(){o(performance.getEntriesByType(t.type))})));try{s.observe({entryTypes:[t.type]})}catch(e){return}}}var a;if(i=!1,function(e){!Ui&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&(Ui=xn(performance,"resourcetimingbufferfull",(function(){performance.clearResourceTimings()})))}(),!$i(Bi)&&t.type===Bi){var c=ji(0,(function(e){o([e])}));a=c.stop}return function(){s.disconnect(),a&&a(),m(r)}}))}function $i(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}var Ki="active",Qi="passive",Zi="hidden",Yi="frozen",es="terminated";function ts(e){void 0===e&&(e=500);var t,n=Ge({expireDelay:144e5,maxEntries:4e3});if($i(Ji)){performance.getEntriesByType(Ji).forEach((e=>{o("hidden"===e.name?Zi:Ki,e.startTime)}))}o(ns(),le());var r=kn(window,[ot,vt,mt,rt,st,it,dt],(function(e){o(function(e){if(e.type===it)return Yi;if(e.type===dt)return e.persisted?Yi:es;return ns()}(e),e.timeStamp)}),{capture:!0}).stop;function o(e,r){void 0===r&&(r=le()),e!==t&&(t=e,n.closeActive(r),n.add({state:t,startTime:r},r))}const i={findAll:function(t,r){return function(e,t,n){if(0===e.length)return;return e.slice(-n).reverse().map((e=>{let{state:n,startTime:r}=e;return{state:n,start:ae(ve(t,r))}}))}(n.findAll(t,r),t,e)},wasInPageStateAt:function(e,t){return i.wasInPageStateDuringPeriod(e,t,0)},wasInPageStateDuringPeriod:function(e,t,r){return n.findAll(t,r).some((function(t){return t.state===e}))},addPageState:o,stop:function(){r(),n.stop()}};return i}function ns(){return"hidden"===document.visibilityState?Zi:document.hasFocus()?Ki:Qi}function rs(e,t){var n,r=os(e)?{action:{error:{count:e.counts.errorCount},id:e.id,loadingTime:qe(ae(e.duration)),frustration:{type:e.frustrationTypes},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_gc:{action:{target:e.target,position:e.position}}}:{action:{loadingTime:(null===(n=e.context)||void 0===n?void 0:n.duration)||0}};return{customerContext:os(e)?void 0:e.context,rawRumEvent:R({action:{id:G(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:Pt.ACTION,view:{in_foreground:t.wasInPageStateAt(Ki,e.startClocks.relative)}},r),startTime:e.startClocks.relative,domainContext:os(e)?{event:e.event,events:e.events}:{}}}function os(e){return e.type===It}function is(e,t,n,r,o,i,s){const a=function(e,t,n,r,o,i){void 0===i&&(i=Ro);var s=function(e,t){return i({encoder:t.encoder,request:bo(t.endpoint,e.batchBytesLimit,e.retryMaxSize,n),flushController:Ao({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:r,sessionExpireObservable:o}),messageBytesLimit:e.messageBytesLimit,sendContentTypeByJson:e.sendContentTypeByJson})}(e,t);return{flushObservable:s.flushController.flushObservable,add:function(e){s.add(e)},upsert:function(e,t){s.upsert(e,t)},stop:function(){s.stop()}}}(e,{endpoint:e.rumEndpoint,encoder:s(2)},r,o,i);return t.subscribe(Xn,(function(e){e.type===Pt.VIEW?a.upsert(e,e.view.id):a.add(e)})),a}function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var us="synthetics",cs="user",ls={"view.url":"string","view.referrer":"string"},fs={context:"object"};const ds={service:"string",version:"string"};var ps,vs={};function ms(e,t,n,r,o,s,a,u,c,l){vs[Pt.VIEW]=as(as({},fs),ls),vs[Pt.ERROR]=x({"error.message":"string","error.stack":"string","error.resource.url":"string"},fs,ls,ds),vs[Pt.RESOURCE]=x({"resource.url":"string"},fs,ls,ds),vs[Pt.ACTION]=x({"action.target.name":"string"},fs,ls,ds),vs[Pt.LONG_TASK]=x({},fs,ls);var f={};f[Pt.ERROR]=er(Pt.ERROR,e.eventRateLimiterThreshold,l),f[Pt.ACTION]=er(Pt.ACTION,e.eventRateLimiterThreshold,l),t.subscribe(Jn,(function(l){var d,p=l.startTime,v=l.rawRumEvent,m=l.savedCommonContext,g=l.customerContext,y=l.domainContext,h=o.findView(p),_=s.findUrl(p),b=n.findTrackedSession(p);if((!b||!b.isErrorSession||b.sessionHasError)&&(b&&h&&_)){var w=a.findActionId(p),S=a.findAllActionId(p),E=m||c(),C={_gc:{sdkName:e.sdkName,sdkVersion:e.sdkVersion,drift:Math.round(pe()-(_e()+performance.now())),configuration:{session_sample_rate:ie(e.sessionSampleRate,3),session_replay_sample_rate:ie(e.sessionReplaySampleRate,3),session_on_error_sample_rate:ie(e.sessionOnErrorSampleRate,3),session_replay_on_error_sample_rate:ie(e.sessionReplayOnErrorSampleRate,3)}},terminal:{type:"web"},application:{id:e.applicationId},device:$e,webview:{},env:e.env||"",service:h.service||e.service||"browser",version:h.version||e.version||"",source:"browser",date:de(),user:{id:r.getId(),is_signin:"F",is_login:!1},session:{type:void 0===window._DATAFLUX_SYNTHETICS_BROWSER?cs:us,id:b.id,is_forced_session:b.isSessionForced},view:{id:h.id,name:h.name||_.path,url:_.url,referrer:_.referrer,host:_.host,path:_.path,pathGroup:_.pathGroup,pathname:_.pathname,urlQuery:_.urlQuery},action:(d=v,-1!==[Pt.ERROR,Pt.RESOURCE,Pt.LONG_TASK].indexOf(d.type)&&w?{id:w,ids:S}:void 0),display:u.get()},T=Ne(R(C,h,v)),x=R({},E.context,h.context,g);D(x)||(T.context=x),"has_replay"in T.session||(T.session.has_replay=E.hasReplay),b.errorSessionReplayAllowed&&(T.session.has_replay=T.session.has_replay&&b.sessionHasError),"view"===T.type&&(T.session.sampled_for_error_replay=b.errorSessionReplayAllowed,T.session.sampled_for_error_session=b.isErrorSession,T.session.error_timestamp_for_session=b.sessionErrorTimestamp),D(E.context.device)||(T.device=R(T.device,E.context.device)),D(E.context.webview)||(T.webview=R(T.webview,E.context.webview)),D(E.user)||(T.user=R(T.user,{is_signin:"T",is_login:!0},E.user)),function(e,t,n,r){if(t){var o=Qn(e,vs[e.type],(function(e){return t(e,n)}));if(!1===o&&e.type!==Pt.VIEW)return!1;!1===o&&i.warn("Can't dismiss view events using beforeSend!")}var s=!1;r[e.type]&&(s=r[e.type].isLimitReached());return!s}(T,e.beforeSend,y,f)&&(D(T.context)&&delete T.context,t.notify(Xn,T))}}))}function gs(){return ps||(ps=new wn((function(e){var t=z((function(){e.notify(ys())}),200).throttled;return xn(window,gt,t,{capture:!0,passive:!0}).stop}))),ps}function ys(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function hs(t,n,r,o){var i=new wn;!function(t){var n=Cn([e.error]).subscribe((function(e){t.notify(e.error)}))}(i),function(e){en((function(t,n){e.notify(vn({stackTrace:t,originalError:n,startClocks:fe(),nonErrorPrefix:Dt,source:fn,handling:Ut}))}))}(i),function(e,t){var n=An(0,[Rn]).subscribe((function(e){t.notify({startClocks:fe(),message:e.message,stack:e.stack,type:e.subtype,source:pn,handling:Ut})}))}(0,i);var s=r.findTrackedSession();let a=s&&s.isErrorSession&&s.sessionHasError;return s&&s.isErrorSession&&t.subscribe(Hn,(function(){a=!1})),i.subscribe((function(e){s&&s.isErrorSession&&!a&&(r.setErrorForSession(),a=!0),t.notify($n,{error:e})})),function(e,t){return e.subscribe($n,(function(n){e.notify(Jn,x({customerContext:n.customerContext,savedCommonContext:n.savedCommonContext},function(e,t){return{rawRumEvent:{date:e.startClocks.timeStamp,error:{id:G(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser"},type:Pt.ERROR,view:{in_foreground:t.wasInPageStateAt(Ki,e.startClocks.relative)}},startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(n.error,t)))})),{addError:function(t,n){var r=t.error,o=vn({stackTrace:r instanceof Error?zt(r):void 0,originalError:r,handlingStack:t.handlingStack,startClocks:t.startClocks,nonErrorPrefix:Bt,source:dn,handling:jt});e.notify($n,{customerContext:t.context,savedCommonContext:n,error:o})}}}(t,o)}var _s,bs=["data-guance-action-name","data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],ws=[Ts,function(e){if(e.id&&!Cs(e.id))return"#"+j(e.id)}],Ss=[Ts,function(e){if("BODY"===e.tagName)return;if(e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var n=e.classList[t];if(!Cs(n))return j(e.tagName)+"."+j(n)}},function(e){return j(e.tagName)}];function Es(e,t){if(!function(e){if("isConnected"in e)return e.isConnected;return e.ownerDocument.documentElement.contains(e)}(e))return;let n,r=e;for(;r&&"HTML"!==r.nodeName;){const e=ks(r,ws,Os,t,n);if(e)return e;n=ks(r,Ss,Rs,t,n)||Is(xs(r),n),r=r.parentElement}return n}function Cs(e){return/[0-9]/.test(e)}function Ts(e,t){if(t&&(r=o(t)))return r;for(var n=0;n<bs.length;n++){var r;if(r=o(bs[n]))return r}function o(t){if(e.hasAttribute(t))return j(e.tagName)+"["+t+'="'+j(e.getAttribute(t))+'"]'}}function xs(e){for(var t=e.parentElement&&e.parentElement.firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;var r=j(e.tagName);return/^::/.test(r)?r:r+":nth-of-type("+n+")"}function ks(e,t,n,r,o){for(var i=0;i<t.length;i++){var s=(0,t[i])(e,r);if(s&&n(e,s,o))return Is(s,o)}}function Os(e,t,n){return 1===e.ownerDocument.querySelectorAll(Is(t,n)).length}function Rs(e,t,n){let r;if(void 0===n)r=e=>e.matches(t);else{const e=function(){if(void 0===_s)try{document.querySelector(":scope"),_s=!0}catch(e){_s=!1}return _s}()?Is("".concat(t,":scope"),n):Is(t,n);r=t=>null!==t.querySelector(e)}let o=e.parentElement.firstElementChild;for(;o;){if(o!==e&&r(o))return!1;o=o.nextElementSibling}return!0}function Is(e,t){return t?e+">"+t:e}function As(){if($i(zi)){var e=performance.getEntriesByType(zi)[0];if(e)return e}var t=function(){var e={},t=performance.timing;for(var n in t)if(F(t[n])){var r=n,o=t[r];e[r]=0===o?0:ue(o)}return e}(),n=x({entryType:zi,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.responseEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,toJSON:function(){return x({},n,{toJSON:void 0})}},t);return n}function Ps(e,t,n){return void 0===n&&(n=As),function(e){var t,n=to("complete",(function(){t=v((function(){e()}))}));return{stop:function(){n.stop(),m(t)}}}((function(){var e=n();(function(e){return e.loadEventEnd<=0})(e)||t(function(e){return{fetchStart:e.fetchStart,responseEnd:e.responseEnd,domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,loadEventEnd:e.loadEventEnd,loadEventStart:e.loadEventStart,domContentLoadedEventEnd:e.domContentLoadedEventEnd,domContentLoadedEventStart:e.domContentLoadedEventStart,firstByte:e.responseStart>=0&&e.responseStart<=le()?e.responseStart:void 0}}(e))}))}function Ms(e,t){if(void 0===t&&(t=window),"hidden"===document.visibilityState)return{getTimeStamp:()=>0,stop:ee};if($i(Ji)){const t=performance.getEntriesByType(Ji).filter((e=>"hidden"===e.name)).find((t=>t.startTime>=e.relative));if(t)return{getTimeStamp:()=>t.startTime,stop:ee}}let n=1/0;const{stop:r}=kn(t,[dt,rt],(e=>{e.type!==dt&&"hidden"!==document.visibilityState||(n=e.timeStamp,r())}),{capture:!0});return{getTimeStamp:function(){return n},stop:function(){r()}}}function Ns(e,t,n,r){var o={},i=Ps(0,(function(e){n(e.loadEvent),o.navigationTimings=e,r()})),s=Ms(t),a=i.stop,u=function(e,t,n){return{stop:Xi(e,{type:Gi,buffered:!0}).subscribe((function(e){var r=Te(e,(function(e){return e.entryType===Gi&&"first-contentful-paint"===e.name&&e.startTime<t.getTimeStamp()&&e.startTime<6e5}));r&&n(r.startTime)})).unsubscribe}}(e,s,(function(e){o.firstContentfulPaint=e,r()})).stop,c=function(e,t,n,r){var o=1/0,i=kn(n,[ut,Ze],(function(e){o=e.timeStamp}),{capture:!0,once:!0}).stop,s=0,a=Xi(e,{type:qi,buffered:!0}).subscribe((function(n){var i,a=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(n,(function(e){return e.entryType===qi&&e.startTime<o&&e.startTime<t.getTimeStamp()&&e.startTime<6e5&&e.size>s}));a&&(a.element&&(i=Es(a.element,e.actionNameAttribute)),r({value:a.startTime,targetSelector:i}),s=a.size)}));return{stop:function(){i(),a.unsubscribe()}}}(e,s,window,(function(e){o.largestContentfulPaint=e,r()})).stop,l=function(e,t,n){const r=Xi(e,{type:Bi,buffered:!0}).subscribe((function(r){var o=Te(r,(function(e){return e.entryType===Bi&&e.startTime<t.getTimeStamp()}));if(o){var i,s=ve(o.startTime,o.processingStart);o.target&&eo(o.target)&&(i=Es(o.target,e.actionNameAttribute)),n({delay:s>=0?s:0,time:o.startTime,targetSelector:i})}}));return{stop:function(){r.unsubscribe()}}}(e,s,(function(e){o.firstInput=e,r()})).stop;return{stop:function(){a(),u(),c(),l(),s.stop()},initialViewMetrics:o}}function Ls(e,t,n,r){void 0===r&&(r=function(e,t){void 0===t&&(t=1e3);return new wn((function(e){function n(){var t,n,r,o,i,s;e.notify((s=window.visualViewport,i=s?s.pageTop-s.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,t=Math.round(i),n=ys().height,r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),o=Math.round(n+t),{scrollHeight:r,scrollDepth:o,scrollTop:t}))}if(window.ResizeObserver){var r=z(n,t,{leading:!1,trailing:!0}),o=document.scrollingElement||document.documentElement,i=new ResizeObserver(u(r.throttled));o&&i.observe(o);var s=xn(window,tt,r.throttled,{passive:!0});return function(){r.cancel(),i.unobserve(o),s.stop()}}}))}());var o=0,i=0,s=0,a=r.subscribe((function(e){var r=e.scrollDepth,a=e.scrollTop,u=e.scrollHeight,c=!1;if(r>o&&(o=r,c=!0),u>i){i=u;var l=le();s=ve(t.relative,l),c=!0}c&&n({maxDepth:Math.min(o,i),maxDepthScrollTop:a,maxScrollHeight:i,maxScrollHeightTime:s})}));return{stop:function(){return a.unsubscribe()}}}function Vs(e,t,n,r,o){return function(e,t,n){var r,o=!1,i=v((function(){c({hadActivity:!1})}),100),s=void 0!==n?v((function(){return c({hadActivity:!0,end:de()})}),n):void 0,a=e.subscribe((function(e){var t=e.isBusy;m(i),m(r);var n=de();t||(r=v((function(){c({hadActivity:!0,end:n})}),100))})),u=function(){o=!0,m(i),m(r),m(s),a.unsubscribe()};function c(e){o||(u(),t(e))}return{stop:u}}(function(e,t,n){return new wn((function(r){var o,i=[],s=0;i.push(t.subscribe((()=>{u()})),Xi(n,{type:Wi}).subscribe((function(e){V(e,(function(e){return!js(n,e.name)}))&&u()})),e.subscribe(Gn,(function(e){js(n,e.url)||(void 0===o&&(o=e.requestIndex),s+=1,u())})),e.subscribe(Wn,(function(e){js(n,e.url)||void 0===o||e.requestIndex<o||(s-=1,u())})));var a=_n(window,"open",u).stop;return function(){a(),T(i,(function(e){e.unsubscribe()}))};function u(){r.notify({isBusy:s>0})}}))}(e,t,n),r,o)}function js(e,t){return n=e.excludedActivityUrls,r=t,void 0===o&&(o=!1),V(n,(function(e){try{if("function"==typeof e)return e(r);if(e instanceof RegExp)return e.test(r);if("string"==typeof e)return o?Ue(r,e):e===r}catch(e){i.error(e)}return!1}));var n,r,o}function Us(e,t,n){if(!qs())return{stop:ee};var r,o,i=0;n({value:0});var s=function(){var e,t,n=0,r=0;return{update:function(o){var i;return void 0===e||o.startTime-t>=1e3||o.startTime-e>=25e3?(e=t=o.startTime,r=n=o.value,i=!0):(n+=o.value,t=o.startTime,(i=o.value>r)&&(r=o.value)),{cumulatedValue:n,isMaxValue:i}}}}(),a=Xi(e,{type:Hi,buffered:!0}).subscribe((function(a){for(var u=0,c=a;u<c.length;u++){var l=c[u];if(!(l.hadRecentInput||l.startTime<t)){var f=s.update(l),d=f.cumulatedValue;if(f.isMaxValue){var p=Ds(l.sources);r=p?new WeakRef(p):void 0,o=ve(t,l.startTime)}if(d>i){i=d;p=r&&r.deref();n({value:ie(i,4),targetSelector:p&&Es(p,e.actionNameAttribute),time:o})}}}}));return{stop:function(){a.unsubscribe()}}}function Ds(e){if(e){var t=Te(e,(function(e){return!!e.node&&eo(e.node)}));return t&&t.node}}var Bs;function qs(){return $i(Hi)&&"WeakRef"in window}var Hs=0,Fs=1/0,zs=0;var Gs=function(){return Bs?Hs:window.performance.interactionCount||0};const Ws=new Map;function Js(e,t,n){if(!($i("event")&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:ee,stop:ee};var r=function(e){"interactionCount"in performance||Bs||(Bs=new window.PerformanceObserver(u((function(e){e.getEntries().forEach((function(e){const t=e;t.interactionId&&(Fs=Math.min(Fs,t.interactionId),zs=Math.max(zs,t.interactionId),Hs=(zs-Fs)/7+1)}))})))).observe({type:"event",buffered:!0,durationThreshold:0});var t=e===Mt?0:Gs(),n={stopped:!1};function r(){return Gs()-t}return{getViewInteractionCount:function(){return n.stopped?n.interactionCount:r()},stopViewInteractionCount:function(){n={stopped:!0,interactionCount:r()}}}}(n),o=r.getViewInteractionCount,i=r.stopViewInteractionCount;let s=1/0;var a,c,l=function(e){var t=[];function n(){t.sort((function(e,t){return t.duration-e.duration})).splice(10)}return{process:function(e){var r=t.findIndex((function(t){return e.interactionId===t.interactionId})),o=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>o.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(o),f=-1;function d(n){for(var r=0,o=n;r<o.length;r++){var i=o[r];i.interactionId&&i.startTime>=t&&i.startTime<=s&&l.process(i)}var u=l.estimateP98Interaction();u&&u.duration!==f&&(f=u.duration,c=ve(t,u.startTime),!(a=function(e){const t=Ws.get(e);return Ws.delete(e),t}(u.startTime))&&u.target&&eo(u.target)&&(a=Es(u.target,e.actionNameAttribute)))}var p=Xi(e,{type:Bi,buffered:!0}).subscribe(d),v=Xi(e,{type:Di,durationThreshold:40,buffered:!0}).subscribe(d);return{getInteractionToNextPaint:function(){return f>=0?{value:Math.min(f,6e4),targetSelector:a,time:c}:o()?{value:0}:void 0},setViewEnd:function(e){s=e,i()},stop:function(){v.unsubscribe(),p.unsubscribe()}}}function Xs(e,t,n,r,o,i){var s={},a=function(e,t,n,r,o,i){var s=r===Mt,a=!0,u=[],c=Ms(o);function l(){if(!a&&!s&&u.length>0){var e=Math.max.apply(Math,u);e<c.getTimeStamp()-o.relative&&i(e)}}var f=Vs(e,t,n,(function(e){a&&(a=!1,e.hadActivity&&u.push(ve(o.timeStamp,e.end)),l())})).stop;return{setLoadEvent:function(e){s&&(s=!1,u.push(e),l())},stop:function(){f(),c.stop(),a&&(a=!1,l())}}}(e,t,n,o,i,(function(e){s.loadingTime=e,r()})),u=a.stop,c=a.setLoadEvent,l=Ls(0,i,(function(e){s.scroll=e})).stop,f=Us(n,i.relative,(function(e){s.cumulativeLayoutShift=e,r()})).stop,d=Js(n,i.relative,o),p=d.stop,v=d.getInteractionToNextPaint;return{stop:function(){u(),f(),l()},stopINPTracking:p,setLoadEvent:c,setViewEnd:d.setViewEnd,getCommonViewMetrics:function(){return s.interactionToNextPaint=v(),s}}}function $s(e,t,n){var r=function(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange;void 0===r&&(r=ee);var o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},i=t.subscribe(Xn,(function(e){if(e.type!==Pt.VIEW&&n(e))switch(e.type){case Pt.ERROR:o.errorCount+=1,r();break;case Pt.ACTION:e.action.frustration&&(o.frustrationCount+=e.action.frustration.type.length),o.actionCount+=1,r();break;case Pt.LONG_TASK:o.longTaskCount+=1,r();break;case Pt.RESOURCE:o.resourceCount+=1,r()}}));return{stop:function(){i.unsubscribe()},eventCounts:o}}({lifeCycle:e,isChildEvent:function(e){return e.view.id===t},onChange:n});return{stop:r.stop,eventCounts:r.eventCounts}}var Ks=3e5,Qs=3e5;function Zs(e,t,n,r,o,i,s){var a=new Set;function u(o,i,s){var u=function(e,t,n,r,o,i,s){void 0===i&&(i=fe());var a,u=G(),c=new wn,l={},f=0,d=k(r);const p=Uo();var m,h,_,b,w=!0;s&&(m=s.name,h=s.service,_=s.version,b=s.context);b&&p.setContext(b);var S={id:u,name:m,startClocks:i,service:h,version:_};e.notify(Vn,S),e.notify(jn,S);var E=z(F,3e3,{leading:!1}),C=E.throttled,T=E.cancel,x=Xs(e,t,n,H,o,i),O=x.setLoadEvent,R=x.stop,I=x.getCommonViewMetrics,A=x.stopINPTracking,P=x.setViewEnd,M=o===Mt?Ns(n,i,O,H):{stop:ee,initialViewMetrics:{}},N=M.stop,L=M.initialViewMetrics,V=$s(e,u,H),j=V.stop,U=V.eventCounts,D=g(F,Ks);const B=e.subscribe(zn,(e=>{e.reason===Yr.UNLOADING&&F()}));function q(){e.notify(Dn,{id:u,name:m,context:p.getContext(),startClocks:i})}function H(){q(),C()}function F(){T(),q(),f+=1;var t=void 0===a?de():a.timeStamp;e.notify(Un,{customTimings:l,documentVersion:f,id:u,name:m,service:h,version:_,context:p.getContext(),loadingType:o,location:d,startClocks:i,commonViewMetrics:I(),initialViewMetrics:L,duration:ve(i.timeStamp,t),isActive:void 0===a,sessionIsActive:w,eventCounts:U})}F(),p.changeObservable.subscribe(H);var W={name:m,service:h,version:_,contextManager:p,stopObservable:c,end:function(t){a||(a=Ve(t&&t.endClocks,fe()),w=Ve(t&&t.sessionIsActive,!0),e.notify(Bn,{endClocks:a}),e.notify(qn,{endClocks:a}),y(D),P(a.relative),R(),B.unsubscribe(),F(),v((function(){W.stop()}),Qs))},stop:function(){N(),j(),A(),c.notify()},addTiming:function(e,t){if(!a){var n=function(e){return e<31536e6}(t)?t:ve(i.timeStamp,t);l[function(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");t!==e&&console.warn("Invalid timing name: "+e+", sanitized to: "+t);return t}(e)]=n,H()}},setViewName(e){m=e,F()}};return W}(t,n,r,e,o,i,s);return a.add(u),u.stopObservable.subscribe((function(){a.delete(u)})),u}var c,l=u(Mt,me(),s);return t.subscribe(Hn,(function(){l=u(Nt,void 0,{name:l.name,service:l.service,version:l.version,context:l.contextManager.getContext()})})),t.subscribe(Fn,(function(){l.end({sessionIsActive:!1})})),i&&(c=function(e){return e.subscribe((function(e){var t,n,r,o,i=e.oldLocation,s=e.newLocation;if(n=s,(t=i).pathname!==n.pathname||(r=n.hash,!((o=r.substr(1))&&document.getElementById(o)||Be(n.hash)===Be(t.hash))))return l.end(),void(l=u(Nt))}))}(o)),{addTiming:function(e,t){void 0===t&&(t=de()),l.addTiming(e,t)},startView:function(e,t){l.end({endClocks:t}),l=u(Nt,t,e)},setViewContext:e=>{l.contextManager.setContext(e)},setViewContextProperty:(e,t)=>{l.contextManager.setContextProperty(e,t)},setViewName:e=>{l.setViewName(e)},getViewContext:()=>l.contextManager.getContext(),stop:function(){c&&c.unsubscribe(),l.end(),a.forEach((function(e){e.stop()}))}}}function Ys(e,t,n,r,o,i,s,a){return e.subscribe(Un,(function(n){e.notify(Jn,function(e,t,n,r){var o=r.findAll(e.startClocks.relative,e.duration),i={_gc:{document_version:e.documentVersion,page_states:o,view_update_time:e.documentVersion},date:e.startClocks.timeStamp,type:Pt.VIEW,view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:we(e.commonViewMetrics,"cumulativeLayoutShift.value"),cumulative_layout_shift_time:we(e.commonViewMetrics,"cumulativeLayoutShift.time"),cumulative_layout_shift_target_selector:we(e.commonViewMetrics,"cumulativeLayoutShift.targetSelector"),first_byte:ae(we(e.initialViewMetrics,"navigationTimings.firstByte")),dom_complete:ae(we(e.initialViewMetrics,"navigationTimings.domComplete")),dom_content_loaded:ae(we(e.initialViewMetrics,"navigationTimings.domContentLoaded")),dom_interactive:ae(we(e.initialViewMetrics,"navigationTimings.domInteractive")),error:{count:e.eventCounts.errorCount},first_contentful_paint:ae(we(e.initialViewMetrics,"firstContentfulPaint")),first_input_delay:ae(we(e.initialViewMetrics,"firstInput.delay")),first_input_time:ae(we(e.initialViewMetrics,"firstInput.time")),first_input_target_selector:we(e.initialViewMetrics,"firstInput.targetSelector"),interaction_to_next_paint:ae(we(e.commonViewMetrics,"interactionToNextPaint.value")),interaction_to_next_paint_target_selector:we(e.commonViewMetrics,"interactionToNextPaint.targetSelector"),is_active:e.isActive,name:e.name,largest_contentful_paint:ae(we(e.initialViewMetrics,"largestContentfulPaint.value")),largest_contentful_paint_element_selector:we(e.initialViewMetrics,"largestContentfulPaint.targetSelector"),load_event:ae(we(e.initialViewMetrics,"navigationTimings.loadEvent")),loading_time:qe(ae(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:ae(e.duration)},display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:ae(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{is_active:!!e.sessionIsActive&&void 0},privacy:{replay_level:t.defaultPrivacyLevel}};D(e.customTimings)||(i.view.custom_timings=(s=e.customTimings,a=ae,u={},T(s,(function(e,t){u[t]=a(e)})),u));var s,a,u;return{rawRumEvent:i=R(i,{view:ea(e.initialViewMetrics.navigationTimings)}),startTime:e.startClocks.relative,domainContext:{location:e.location}}}(n,t,0,i))})),Zs(n,e,r,t,o,!t.trackViewsManually,a)}function ea(e){if(e){var t=e.fetchStart,n=e.responseEnd,r=e.domInteractive,o=e.domContentLoaded,i=e.domComplete,s=e.loadEventEnd,a=e.loadEventStart,u=e.domContentLoadedEventEnd,c={};if(F(n)&&F(t)&&n!==t&&n>t){c.fpt=ae(n-t);var l=parseInt((n-t)/1e3);c.apdexLevel=l>9?9:l}return F(r)&&F(t)&&r!==t&&r>t&&(c.tti=ae(r-t)),F(o)&&F(t)&&o!==t&&o>t&&(c.dom_ready=ae(o-t)),F(s)&&F(t)&&s!==t&&s>t&&(c.load=ae(s-t)),F(a)&&F(u)&&a!==u&&a>u&&(c.resource_load_time=ae(a-u)),F(i)&&F(r)&&i!==r&&i>r&&(c.dom=ae(i-r)),c}}function ta(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}var na=1;function ra(e,t,n){var r={clearTracingIfNeeded:ta,traceFetch:function(e){},traceXhr:function(e,t){}};!function(e,t,n){var r=$r().subscribe((function(r){var o=r;if(Mi(t,o.url))switch(o.state){case"start":n.traceXhr(o,o.xhr),o.requestIndex=oa(),e.notify(Gn,{requestIndex:o.requestIndex,url:o.url});break;case"complete":n.clearTracingIfNeeded(o),e.notify(Wn,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:Lt.XHR,url:o.url,xhr:o.xhr,isAborted:o.isAborted,requestHeaderContexts:o.requestHeaderContexts,handlingStack:o.handlingStack})}}))}(e,t,r),function(e,t,n){var r=Jr().subscribe((function(r){var o=r;if(Mi(t,o.url))switch(o.state){case"start":n.traceFetch(o),o.requestIndex=oa(),e.notify(Gn,{requestIndex:o.requestIndex,url:o.url});break;case"resolve":!function(e,t){var n=e.response&&function(e){try{return e.clone()}catch(e){return}}(e.response);n&&n.body?function(e,t,n){var r=e.getReader(),o=[],i=0;function s(){var e,s;if(r.cancel().catch(ee),n.collectStreamBody){var a;if(1===o.length)a=o[0];else{a=new Uint8Array(i);var u=0;T(o,(function(e){a.set(e,u),u+=e.length}))}e=a.slice(0,n.bytesLimit),s=a.length>n.bytesLimit}t(void 0,e,s)}!function e(){r.read().then(u((function(t){t.done?s():(n.collectStreamBody&&o.push(t.value),(i+=t.value.length)>n.bytesLimit?s():e())})),u((function(e){t(e)})))}()}(n.body,(function(){t(ve(e.startClocks.timeStamp,de()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t(ve(e.startClocks.timeStamp,de()))}(o,(function(t){var r;n.clearTracingIfNeeded(o),e.notify(Wn,{duration:t,method:o.method,requestIndex:o.requestIndex,responseType:o.responseType,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,requestHeaderContexts:null===(r=o.init)||void 0===r?void 0:r.headers,type:Lt.FETCH,url:o.url,response:o.response,init:o.init,input:o.input,isAborted:o.isAborted,handlingStack:o.handlingStack})}))}}))}(e,t,r)}function oa(){var e=na;return na+=1,e}var ia=new Yo;function sa(e){if(!performance||!("getEntriesByName"in performance))return;var t=performance.getEntriesByName(e.url,"resource");if(!t.length||!("toJSON"in t[0]))return;var n=N(t,(function(e){return!ia.has(e)}));let r;if(n=N(n,(function(e){return Oi(e)&&Ri(e)})),(n=N(n,(function(t){return n=t,r=e.startClocks.relative,o=aa({startTime:e.startClocks.relative,duration:e.duration}),i=1,n.startTime>=r-i&&aa(n)<=ye(o,i);var n,r,o,i}))).length>1){let t=Number.MAX_SAFE_INTEGER;n.forEach((n=>{const o=Math.abs(n.startTime-e.startClocks.relative);o<t&&(t=o,r=n)}))}else 1===n.length&&(r=n[0]);return r?(ia.add(r),r.toJSON()):void 0}function aa(e){return ye(e.startTime,e.duration)}function ua(e,t){to("interactive",(function(){var e=x(As().toJSON(),{entryType:Wi,initiatorType:hi,toJSON:function(){return x({},e,{toJSON:void 0})}});t(e)}))}function ca(e,t,n,r,o){void 0===r&&(r=function(){const e=[];function t(t){let r;if(t.didTimeout){const e=performance.now();r=function(){return 30-(performance.now()-e)}}else r=t.timeRemaining.bind(t);for(;r()>0&&e.length;)e.shift()();e.length&&n()}function n(){rr(t,{timeout:1e3})}return{push:function(t){1===e.push(t)&&n()}}}()),void 0===o&&(o=ua),e.subscribe(Wn,(function(e){s((function(){return function(e,t){var n=sa(e),r=n?ge(n.startTime):e.startClocks,o=function(e){if(!(e.traceSampled&&e.traceId&&e.spanId))return;return{_gc:{spanId:e.spanId,traceId:e.traceId},resource:{id:G()}}}(e),i=e.type===Lt.XHR?bt:St,s=n?fa(n):void 0,a=function(e,t,n){return e.wasInPageStateDuringPeriod(Yi,t.relative,n)?void 0:ae(n)}(t,r,e.duration),u=J(e.url).getParse(),c=R({date:r.timeStamp,resource:{id:G(),type:i,duration:a,method:e.method,status:e.status,statusGroup:Y(e.status),url:Li(e.url)?Vi(e.url):e.url,urlHost:u.Host,urlPath:u.Path,urlPathGroup:W(u.Path),urlQuery:X(e.url),deliveryType:n&&Si(n),protocol:n&&Ei(n)},type:Pt.RESOURCE},o,s);return{startTime:r.relative,rawRumEvent:c,domainContext:{performanceEntry:n,xhr:e.xhr,requestHeaderContexts:e.requestHeaderContexts,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}(e,n)}))}));var i=Xi(t,{type:Wi,buffered:!0}).subscribe((function(e){for(var n=function(e){(function(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType})(e)||Ti(e.name,t.resourceUrlLimit)||s((function(){return la(e,t)}))},r=0,o=e;r<o.length;r++){n(o[r])}}));function s(t){r.push((function(){const n=t();n&&e.notify(Jn,n)}))}return o(t,(function(e){s((function(){return la(e,t)}))})),{stop:function(){i.unsubscribe()},addResource:(e,t)=>{s((function(){return O({savedCommonContext:t},function(e){var t={date:e.startClocks.timeStamp,resource:{id:G(),type:e.type},type:Pt.RESOURCE};return{customerContext:e.context,startTime:e.startClocks.relative,rawRumEvent:t,domainContext:{resource:e}}}(e))}))}}}function la(e,t){var n,r=ge(e.startTime),o=function(e){return e.traceId?{_gc:{traceId:e.traceId}}:void 0}(e),i=bi(e),s=fa(e),a=J(e.name).getParse(),u=R({date:r.timeStamp,resource:{id:G(),type:i,url:e.name,urlHost:a.Host,urlPath:a.Path,urlPathGroup:W(a.Path),urlQuery:X(e.name),method:"GET",status:(n=e.responseStatus,0===n?void 0:n),statusGroup:Y(e.responseStatus),deliveryType:Si(e),protocol:Ei(e)},type:Pt.RESOURCE},o,s);return{startTime:r.relative,rawRumEvent:u,domainContext:{performanceEntry:e}}}function fa(e){return{resource:R({},{duration:xi(e)},Pi(e),ki(e))}}var da={sdkVersion:"3.2.42",sdkName:"df_web_rum_sdk"};function pa(e){if(e.applicationId){if(function(e){return e.site||e.datakitOrigin||e.datakitUrl?!(e.site&&!e.clientToken&&(i.error("clientToken is not configured, no RUM data will be collected."),1)):(i.error("datakitOrigin or site is not configured, no RUM data will be collected."),!1)}(e))if(void 0===e.sessionOnErrorSampleRate||ke(e.sessionOnErrorSampleRate))if(void 0===e.sessionReplaySampleRate||ke(e.sessionReplaySampleRate))if(void 0===e.sessionReplayOnErrorSampleRate||ke(e.sessionReplayOnErrorSampleRate)){var t=function(e){void 0!==e.allowedTracingUrls&&void 0!==e.allowedTracingOrigins&&i.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins.");if(void 0!==e.allowedTracingUrls){if(!I(e.allowedTracingUrls))return void i.error("Allowed Tracing URLs should be an array");var t=[];return T(e.allowedTracingUrls,(function(n){var r;Ee(n)?t.push({match:n,traceType:Ve(e.traceType,Vt)}):"object"===K(r=n)&&Ee(r.match)&&q(r.traceType)?t.push(n):i.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)})),t}return[]}(e);if(t)if(void 0===e.tracingSampleRate||ke(e.tracingSampleRate))if(void 0===e.excludedActivityUrls||I(e.excludedActivityUrls)){var n=Wr(e);if(n){var r=!!Ve(e.trackUserInteractions,e.trackInteractions);return x({applicationId:e.applicationId,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:Ve(e.sessionReplaySampleRate,100),sessionOnErrorSampleRate:Ve(e.sessionOnErrorSampleRate,0),sessionReplayOnErrorSampleRate:Ve(e.sessionReplayOnErrorSampleRate,0),tracingSampleRate:Ve(e.tracingSampleRate,100),allowedTracingUrls:t,injectTraceHeader:e.injectTraceHeader&&f(e.injectTraceHeader,"injectTraceHeader threw an error:"),generateTraceId:e.generateTraceId&&f(e.generateTraceId,"generateTraceId threw an error:"),excludedActivityUrls:Ve(e.excludedActivityUrls,[]),workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:r,enableLongAnimationFrame:!!e.enableLongAnimationFrame,trackViewsManually:!!e.trackViewsManually,traceType:Ve(e.traceType,Vt),traceId128Bit:!!e.traceId128Bit,defaultPrivacyLevel:je(Gr,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:Gr.MASK_USER_INPUT,shouldMaskNode:e.shouldMaskNode&&f(e.shouldMaskNode,"shouldMaskNode threw an error:")},n,da)}}else i.error("Excluded Activity Urls should be an array");else i.error("Tracing Sample Rate should be a number between 0 and 100")}else i.error("Error Session Replay Sample Rate should be a number between 0 and 100");else i.error("Session Replay Sample Rate should be a number between 0 and 100");else i.error("Error Session  Sample Rate should be a number between 0 and 100")}else i.error("Application ID is not configured, no RUM data will be collected.")}function va(e,t,n){var r,o,s,a,u=e.ignoreInitIfSyntheticsWillInjectRum,c=(r=[],{add:function(e){r.push(e)>500&&r.splice(0,1)},remove:function(e){De(r,e)},drain:function(e){r.forEach((function(t){t(e)})),r.length=0}});function l(){if(s&&a){var e;if(a.trackViewsManually){if(!o)return;c.remove(o.callback),e=o.options}var t=n(a,undefined,e);c.drain(t)}}return{init:function(e){e?(s=e,u&&Boolean(window._GUANCE_SYNTHETICS_INJECTS_RUM||fr("guance-synthetics-injects-rum"))||e.remoteConfiguration||function(e,t){if(s=e,a)ei("DATAFLUX_RUM",e);else{var n=pa(e);n&&(a=n,Jr().subscribe(ee),l())}}(e)):i.error("Missing configuration")},getInitConfiguration:function(){return s},getInternalContext:ee,stopSession:ee,setForcedSession:ee,addTiming:function(e,t){void 0===t&&(t=de()),c.add((function(n){n.addTiming(e,t)}))},startView:function(e,t){void 0===t&&(t=fe());const n=function(n){n.startView(e,t)};c.add(n),o||(o={options:e,callback:n},l())},setViewName(e){c.add((t=>t.setViewName(e)))},setViewContext(e){c.add((t=>t.setViewContext(e)))},setViewContextProperty(e,t){c.add((n=>n.setViewContextProperty(e,t)))},getViewContext:()=>{},addTypeAction:function(e,n,r){void 0===r&&(r=t()),c.add((function(t){t.addTypeAction(e,n,r)}))},addAction:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addAction(e,n)}))},addResource:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addResource(e,n)}))},addError:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addError(e,n)}))}}}var ma,ga,ya,ha,_a=function(e,t,n){void 0===n&&(n={});const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo;const t=new Map;let n=!1;function r(){if(n||e===Wo)return;const r=e===Xo?zo:Go;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.forEach((e=>{o+=e.getBytesCount()})),o>r&&(Ko(r),n=!0)}return{createDetachedTracker:()=>{const e=$o((()=>r(e.getBytesCount())));return e},getOrCreateTracker:e=>(t.has(e)||t.set(e,$o(r)),t.get(e)),setCompressionStatus:t=>{e===Wo&&(e=t,r())},getCompressionStatus:()=>e,stop:()=>{t.forEach((e=>e.stop())),t.clear()}}}(Wo),o=Uo("global",{customerDataTracker:r.getOrCreateTracker(Bo)}),s=Uo("user",{customerDataTracker:r.getOrCreateTracker(Do),propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}});function l(){return function(e,t,n){return{context:e.getContext(),user:t.getContext(),hasReplay:!1}}(o,s)}let f=va(n,l,(function(i,a,u){i.storeContextsToLocal&&(Fo(i,o,"rum",Bo),Fo(i,s,"rum",Do)),r.setCompressionStatus(a?Jo:Xo);var c=e(i,t,r,l,u,a&&n.createDeflateEncoder?function(e){return n.createDeflateEncoder(a,e)}:Qo);return f=function(e,t){return x({init:function(e){ei("DATAFLUX_RUM",e)},initConfiguration:e.getInitConfiguration()},t)}(f,c),c}));const d=u((function(e){const t="object"==typeof e?e:{name:e};f.startView(t),t.context&&r.getOrCreateTracker(qo).updateCustomerData(t.context)}));var p,v;return p={init:u((function(e){f.init(e)})),setViewName:u((e=>{f.setViewName(e)})),setViewContext:u((e=>{f.setViewContext(e)})),setViewContextProperty:u(((e,t)=>{f.setViewContextProperty(e,t)})),getViewContext:u((()=>f.getViewContext())),setGlobalContextProperty:u((function(e,t){o.setContextProperty(e,t)})),removeGlobalContextProperty:u((function(e){return o.removeContextProperty(e)})),getGlobalContext:u((function(){return o.getContext()})),setGlobalContext:u((function(e){o.setContext(e)})),clearGlobalContext:u((function(){return o.clearContext()})),getInitConfiguration:u((function(){return Z(f.initConfiguration)})),getInternalContext:u((function(e){return f.getInternalContext(e)})),addResource:u((function(e){const t=mn();c((function(){f.addResource({context:on(e),startClocks:fe(),type:Rt,handlingStack:t})}))})),addTypeAction:u((function(e,t,n){const r=mn();c((function(){const o=on(t);f.addAction({name:on(e),context:on(n),startClocks:fe(),type:"string"===K(o)?o:At,handlingStack:r})}))})),addAction:u((function(e,t){const n=mn();c((function(){f.addAction({name:on(e),context:on(t),startClocks:fe(),type:At,handlingStack:n})}))})),addError:u((function(e,t){var n=mn();c((function(){f.addError({error:e,handlingStack:n,context:on(t),startClocks:fe()})}))})),addTiming:u((function(e,t){f.addTiming(on(e),t)})),setUser:u((function(e){(function(e){var t="object"===K(e);return t||i.error("Unsupported user:",e),t})(e)&&s.setContext(Zo(e))})),getUser:u((function(){return s.getContext()})),setUserProperty:u((function(e,t){var n={};n[e]=t;var r=Zo(n)[e];s.setContextProperty(e,r)})),removeUserProperty:u((function(e){return s.removeContextProperty(e)})),clearUser:u((function(){return s.clearContext()})),startView:d,stopSession:u((function(){f.stopSession()})),setForcedSession:u((function(){f.setForcedSession(),addTelemetryUsage({feature:"set-forced-session"})}))},v=x({onReady:function(e){e()}},p),Object.defineProperty(v,"_setDebug",{get:function(){return a},enumerable:!1}),v}((function(e,t,n,r,o,i){var s=[],a=new Kn,u=function(e){a.notify($n,{error:e})},c=new wn((function(e){var t=kn(window,[rt,it],(function(t){t.type===rt&&"hidden"===document.visibilityState?e.notify({reason:Yr.HIDDEN}):t.type===it&&e.notify({reason:Yr.FROZEN})}),{capture:!0}),n=xn(window,Ke,(function(){e.notify({reason:Yr.UNLOADING})}));return function(){t.stop(),n.stop()}})),l=c.subscribe((function(e){a.notify(zn,e)}));s.push((function(){l.unsubscribe()}));var f=Po()?void 0:fi(e,a);if(!Po()){var d=is(e,a,0,u,c,f.expireObservable,i);s.push((function(){d.stop()}))}var p=vi(e),v=mi(),m=gi(location),g=ts(),y=function(e,t,n,r,o,i,s,a,u,c){var l=function(e){var t=Ge({expireDelay:144e5});return e.subscribe(Vn,(function(e){t.add(function(e){return{service:e.service,version:e.version,context:e.context,id:e.id,name:e.name,startClocks:e.startClocks}}(e),e.startClocks.relative)})),e.subscribe(qn,(function(e){t.closeActive(e.endClocks.relative)})),e.subscribe(Dn,(e=>{const n=t.find(e.startClocks.relative);n&&e.name&&(n.name=e.name),n&&e.context&&(n.context=e.context)})),e.subscribe(Hn,(function(){t.reset()})),{findView:function(e){return t.find(e)},stop:function(){t.stop()}}}(e),f=function(e,t,n){var r,o=Ge({expireDelay:144e5});e.subscribe(Vn,(function(e){var t=n.href;o.add(s({url:t,location:n,referrer:r||document.referrer}),e.startClocks.relative),r=t})),e.subscribe(qn,(function(e){o.closeActive(e.endClocks.relative)}));var i=t.subscribe((function(e){var t=o.find();if(t){var n=le();o.closeActive(n),o.add(s({url:e.newLocation.href,location:e.newLocation,referrer:t.referrer},!0),n)}}));function s(e){var t=e.location.pathname,n=t,r=e.location.hash;return r&&0===r.indexOf("#/")&&(n="/"+Be(r)),{url:e.url,referrer:e.referrer,host:e.location.host,path:n,pathGroup:W(n),urlQuery:X(e.location.href),pathname:t}}return{findUrl:function(e){return o.find(e)},stop:function(){i.unsubscribe(),o.stop()}}}(e,s,n),d=function(e,t,n,r){return e.subscribe(Ln,(function(t){e.notify(Jn,rs(t,r))})),{actionContexts:{findActionId:ee,findAllActionId:ee},addAction:function(t,n){e.notify(Jn,O({savedCommonContext:n},rs(t,r)))}}}(e,0,0,i),p=d.actionContexts,v=d.addAction,m=(g=ys(),{get:function(){return{viewport:g}},stop:gs().subscribe((function(e){g=e})).unsubscribe});var g;return ms(t,e,r,o,l,f,p,m,u,c),{viewContexts:l,urlContexts:f,pageStateHistory:i,addAction:v,actionContexts:p,stop:function(){m.stop(),i.stop(),f.stop(),l.stop()}}}(a,e,location,f,p,g,m,0,r,u),h=y.viewContexts,_=y.urlContexts,b=y.actionContexts,w=y.stop,S=y.addAction;s.push(w);const{addTiming:E,startView:C,setViewName:T,setViewContext:x,setViewContextProperty:k,getViewContext:R,stop:I}=Ys(a,e,location,v,m,g,0,o);s.push(I);const A=ca(a,e,g);var P=A.addResource;s.push(A.stop);var M=hs(a,0,f,g).addError;ra(a,e);var N=function(e,t,n,r,o){return{get:function(i){var s=n.findView(i),a=o.findUrl(i),u=t.findTrackedSession(i);if(u&&s&&a){var c=r.findActionId(i),l=r.findAllActionId(i);return{application:{id:e},session:{id:u.id},userAction:c?{id:c,ids:l}:void 0,view:{id:s.id,name:s.name||a.path,url:a.url,referrer:a.referrer,host:a.host,path:a.path,pathGroup:a.pathGroup,pathname:a.pathname,urlQuery:a.urlQuery}}}}}}(e.applicationId,f,h,b,_);return{addResource:P,addAction:S,addError:M,addTiming:E,configuration:e,startView:C,setViewContext:x,setViewContextProperty:k,getViewContext:R,setViewName:T,lifeCycle:a,viewContexts:h,session:f,setForcedSession:function(){f.setForcedSession()},stopSession:function(){f.expire()},getInternalContext:N.get,stop:function(){s.forEach((function(e){e()}))}}}),"recorderApi",{startDeflateWorker:null,createDeflateEncoder:null});ma=d(),ya=_a,ha=ma[ga="DATAFLUX_RUM"],ma[ga]=ya,ha&&ha.q&&T(ha.q,(function(e){f(e,"onReady callback threw an error:")()}))}();
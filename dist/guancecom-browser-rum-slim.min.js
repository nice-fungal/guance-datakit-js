!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},n=console,r={};Object.keys(t).forEach((function(e){r[e]=n[e]}));var i,o="GUANCE Browser SDK:",a={debug:r.debug.bind(n,o),log:r.log.bind(n,o),info:r.info.bind(n,o),warn:r.warn.bind(n,o),error:r.error.bind(n,o)},s=!1;function u(e){s=e}function c(e){return function(){return f(e,this,arguments)}}function f(e,t,n){try{return e.apply(t,n)}catch(e){if(l(e),i)try{i(e)}catch(e){l(e)}}}function l(){var e=[].slice.call(arguments);s&&a.error.apply(null,["[MONITOR]"].concat(e))}function d(e,t){return function(){var n=[].slice.call(arguments);try{return e.apply(this,n)}catch(e){a.error(t,e)}}}function p(){if("object"===("undefined"==typeof globalThis?"undefined":e(globalThis)))return globalThis;Object.defineProperty(Object.prototype,"_gc_temp_",{get:function(){return this},configurable:!0});var t=_gc_temp_;return delete Object.prototype._gc_temp_,"object"!==e(t)&&(t="object"===("undefined"==typeof self?"undefined":e(self))?self:"object"===("undefined"==typeof window?"undefined":e(window))?window:{}),t}function v(e,t){var n,r=p();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function m(e,t){return v(p(),"setTimeout")(c(e),t)}function g(e){v(p(),"clearTimeout")(e)}function y(e,t){return v(p(),"setInterval")(c(e),t)}function h(e){v(p(),"clearInterval")(e)}var _=Array.prototype,b=(Function.prototype,Object.prototype),w=_.slice,S=b.toString,E=b.hasOwnProperty,T=_.forEach,C=Array.isArray,x=function(e,t,n){if(null===e)return!1;if(T&&e.forEach===T)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&false===t.call(n,e[r],r,e))return!1}else for(var o in e)if(E.call(e,o)&&false===t.call(n,e[o],o,e))return!1};function k(e){return x(w.call(arguments,1),(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function O(e){return k({},e)}var R=function(e){return x(w.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},I=function(e){return x(w.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(j(t[n])&&j(e[n])?R(e[n],t[n]):e[n]=t[n])})),e},A=C||function(e){return"[object Array]"===S.call(e)},P=function(e){if(!e)return!1;try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},N=function(e){return e?e.toArray?e.toArray():A(e)?w.call(e):(t=e)&&E.call(t,"callee")?w.call(e):L(e):[];var t},L=function(e){var t=[];return null===e||x(e,(function(e){t[t.length]=e})),t},M=function(e,t,n){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)if(E.call(e,i)){var o=e[i];t.call(n,o,i,e)&&r.push(o)}return r},U=function(e,t,n){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)if(E.call(e,i)){var o=e[i];r.push(t.call(n,o,i,e))}return r},D=function(e,t,n){if(e.some)return e.some(t);for(var r=!1,i=0;i<e.length;i++)if(E.call(e,i)){var o=e[i];if(t.call(n,o,i,e)){r=!0;break}}return r},V=function(e){return e+="",window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}))},j=function(e){return null!==e&&"[object Object]"===S.call(e)},B=function(e){if(j(e)){for(var t in e)if(E.call(e,t))return!1;return!0}return!1},q=function(e){var t=[];return x(e,(function(e,n){t.push([n,e])})),t},z=function(e){return"[object String]"===S.call(e)},H=function(e){return"[object Boolean]"===S.call(e)},F=function(e){return"[object Number]"===S.call(e)&&/[\d\.]+/.test(String(e))},G=(Date.now,function(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1,u=this;return{throttled:function(){s?r=arguments:(o?e.apply(u,arguments):r=arguments,s=!0,i=m((function(){a&&r&&e.apply(u,r),s=!1,r=void 0}),t))},cancel:function(){g(i),s=!1,r=void 0}}});function W(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,W)}function J(e){var t="";return e&&(t=e.replace(/\/([^\/]*)\d([^\/]*)/g,"/?").replace(/\/$/g,"")),t||"/"}var K=function(t){var n=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return n.prototype.setUrl=function(e){this._parse(e)},n.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},n.prototype.addQueryString=function(t){if("object"!==e(t))return!1;var n=this._values.QueryString||"";for(var r in t)n=new RegExp(r+"[^&]+").test(n)?n.replace(new RegExp(r+"[^&]+"),r+"="+t[r]):"&"===n.slice(-1)?n+r+"="+t[r]:""===n?r+"="+t[r]:n+"&"+r+"="+t[r];this._values.QueryString=n},n.prototype.getParse=function(){return this._values},n.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Path,e+=this._values.QueryString?"?"+this._values.QueryString:""},n.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);if(!t)throw"DPURLParser::_parse -> Invalid URL";for(var n in this._fields)void 0!==t[this._fields[n]]&&(this._values[n]=t[this._fields[n]]);this._values.Path=this._values.Path||"/",this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname+(this._values.Port?":"+this._values.Port:"")},new n(t)};var $=function(e){var t={},n=e.split("?")[1]||"";return n&&(t=X("?"+n)),t},X=function(e){for(var t=function(e){return decodeURIComponent(e)},n={},r=(e=e||"").substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");if(-1!==o){var a=r[i].substring(0,o),s=r[i].substring(o+1);a=t(a),s=t(s),n[a]=s}}return n};function Q(t){return null===t?"null":Array.isArray(t)?"array":e(t)}function Z(t,n,r){if(void 0===r&&(r=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===n)return t;if("object"!==e(n)||null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){var i=n.flags||[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.sticky?"y":"",n.unicode?"u":""].join("");return new RegExp(n.source,i)}if(!r.hasAlreadyBeenSeen(n)){if(Array.isArray(n)){for(var o=Array.isArray(t)?t:[],a=0;a<n.length;++a)o[a]=Z(o[a],n[a],r);return o}o="object"===Q(t)?t:{};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=Z(o[s],n[s],r));return o}}function Y(e){return Z(void 0,e)}function ee(e){return e?String(e).substr(0,1)+String(e).substr(1).replace(/\d*/g,"x"):0===e?void 0:e}function te(){}var ne,re=1e3,ie=6e4;function oe(e){return 0!==e&&100*Math.random()<=e}function ae(e,t){return+e.toFixed(t)}function se(e){return"number"!=typeof e?e:ae(1e6*e,0)}function ue(e){return F(e)?ae(1e6*e,0):e}function ce(e){return e-be()}function fe(e){return Math.round(be()+e)}function le(){return performance.now()}function de(){return{relative:le(),timeStamp:pe()}}function pe(){return ve()}function ve(){return(new Date).getTime()}function me(e,t){return t-e}function ge(){return{relative:0,timeStamp:be()}}function ye(e){return{relative:e,timeStamp:_e(e)}}function he(e,t){return e+t}function _e(e){var t=ve()-performance.now();return t>be()?Math.round(t+e):fe(e)}function be(){return void 0===ne&&(ne=performance.timing.navigationStart),ne}var we=/([\w-]+)\s*=\s*([^;]+)/g;function Se(e,t){for(var n=t.split(".");n.length;){var r=n.shift();if(!(e&&j(e)&&r in e&&E.call(e,r)))return;e=e[r]}return e}function Ee(e,t){var n=e.charCodeAt(t-1);return n>=55296&&n<=56319?e.slice(0,t+1):e.slice(0,t)}function Te(e){var t=Q(e);return"string"===t||"function"===t||e instanceof RegExp}function Ce(e,t){return-1!==e.indexOf(t)}function xe(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function ke(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function Oe(e){return F(e)&&e>=0&&e<=100}var Re,Ie=0,Ae=1,Pe=2,Ne=3;function Le(){return Ve(Re,Re=function(e){var t;void 0===e&&(e=window);var n=e.navigator.userAgent;if(e.chrome||/HeadlessChrome/.test(n))return Ae;if(0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n))return Pe;if(e.document.documentMode)return Ie;return Ne}())}function Me(e){if(e.origin&&"null"!==e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}function Ue(e){var t={};return x(e,(function(e,n){var r;t[(r=n,r.replace(/[A-Z]/g,(function(e,t){return(0!==t?"_":"")+e.toLowerCase()})).replace(/-/g,"_"))]=De(e)})),t}function De(t){return A(t)?U(t,(function(e){return De(e)})):"object"===e(t)&&null!==t?Ue(t):t}function Ve(e,t){return null!=e?e:t}function je(e,t){return D((r=[],null===(n=e)||x(n,(function(e,t){r[r.length]=t})),r),(function(n){return e[n]===t}));var n,r}function Be(e,t){return e.slice(0,t.length)===t}function qe(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function ze(e){var t=e.substr(1);return!!t&&!!document.getElementById(t)}function He(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function Fe(e){return F(e)&&e<0?void 0:e}var Ge=1/0,We=null,Je=new Set;function Ke(e){var t=e.expireDelay,n=e.maxEntries,r=[];function i(){for(var e=le()-t;r.length>0&&r[r.length-1].endTime<e;)r.pop()}return We&&(We=y((function(){return i()}),6e4)),Je.add(i),{add:function(e,t){var i={value:e,startTime:t,endTime:Ge,remove:function(){qe(r,i)},close:function(e){i.endTime=e}};return n&&r.length>=n&&r.pop(),r.unshift(i),i},find:function(e,t){void 0===e&&(e=Ge),void 0===t&&(t={returnInactive:!1});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.startTime<=e){if(t.returnInactive||e<=o.endTime)return o.value;break}}},closeActive:function(e){var t=r[0];t&&t.endTime===Ge&&t.close(e)},findAll:function(e,t){void 0===e&&(e=Ge),void 0===t&&(t=0);var n=he(e,t);return r.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},reset:function(){r=[]},stop:function(){Je.delete(i),0===Je.size&&We&&(h(We),We=null)}}}var $e={navigator:"undefined"!=typeof window&&void 0!==window.navigator?window.navigator:{}},Xe={getLanguage:c((function(){var e;return this.language=((e=($e.navigator.browserLanguage||$e.navigator.language||"").split("-"))[1]&&(e[1]=e[1].toUpperCase()),e.join("_")),this.language})),getNetwork:c((function(){var e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,t="unknown",n=e?e.type||e.effectiveType:null;if(n&&"string"==typeof n)switch(n){case"bluetooth":case"cellular":t="cellular";break;case"none":t="none";break;case"ethernet":case"wifi":case"wimax":t="wifi";break;case"other":case"unknown":t="unknown";break;case"slow-2g":case"2g":case"3g":t="cellular";break;case"4g":t="wifi"}return t})),getTimeZone:c((function(){return Intl.DateTimeFormat().resolvedOptions().timeZone}))},Qe={};"undefined"!=typeof window&&(Qe={screenSize:window.screen.width+"*"+window.screen.height,networkType:Xe.getNetwork(),timeZone:Xe.getTimeZone()});var Ze=Qe,Ye="beforeunload",et="click",tt="keydown",nt="load",rt="popstate",it="scroll",ot="touchstart",at="visibilitychange",st="pageshow",ut="freeze",ct="resume",ft="DOMContentLoaded",lt="pointerdown",dt="pointerup",pt="pointercancel",vt="hashchange",mt="pagehide",gt="mousedown",yt="focus",ht="blur",_t="resize",bt="securitypolicyviolation",wt="storage",St="document",Et="xhr",Tt="beacon",Ct="fetch",xt="css",kt="js",Ot="image",Rt="font",It="media",At="other",Pt="custom",Nt={ACTION:"action",ERROR:"error",LONG_TASK:"long_task",VIEW:"view",RESOURCE:"resource",LOGGER:"logger"},Lt="long-task",Mt="long-animation-frame",Ut="initial_load",Dt="route_change",Vt={FETCH:Ct,XHR:Et},jt="ddtrace",Bt="handled",qt="unhandled",zt="Uncaught",Ht="Provided";function Ft(t,n,r){if("object"!==e(t)||null===t)return JSON.stringify(t);var i=Gt(Object.prototype),o=Gt(Array.prototype),a=Gt(Object.getPrototypeOf(t)),s=Gt(t);try{return JSON.stringify(t,n,r)}catch(e){return"<error: unable to serialize object>"}finally{i(),o(),a(),s()}}function Gt(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):te}var Wt="?";function Jt(e){var t=[],n=tn(e,"stack"),r=String(e);return n&&n.startsWith(r)&&(n=n.slice(r.length)),n&&x(n.split("\n"),(function(e){var n=function(e){var t=$t.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=Xt.exec(t[2]);r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Wt,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=Qt.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:Wt,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=Zt.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Wt,line:+t[3],url:t[2]}}(e)||function(e){var t=Yt.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=en.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Wt,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=Wt),t.push(n))})),{message:tn(e,"message"),name:tn(e,"name"),stack:t}}var Kt="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",$t=new RegExp("^\\s*at (.*?) ?\\("+Kt+"(?::(\\d+))?"+"(?::(\\d+))?\\)?\\s*$","i"),Xt=new RegExp("\\((\\S*)(?::(\\d+))(?::(\\d+))\\)");var Qt=new RegExp("^\\s*at ?"+Kt+"(?::(\\d+))?"+"(?::(\\d+))??\\s*$","i");var Zt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var Yt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?\s*$/i,en=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function tn(t,n){if("object"===e(t)&&t&&n in t){var r=t[n];return"string"==typeof r?r:void 0}}var nn=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function rn(e){var t=function(e){return hn(window,"onerror",(function(t){var n,r=t.parameters,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4];if(u instanceof Error)n=Jt(u);else{var c={url:o,column:s,line:a},f=function(e){var t,n;if("[object String]"==={}.toString.call(e)){var r=nn.exec(e);r&&(t=r[1],n=r[2])}return{name:t,message:n}}(i);n={name:f.name,message:f.message,stack:[c]}}e(n,Ve(u,i))}))}(e),n=function(e){return hn(window,"onunhandledrejection",(function(t){var n=t.parameters[0].reason||"Empty reason",r=Jt(n);e(r,n)}))}(e);return{stop:function(){t.stop(),n.stop()}}}var on=1024,an=/[^\u0000-\u007F]/;function sn(e){return an.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function un(e,t){void 0===t&&(t=225280);var n=Gt(Object.prototype),r=Gt(Array.prototype),i=[],o=new WeakMap,a=cn(e,"$",void 0,i,o),s=JSON.stringify(a)&&JSON.stringify(a).length||0;if(!(s>t)){for(;i.length>0&&s<t;){var u=i.shift(),c=0;if(Array.isArray(u.source))for(var f=0;f<u.source.length;f++){if(s+=void 0!==(l=cn(u.source[f],u.path,f,i,o))?JSON.stringify(l).length:4,s+=c,c=1,s>t){ln(t,"truncated",e);break}u.target[f]=l}else for(var f in u.source)if(Object.prototype.hasOwnProperty.call(u.source,f)){var l;if(void 0!==(l=cn(u.source[f],u.path,f,i,o))&&(s+=JSON.stringify(l).length+c+f.length+3,c=1),s>t){ln(t,"truncated",e);break}u.target[f]=l}}return n(),r(),a}ln(t,"discarded",e)}function cn(t,n,r,i,o){var a=function(e){var t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch(e){}return e}(t);if(!a||"object"!==e(a))return function(t){if("bigint"==typeof t)return"[BigInt] "+t.toString();if("function"==typeof t)return"[Function] "+t.name||0;if("symbol"===e(t))return"[Symbol] "+t.description||0;return t}(a);var s=fn(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;var u=t;if(o.has(u))return"[Reference seen at "+o.get(u)+"]";var c=void 0!==r?n+"."+r:n,f=Array.isArray(a)?[]:{};return o.set(u,c),i.push({source:a,target:f,path:c}),f}function fn(e){try{if(e instanceof Event)return{type:(n=e).type,isTrusted:n.isTrusted,currentTarget:n.currentTarget?fn(n.currentTarget):null,target:n.target?fn(n.target):null};if(e instanceof RegExp)return"[RegExp] ".concat(e.toString());var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"["+t[1]+"]"}catch(e){}var n;return"[Unserializable]"}function ln(e,t,n){a.warn("The data provided has been "+t+" as it is over the limit of "+e+" characters:",n)}var dn={AGENT:"agent",CONSOLE:"console",NETWORK:"network",SOURCE:"source",LOGGER:"logger",CUSTOM:"custom"};function pn(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,a=e.source,s=e.handling,u=n instanceof Error,c=function(e,t,n,r){return e&&e.message&&e&&e.name?e.message:t?"Empty message":n+" "+Ft(un(r))}(t,u,o,n),f=function(e,t){if(void 0===t)return!1;if(e)return!0;return t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url)}(u,t)?mn(t):"No stack, consider using an instance of Error",l=u?yn(n,a):void 0;return{startClocks:i,source:a,handling:s,originalError:n,message:c,stack:f,handlingStack:r,type:t&&t.name,causes:l}}function vn(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return f((function(){var n=Jt(t);n.stack=n.stack.slice(2),e=mn(n)})),e}function mn(e){var t=gn(e);return x(e.stack,(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function gn(e){return(e.name||"Error")+": "+e.message}function yn(e,t){for(var n=e,r=[];n&&n.cause instanceof Error&&r.length<10;){var i=Jt(n.cause);r.push({message:n.cause.message,source:t,type:i&&i.name,stack:i&&mn(i)}),n=n.cause}return r.length?r:void 0}function hn(e,t,n,r){var i=r&&r.computeHandlingStack,o=e[t];if("function"!=typeof o){if(!Be(t,"on"))return{stop:te};o=te}var a=!1,s=function(){if(a)return o.apply(this,arguments);var e,t=ke(arguments);f(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:i?vn():void 0}]);var r=o.apply(this,t);return e&&f(e,null,[r]),r};return e[t]=s,{stop:function(){a=!0,e[t]===s&&(e[t]=o)}}}var _n=function(e){this.observers=[],this.onLastUnsubscribe=void 0,this.onFirstSubscribe=e};_n.prototype={subscribe:function(e){this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0);var t=this;return{unsubscribe:function(){t.observers=M(t.observers,(function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},notify:function(e){x(this.observers,(function(t){t(e)}))}};var bn=_n;function wn(){var e=[].slice.call(arguments);return new bn((function(t){var n=U(e,(function(e){return e.subscribe((function(e){return t.notify(e)}))}));return function(){return x(n,(function(e){return e.unsubscribe()}))}}))}var Sn={};function En(e){var t=U(e,(function(e){return Sn[e]||(Sn[e]=function(e){return new bn((function(t){var n=console[e];return console[e]=function(){var r=[].slice.call(arguments);n.apply(console,arguments);var i=vn();f((function(){t.notify(Tn(r,e,i))}))},function(){console[e]=n}}))}(e)),Sn[e]}));return wn.apply(this,t)}function Tn(e,n,r){var i,o=U(e,(function(e){return function(e){if("string"==typeof e)return e;if(e instanceof Error)return gn(Jt(e));return Ft(e,void 0,2)}(e)})).join(" ");if(n===t.error){var a=xe(e,(function(e){return e instanceof Error}));i={stack:a?mn(Jt(a)):void 0,causes:a?yn(a,"console"):void 0,startClocks:de(),message:o,source:dn.CONSOLE,handling:Bt,handlingStack:r}}return{api:n,message:o,error:i,handlingStack:r}}function Cn(e,t,n,r){return xn(e,[t],n,r)}function xn(e,t,n,r){var i=c(r&&r.once?function(e){s(),n(e)}:n);r=r&&r.passive?{capture:r.capture,passive:r.passive}:r&&r.capture;var o=window.EventTarget&&e instanceof EventTarget?window.EventTarget.prototype:e,a=v(o,"addEventListener");x(t,(function(t){a.call(e,t,i,r)}));var s=function(){var n=v(o,"removeEventListener");x(t,(function(t){n.call(e,t,i,r)}))};return{stop:s}}var kn="intervention",On="csp_violation";function Rn(e,t){var n=[];Ce(t,On)&&n.push(new bn((function(e){return Cn(document,bt,(function(t){e.notify(function(e){var t="'"+e.blockedURI+"' blocked by '"+e.effectiveDirective+"' directive";return In({type:e.effectiveDirective,message:On+": "+t,originalError:e,csp:{disposition:e.disposition},stack:An(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(Ee(e.originalPolicy,100),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(t))})).stop})));var r=M(t,(function(e){return e!==On}));return r.length&&n.push(function(e){return new bn((function(t){if(window.ReportingObserver){var n=c((function(e){x(e,(function(e){t.notify(function(e){var t=e.body,n=e.type;return In({type:t.id,message:n+": "+t.message,originalError:e,stack:An(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)})}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),wn.apply(this,n)}function In(e){return k({startClocks:de(),source:ErrorSource.REPORT,handling:ErrorHandling.UNHANDLED},e)}function An(e,t,n,r,i){return n&&mn({name:e,message:t,stack:[{func:"?",url:n,line:r,column:i}]})}var Pn,Nn="AUTO_ACTION_COMPLETED",Ln="BEFORE_VIEW_CREATED",Mn="VIEW_CREATED",Un="VIEW_UPDATED",Dn="BEFORE_VIEW_UPDATED",Vn="VIEW_ENDED",jn="AFTER_VIEW_ENDED",Bn="SESSION_RENEWED",qn="SESSION_EXPIRED",zn="PAGE_EXITED",Hn="REQUEST_STARTED",Fn="REQUEST_COMPLETED",Gn="RAW_RUM_EVENT_COLLECTED",Wn="RUM_EVENT_COLLECTED",Jn="RAW_ERROR_COLLECTED";function Kn(){this.callbacks={}}function $n(e){if(Array.isArray(e))return e}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Qn(e,t){if(e){if("string"==typeof e)return Xn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xn(e,t):void 0}}function Zn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yn(e){return $n(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qn(e)||Zn()}function er(e,t){return $n(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Qn(e,t)||Zn()}function tr(e,t,n){var r=Y(e),i=n(r);return q(t).forEach((function(t){var n=er(t,2),i=n[0],o=n[1];return nr(e,r,i.split(/\.|(?=\[\])/),o)})),i}function nr(e,t,n,r){var i=Yn(n),o=i[0],a=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}(i).slice(1);if("[]"!==o){if(rr(e)&&rr(t))return a.length>0?nr(e[o],t[o],a,r):void function(e,t,n,r){var i=Q(n);i===r?e[t]=un(n):"object"!==r||"undefined"!==i&&"null"!==i||(e[t]={})}(e,o,t[o],r)}else Array.isArray(e)&&Array.isArray(t)&&e.forEach((function(e,n){return nr(e,t[n],a,r)}))}function rr(e){return"object"===Q(e)}function ir(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&m((function(){r=0}),ie),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of "+e+"s by minute: "+t,source:dn.AGENT,startClocks:de()})}finally{i=!1}}return!0}}}function or(e){return sr(e,Me(window.location)).href}function ar(e){return Me(sr(e))}function sr(e,t){if(function(){if(void 0!==Pn)return Pn;try{var e=new URL("http://test/path");return Pn="http://test/path"===e.href}catch(e){Pn=!1}return Pn}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: "+e);var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}function ur(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var n=window.requestIdleCallback(c(e),t);return function(){return window.cancelIdleCallback(n)}}return function(e){var t=ve(),n=m((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(ve()-t))}})}),0);return function(){return g(n)}}(e)}Kn.prototype={notify:function(e,t){var n=this.callbacks[e];n&&x(n,(function(e){e(t)}))},subscribe:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t);var n=this;return{unsubscribe:function(){n.callbacks[e]=M(n.callbacks[e],(function(e){return e!==t}))}}}};var cr,fr=/^\s+|\s+$/g,lr={rum:"/rum",log:"/logging",sessionReplay:"/rum/replay"};function dr(e,t){var n=lr[t];if(!n)return"";var r=e.datakitOrigin||e.datakitUrl||e.site;0===r.indexOf("/")&&(r=location.origin+pr(r));var i=r;return i=r.lastIndexOf("/")===r.length-1?pr(r)+"v1/write"+n:pr(r)+"/v1/write"+n,e.site&&e.clientToken&&(i=i+"?token="+e.clientToken+"&to_headless=true"),i}function pr(e){return e.replace(fr,"")}function vr(e,t){return"".concat(e,"_").concat(t&&t.crossSite?"cs1":"cs0","_").concat(t&&t.domain?"d1":"d0","_").concat(t&&t.secure?"sec1":"sec0","_").concat(t&&t.partitioned?"part1":"part0")}function mr(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie=vr(e,r)+"="+t+";"+o+";path=/;samesite="+a+s+u+c}function gr(e,t){return function(e,t){for(we.lastIndex=0;;){var n=we.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,vr(e,t))}function yr(e,t){mr(e,"",0,t)}var hr=144e5,_r=9e5,br="_gc_s",wr=/^([a-zA-Z]+)=([a-z0-9-]+)$/,Sr="&";function Er(e){return B(e)}function Tr(e){return void 0!==e.isExpired||!((void 0===(t=e).created||ve()-Number(t.created)<hr)&&(void 0===t.expire||ve()<Number(t.expire)));var t}function Cr(e){e.expire=String(ve()+_r)}function xr(e){return U(q(e),(function(e){return e[0]+"="+e[1]})).join("&")}function kr(e){var t={};return function(e){return!!e&&(-1!==e.indexOf(Sr)||wr.test(e))}(e)&&e.split(Sr).forEach((function(e){var n=wr.exec(e);if(null!==n){var r=er(n,3),i=r[1],o=r[2];t[i]=o}})),t}function Or(e){var t=function(e){var t={};t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===cr){for(var e="gc_site_test_".concat(W()),t=window.location.hostname.split("."),n=t.pop();t.length&&!gr(e,{domain:n});)n="".concat(t.pop(),".").concat(n),mr(e,"test",re,{domain:n});yr(e,{domain:n}),cr=n}return cr}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="gc_cookie_test_".concat(W()),n="test";mr(t,n,ie,e);var r=gr(t,e)===n;return yr(t,e),r}catch(e){return!1}}(t)?{type:"Cookie",cookieOptions:t}:void 0}function Rr(e){var t;return{isLockEnabled:Le()===Ae,persistSession:(t=e,function(e){mr(br,xr(e),_r,t)}),retrieveSession:Ir(e),expireSession:function(){return function(e){mr(br,xr({isExpired:"1"}),hr,e)}(e)}}}function Ir(e){return function(){return kr(gr(br,e))}}function Ar(e){localStorage.setItem(br,xr(e))}function Pr(){return kr(localStorage.getItem(br))}function Nr(){Ar({isExpired:"1"})}var Lr,Mr=[];function Ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.isLockEnabled,i=t.persistSession,o=t.expireSession,a=function(e){return i(k({},e,{lock:u}))},s=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(Lr||(Lr=e),e===Lr)if(r&&n>=100)Vr(t);else{var u,c=s();if(r){if(c.lock)return void Dr(e,t,n);if(u=W(),a(c.session),(c=s()).lock!==u)return void Dr(e,t,n)}var f=e.process(c.session);if(r&&(c=s()).lock!==u)Dr(e,t,n);else{if(f&&(Tr(f)?o():(Cr(f),r?a(f):i(f))),r&&(!f||!Tr(f))){if((c=s()).lock!==u)return void Dr(e,t,n);i(c.session),f=c.session}e.after&&e.after(f||c.session),Vr(t)}}else Mr.push(e)}function Dr(e,t,n){m((function(){Ur(e,t,n+1)}),10)}function Vr(e){Lr=void 0;var t=Mr.shift();t&&Ur(t,e)}function jr(e){var t=Or(e);return!t&&e.allowFallbackToLocalStorage&&(t=function(){try{var e=W(),t="".concat("_gc_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(e){return}}()),t}function Br(e,t,n){var r,i=new bn,o=new bn,a=new bn,s="Cookie"===e.type?Rr(e.cookieOptions):{isLockEnabled:!1,persistSession:Ar,retrieveSession:Pr,expireSession:Nr},u=s.expireSession,c=y((function(){Ur({process:function(e){return Tr(e)?{isExpired:"1"}:void 0},after:p},s)}),1e3);v();var f=G((function(){Ur({process:function(e){if(!Er(e)){var r=p(e);return function(e){if(Er(e))return!1;var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,delete e.isExpired,o&&!e.id&&(e.id=W(),e.created=String(ve()))}(r),r}},after:function(e){Er(e)||m()||function(e){r=e,i.notify()}(e),r=e}},s)}),1e3),l=f.throttled,d=f.cancel;function p(e){return Tr(e)&&(e={isExpired:"1"}),m()&&(!function(e){return r.id!==e.id||r[t]!==e[t]}(e)?(a.notify({previousState:r,newState:e}),r=e):(r={isExpired:"1"},o.notify())),e}function v(){Ur({process:function(e){if(Er(e))return{isExpired:"1"}},after:function(e){r=e}},s)}function m(){return void 0!==r[t]}return{expandOrRenewSession:l,expandSession:function(){Ur({process:function(e){return m()?p(e):void 0}},s)},getSession:function(){return r},renewObservable:i,expireObservable:o,sessionStateUpdateObservable:a,restartSession:v,expire:function(){d(),u(),p({isExpired:"1"})},stop:function(){h(c)},updateSessionState:function(e){Ur({process:function(t){return k({},t,e)},after:p},s)}}}var qr,zr,Hr={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function Fr(e){if(void 0===e.sampleRate||Oe(e.sampleRate))if(void 0===e.sessionSampleRate||Oe(e.sessionSampleRate)){if(void 0===e.telemetrySampleRate||Oe(e.telemetrySampleRate)){var t=Ve(e.sessionSampleRate,e.sampleRate);return k({beforeSend:e.beforeSend&&d(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:jr(e),sessionSampleRate:Ve(t,100),service:e.service,version:e.version,env:e.env,telemetrySampleRate:Ve(e.telemetrySampleRate,100),telemetryEnabled:Ve(e.telemetryEnabled,!1),silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144,resourceUrlLimit:5120,storeContextsToLocal:!!e.storeContextsToLocal,storeContextsKey:e.storeContextsKey,sendContentTypeByJson:!!e.sendContentTypeByJson,retryMaxSize:Ve(e.retryMaxSize,-1)},function(e){var t=function(e){return!1};"isIntakeUrl"in e&&P(e.isIntakeUrl)&&H(e.isIntakeUrl())&&(t=e.isIntakeUrl);var n=function(e){return!1};return"isServerError"in e&&P(e.isServerError)&&H(e.isServerError())&&(n=e.isServerError),{rumEndpoint:dr(e,"rum"),logsEndpoint:dr(e,"log"),sessionReplayEndPoint:dr(e,"sessionReplay"),isIntakeUrl:t,isServerError:n}}(e))}a.error("Telemetry Sample Rate should be a number between 0 and 100")}else a.error("Sample Rate should be a number between 0 and 100");else a.error("Sample Rate should be a number between 0 and 100")}function Gr(){return qr||(qr=new bn((function(e){if(window.fetch)return hn(window,"fetch",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,i=e.handlingStack,o=n[0],a=n[1],s=a&&a.method;void 0===s&&o instanceof Request&&(s=o.method);var u=void 0!==s?String(s).toUpperCase():"GET",f=o instanceof Request?o.url:or(String(o)),l=de(),d={state:"start",init:a,input:o,method:u,startClocks:l,url:f,handlingStack:i};t.notify(d),n[0]=d.input,n[1]=d.init,r((function(e){return function(e,t,n){var r=n,i=function(t){r.state="resolve",k(r,t),e.notify(r)};t.then(c((function(e){var t="";try{t=e.constructor===Response&&e.type||""}catch(e){t=""}i({response:e,responseType:t,status:e.status,isAborted:!1})})),c((function(e){i({status:0,isAborted:r.init&&r.init.signal&&r.init.signal.aborted||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})})))}(t,e,d)}))}(t,e)}),{computeHandlingStack:!0}).stop}))),qr}var Wr=new WeakMap;function Jr(){return zr||(zr=new bn((function(e){var t=hn(XMLHttpRequest.prototype,"open",Kr),n=hn(XMLHttpRequest.prototype,"send",(function(t){!function(e,t){var n=e.target,r=e.handlingStack,i=Wr.get(n);if(i){var o=i;o.state="start",o.startClocks=de(),o.isAborted=!1,o.xhr=n,o.handlingStack=r;var a=!1,s=hn(n,"onreadystatechange",(function(){n.readyState===XMLHttpRequest.DONE&&u()})).stop,u=function(){if(c(),s(),!a){a=!0;var e=i;e.state="complete",e.duration=me(o.startClocks.timeStamp,pe()),e.status=n.status,t.notify(O(e))}},c=Cn(n,"loadend",u).stop;t.notify(o)}}(t,e)}),{computeHandlingStack:!0}),r=hn(XMLHttpRequest.prototype,"abort",$r);return function(){t.stop(),n.stop(),r.stop()}}))),zr}function Kr(e){var t=e.target,n=e.parameters[0],r=e.parameters[1];Wr.set(t,{state:"open",method:String(n).toUpperCase(),url:or(String(r))})}function $r(e){var t=e.target,n=Wr.get(t);n&&(n.isAborted=!0)}var Xr={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Qr(e){return e.nodeType===Node.ELEMENT_NODE}function Zr(e,t){return document.readyState===e||"complete"===document.readyState?(t(),{stop:te}):Cn(window,"complete"===e?nt:ft,t,{once:!0})}var Yr={sdk_name:"_gc.sdk_name",sdk_version:"_gc.sdk_version",app_id:"application.id",env:"env",service:"service",version:"version",source:"source",userid:"user.id",user_email:"user.email",user_name:"user.name",session_id:"session.id",session_type:"session.type",session_sampling:"session.is_sampling",is_signin:"user.is_signin",os:"device.os",os_version:"device.os_version",os_version_major:"device.os_version_major",browser:"device.browser",browser_version:"device.browser_version",browser_version_major:"device.browser_version_major",screen_size:"device.screen_size",network_type:"device.network_type",time_zone:"device.time_zone",device:"device.device",view_id:"view.id",view_referrer:"view.referrer",view_url:"view.url",view_host:"view.host",view_path:"view.path",view_name:"view.name",view_path_group:"view.path_group"},ei={view_url_query:"view.url_query",action_id:"action.id",action_ids:"action.ids",view_in_foreground:"view.in_foreground",display:"display",session_has_replay:"session.has_replay",is_login:"user.is_login",page_states:"_gc.page_states",session_sample_rate:"_gc.configuration.session_sample_rate",session_replay_sample_rate:"_gc.configuration.session_replay_sample_rate",session_on_error_sample_rate:"_gc.configuration.session_on_error_sample_rate",session_replay_on_error_sample_rate:"_gc.configuration.session_replay_on_error_sample_rate",drift:"_gc.drift"},ti={view:{type:Nt.VIEW,tags:{view_loading_type:"view.loading_type",view_apdex_level:"view.apdex_level",view_privacy_replay_level:"privacy.replay_level"},fields:{sampled_for_replay:"session.sampled_for_replay",sampled_for_error_replay:"session.sampled_for_error_replay",sampled_for_error_session:"session.sampled_for_error_session",session_error_timestamp:"session.error_timestamp_for_session",is_active:"view.is_active",session_replay_stats:"_gc.replay_stats",session_is_active:"session.is_active",view_error_count:"view.error.count",view_resource_count:"view.resource.count",view_long_task_count:"view.long_task.count",view_action_count:"view.action.count",first_contentful_paint:"view.first_contentful_paint",largest_contentful_paint:"view.largest_contentful_paint",largest_contentful_paint_element_selector:"view.largest_contentful_paint_element_selector",cumulative_layout_shift:"view.cumulative_layout_shift",cumulative_layout_shift_time:"view.cumulative_layout_shift_time",cumulative_layout_shift_target_selector:"view.cumulative_layout_shift_target_selector",first_input_delay:"view.first_input_delay",loading_time:"view.loading_time",dom_interactive:"view.dom_interactive",dom_content_loaded:"view.dom_content_loaded",dom_complete:"view.dom_complete",load_event:"view.load_event",first_input_time:"view.first_input_time",first_input_target_selector:"view.first_input_target_selector",first_paint_time:"view.fpt",interaction_to_next_paint:"view.interaction_to_next_paint",interaction_to_next_paint_target_selector:"view.interaction_to_next_paint_target_selector",resource_load_time:"view.resource_load_time",time_to_interactive:"view.tti",dom:"view.dom",dom_ready:"view.dom_ready",time_spent:"view.time_spent",first_byte:"view.first_byte",frustration_count:"view.frustration.count",custom_timings:"view.custom_timings"}},resource:{type:Nt.RESOURCE,tags:{trace_id:"_gc.trace_id",span_id:"_gc.span_id",resource_id:"resource.id",resource_status:"resource.status",resource_status_group:"resource.status_group",resource_method:"resource.method"},fields:{duration:"resource.duration",resource_size:"resource.size",resource_url:"resource.url",resource_url_host:"resource.url_host",resource_url_path:"resource.url_path",resource_url_path_group:"resource.url_path_group",resource_url_query:"resource.url_query",resource_delivery_type:"resource.delivery_type",resource_type:"resource.type",resource_protocol:"resource.protocol",resource_encode_size:"resource.encoded_body_size",resource_decode_size:"resource.decoded_body_size",resource_transfer_size:"resource.transfer_size",resource_render_blocking_status:"resource.render_blocking_status",resource_dns:"resource.dns",resource_tcp:"resource.tcp",resource_ssl:"resource.ssl",resource_ttfb:"resource.ttfb",resource_trans:"resource.trans",resource_redirect:"resource.redirect",resource_first_byte:"resource.firstbyte",resource_dns_time:"resource.dns_time",resource_download_time:"resource.download_time",resource_first_byte_time:"resource.first_byte_time",resource_connect_time:"resource.connect_time",resource_ssl_time:"resource.ssl_time",resource_redirect_time:"resource.redirect_time"}},error:{type:Nt.ERROR,tags:{error_id:"error.id",trace_id:"_gc.trace_id",span_id:"_gc.span_id",error_source:"error.source",error_type:"error.type",error_handling:"error.handling"},fields:{error_message:["string","error.message"],error_stack:["string","error.stack"],error_causes:["string","error.causes"],error_handling_stack:["string","error.handling_stack"]}},long_task:{type:Nt.LONG_TASK,tags:{long_task_id:"long_task.id"},fields:{duration:"long_task.duration",blocking_duration:"long_task.blocking_duration",first_ui_event_timestamp:"long_task.first_ui_event_timestamp",render_start:"long_task.render_start",style_and_layout_start:"long_task.style_and_layout_start",long_task_start_time:"long_task.start_time",scripts:["string","long_task.scripts"]}},action:{type:Nt.ACTION,tags:{action_type:"action.type"},fields:{action_name:"action.target.name",duration:"action.loading_time",action_error_count:"action.error.count",action_resource_count:"action.resource.count",action_frustration_types:"action.frustration.type",action_long_task_count:"action.long_task.count",action_target:"_gc.action.target",action_position:"_gc.action.position"}},telemetry:{type:"telemetry",fields:{status:"telemetry.status",message:["string","telemetry.message"],type:"telemetry.type",error_stack:["string","telemetry.error.stack"],error_kind:["string","telemetry.error.kind"],connectivity:["string","telemetry.connectivity"],runtime_env:["string","telemetry.runtime_env"],usage:["string","telemetry.usage"],configuration:["string","telemetry.configuration"]}},browser_log:{type:Nt.LOGGER,tags:{error_source:"error.source",error_type:"error.type",error_resource_url:"http.url",error_resource_url_host:"http.url_host",error_resource_url_path:"http.url_path",error_resource_url_path_group:"http.url_path_group",error_resource_status:"http.status_code",error_resource_status_group:"http.status_group",error_resource_method:"http.method",action_id:"user_action.id",service:"service",status:"status"},fields:{message:["string","message"],error_message:["string","error.message"],error_stack:["string","error.stack"]}}},ni=[];function ri(e,t,n){var r=new bn,i=new bn,o=Br(e.sessionStoreStrategyType,t,n);ni.push((function(){return o.stop()}));var a,s=Ke({expireDelay:144e5});function u(){return{id:o.getSession().id,trackingType:o.getSession()[t],hasError:!!o.getSession().hasError}}return ni.push((function(){return s.stop()})),o.renewObservable.subscribe((function(){s.add(u(),le()),r.notify()})),o.expireObservable.subscribe((function(){i.notify(),s.closeActive(le())})),o.expandOrRenewSession(),s.add(u(),ge().relative),a=xn(window,[et,ot,tt,it],(function(){o.expandOrRenewSession()}),{capture:!0,passive:!0}).stop,ni.push(a),function(e){var t=function(){"visible"===document.visibilityState&&e()},n=Cn(document,at,t).stop;ni.push(n);var r=y(t,6e4);ni.push((function(){h(r)}))}((function(){return o.expandSession()})),function(e){var t=Cn(window,ct,e,{capture:!0}).stop;ni.push(t)}((function(){o.restartSession()})),{findSession:function(e,t){return s.find(e,t)},renewObservable:r,expireObservable:i,sessionStateUpdateObservable:o.sessionStateUpdateObservable,expire:o.expire,updateSessionState:o.updateSessionState}}var ii=3145728,oi=0,ai=1,si=2,ui=0,ci=1;function fi(e,t,n,r,i){t.transportStatus===oi&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?di(e,t,n,{onSuccess:function(){return pi(ui,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),li(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function li(e,t,n,r){e.transportStatus===si&&m((function(){di(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,pi(ci,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(256e3,2*e.currentBackoffTime),li(e,t,n,r)}})}),e.currentBackoffTime)}function di(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e,t,n){return!(t.retryMaxSize>-1&&n.retry&&n.retry.count>t.retryMaxSize)&&("opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500))}(n,t,e)?(t.transportStatus=oi,i()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?ai:si,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o())}))}function pi(e,t,n,r,i){e===ui&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max "+r+" events size queued for upload: 3MiB",source:dn.AGENT,startClocks:de()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=vi();o.size()>0;)fi(o.dequeue(),t,n,r,i)}function vi(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=ii}}}function mi(e,t){return e?(e=e+(-1===e.indexOf("?")?"?":"&")+"precision=ms",t&&(e=e+"&encoding="+t),e):e}function gi(e,t,n,r){void 0===n&&(n=-1);var i=function(e){return{transportStatus:oi,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:vi(),queueFullReported:!1,retryMaxSize:e}}(n),o=function(n,r){return function(e,t,n,r){var i=n.data,o=n.bytesCount,a=mi(e,n.encoding);if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&o<t){var s={method:"POST",body:i,keepalive:!0,mode:"cors"};n.type&&(s.headers={"Content-Type":n.type}),fetch(a,s).then(c((function(e){"function"==typeof r&&r({status:e.status,type:e.type})})),c((function(){hi(a,n,r)})))}else hi(a,n,r)}(e,t,n,r)};return{send:function(t){fi(t,i,o,e,r)},sendOnExit:function(n){!function(e,t,n){var r=n.data,i=n.bytesCount,o=mi(e,n.encoding);if(navigator.sendBeacon&&i<t)try{var a;if(a=n.type?new Blob([r],{type:n.type}):r,navigator.sendBeacon(o,a))return}catch(e){yi||(yi=!0)}hi(o,n)}(e,t,n)}}}var yi=!1;function hi(e,t,n){var r=t.data,i=new XMLHttpRequest;i.open("POST",e,!0),r instanceof Blob?i.setRequestHeader("Content-Type",r.type):t.type&&i.setRequestHeader("Content-Type",t.type),Cn(i,"loadend",(function(){"function"==typeof n&&n({status:i.status})}),{once:!0}),i.send(r)}function _i(t){if("object"===e(t)&&t)t=Ft(t);else if(!z(t))return t;return String(t).replace(/[\s=,"]/g,(function(e){return"\\"+e}))}function bi(t,n){return"object"===e(t)&&t?t=Ft(t):n&&(t=""+t),t}function wi(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function Si(t){return"object"===e(t)&&t?wi(Ft(t)):z(t)?wi(t):t}var Ei="custom_keys",Ti=function(e){if(!e||!e.type)return{rowStr:"",rowData:void 0};var t={tags:{},fields:{}},n=!1,r="";return x(ti,(function(i,o){if(i.type===e.type){r+=o+",",t.measurement=o;var a=[],s=R({},Yr,i.tags),u=["date","type",Ei];x(s,(function(n,r){var i=Se(e,n);u.push(r),(i||F(i))&&(t.tags[r]=bi(i,!0),a.push(_i(r)+"="+_i(i)))}));var c=[],f=R({},ei,i.fields);if(x(f,(function(n,r){if(A(n)&&2===n.length){var i=n[1],o=Se(e,i);u.push(r),null!=o&&(t.fields[r]=bi(o),c.push(_i(r)+"="+Si(o)))}else if(z(n)){o=Se(e,n);u.push(r),null!=o&&(t.fields[r]=bi(o),c.push(_i(r)+"="+Si(o)))}})),e.context&&j(e.context)&&!B(e.context)){var l=[];x(e.context,(function(e,n){u.indexOf(n)>-1||(u.push(n),null!=e&&(l.push(n),t.fields[n]=bi(e),c.push(_i(n)+"="+Si(e))))})),l.length&&(t.fields.custom_keys=bi(l),c.push(_i(Ei)+"="+Si(l)))}e.type===Nt.LOGGER&&x(e,(function(e,n){-1===u.indexOf(n)&&null!=e&&(t.fields[n]=bi(e),c.push(_i(n)+"="+Si(e)))})),a.length&&(r+=a.join(",")),c.length&&(r+=" ",r+=c.join(","),n=!0),r=r+" "+e.date,t.time=e.date}})),{rowStr:n?r:"",rowData:n?t:void 0}};function Ci(e){var t=e.encoder,n=e.request,r=e.messageBytesLimit,i=e.sendContentTypeByJson,o=e.flushController,s={},u=o.flushObservable.subscribe((function(e){!function(e){var r=L(s).join(i?",":"\n");s={};var o=(u=e.reason,Ce(L(Xr),u)),a=o?n.sendOnExit:n.send;var u;if(o&&t.isAsync){var f=t.finishSync();f.outputBytesCount&&a(xi(f,i));var l=[f.pendingData,r].filter(Boolean).join("\n");l&&a({data:l,bytesCount:sn(l)})}else{if(r){var d=c([r],t.isEmpty());i&&(d+="]"),t.write(d)}else i&&t.write("]");t.finish((function(e){a(xi(e))}))}}(e)}));function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i?t?"["+e.join(","):","+e.join(","):t?e.join("\n"):"\n"+e.join("\n")}function f(e,n){var u=function(e){return i?Ft(Ti(e).rowData):Ti(e).rowStr}(e),f=t.estimateEncodedBytesCount(u);f>=r?a.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(r,"KB.")):(function(e){return void 0!==e&&void 0!==s[e]}(n)&&function(e){var n=s[e];delete s[e];var r=t.estimateEncodedBytesCount(n);o.notifyAfterRemoveMessage(r)}(n),function(e,n,r){o.notifyBeforeAddMessage(n),void 0!==r?(s[r]=e,o.notifyAfterAddMessage()):t.write(c([e],t.isEmpty()),(function(e){o.notifyAfterAddMessage(e-n)}))}(u,f,n))}return{flushController:o,add:f,upsert:f,stop:u.unsubscribe}}function xi(e,t){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),type:t?"application/json;UTF-8":void 0,bytesCount:e.outputBytesCount,encoding:e.encoding}}function ki(e){var t=e.messagesLimit,n=e.bytesLimit,r=e.durationLimit,i=e.pageExitObservable,o=e.sessionExpireObservable;i.subscribe((function(e){return f(e.reason)})),o.subscribe((function(){return f("session_expire")}));var a,s=new bn((function(){return function(){pageExitSubscription.unsubscribe(),sessionExpireSubscription.unsubscribe()}})),u=0,c=0;function f(e){if(0!==c){var t=c,n=u;c=0,u=0,l(),s.notify({reason:e,messagesCount:t,bytesCount:n})}}function l(){g(a),a=void 0}return{flushObservable:s,getMessagesCount:function(){return c},notifyBeforeAddMessage:function(e){u+e>=n&&f("bytes_limit"),c+=1,u+=e,void 0===a&&(a=m((function(){f("duration_limit")}),r))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),u+=e,c>=t?f("messages_limit"):u>=n&&f("bytes_limit")},notifyAfterRemoveMessage:function(e){u-=e,0===(c-=1)&&l()}}}function Oi(){var e;arguments.length>0&&void 0!==arguments[0]||null===(e=p().location)||void 0===e||e.hostname;return!1}function Ri(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function Ii(e,t,n){return(t=Ri(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pi(e,t,n){for(var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),i=0,o=Object.entries(t);i<o.length;i++){var s=er(o[i],2),u=s[0],c=s[1],f=c.required;"string"===c.type&&u in r&&(r[u]=String(r[u])),f&&!(u in e)&&a.warn("The property ".concat(u," of ").concat(n," context is required; context will not be sent to the intake."))}return r}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.customerDataTracker,r=t.propertiesConfig,i=void 0===r?{}:r,o={},a=new bn,s={getContext:function(){return Y(o)},setContext:function(t){"object"===Q(t)?(o=un(Pi(t,i,e)),null==n||n.updateCustomerData(o)):s.clearContext(),a.notify()},setContextProperty:function(t,r){o[t]=un(Pi(Ii({},t,r),i,e)[t]),null==n||n.updateCustomerData(o),a.notify()},removeContextProperty:function(t){delete o[t],null==n||n.updateCustomerData(o),Pi(o,i,e),a.notify()},clearContext:function(){o={},null==n||n.resetCustomerData(),a.notify()},changeObservable:a};return s}var Li="user",Mi="global context",Ui="view",Di=[];function Vi(e,t,n,r){var i=function(e,t,n){return e.storeContextsKey&&z(e.storeContextsKey)?"_gc_s_"+t+"_"+n+"_"+e.storeContextsKey:"_gc_s_"+t+"_"+n}(e,n,r);function o(){var e=localStorage.getItem(i);return null!==e?JSON.parse(e):{}}return Di.push(Cn(window,wt,(function(e){i===e.key&&t.setContext(o())}))),t.changeObservable.subscribe((function(){localStorage.setItem(i,JSON.stringify(t.getContext()))})),t.setContext(I(o(),t.getContext())),t}var ji=3072,Bi=16384,qi=0,zi=1,Hi=2;function Fi(e){var t=0,n=G((function(n){t=sn(Ft(n)),e()}),200),r=n.throttled,i=n.cancel,o=function(){i(),t=0};return{updateCustomerData:function(e){B(e)?o():r(e)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function Gi(e){a.warn("Customer data exceeds the recommended ".concat(e/on,"KiB threshold."))}function Wi(){var e="",t=0;return{isAsync:!1,isEmpty:function(){return!e},write:function(n,r){var i=sn(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function Ji(e){var t=k({},e);return x(["id","name","email"],(function(e){e in t&&(t[e]=String(t[e]))})),t}function Ki(e){this.map=new WeakMap,e&&e.forEach((function(e){this.map.set(e,1)}))}function $i(e,t){t.silentMultipleInit||a.error(e+" is already initialized.")}Ki.prototype.add=function(e){return this.map.set(e,1),this},Ki.prototype.delete=function(e){return this.map.delete(e)},Ki.prototype.has=function(e){return this.map.has(e)};var Xi=1,Qi=2,Zi=3,Yi="0",eo="1",to="2",no="3",ro="4",io="5",oo="6";function ao(e,t){var n=ri(e,"rum",(function(t){return function(e,t){var n,r=e.sessionSampleRate,i=e.sessionOnErrorSampleRate,o=e.sessionReplaySampleRate,a=e.sessionReplayOnErrorSampleRate,s=oe(r),u=oe(i),c=oe(o),f=oe(a);!function(e){return e===Yi||e===io||e===oo||e===ro||e===to||e===no||e===eo}(t)?u||s?s&&c?n=eo:s&&f?n=no:!s||c||f?u&&c?n=ro:u&&f?n=oo:!u||c||f||(n=io):n=to:n=Yi:n=t;return{trackingType:n,isTracked:so(n)}}(e,t)}));return n.expireObservable.subscribe((function(){t.notify(qn)})),n.renewObservable.subscribe((function(){t.notify(Bn)})),n.sessionStateUpdateObservable.subscribe((function(e){var t=e.previousState,r=e.newState;if(!t.hasError&&r.hasError){var i=n.findSession();i&&(i.hasError=!0,i.ets=r.ets||pe())}})),{findTrackedSession:function(e){var t=n.findSession(e);if(t&&so(t.trackingType)){var r=t.trackingType===io||t.trackingType===ro||t.trackingType===oo,i=Xi;return t.trackingType===eo||t.trackingType===ro?i=Qi:t.trackingType!==oo&&t.trackingType!==no||(i=Zi),{id:t.id,plan:i,errorSessionReplayAllowed:i===Zi,sessionHasError:t.hasError,isErrorSession:r,sessionErrorTimestamp:t.ets,sessionReplayAllowed:i===Qi||i===Zi}}},expire:n.expire,expireObservable:n.expireObservable,sessionStateUpdateObservable:n.sessionStateUpdateObservable,setErrorForSession:function(){return n.updateSessionState({hasError:"1",ets:pe()})}}}function so(e){return e!==Yi}var uo="_gc_usr_id";var co=function(e){var t;if(e.sessionStoreStrategyType)return t="Cookie"===e.sessionStoreStrategyType.type?function(e){var t=gr(uo,e);return t||(t=W(),mr(uo,t,5184e6,e)),t}(e.sessionStoreStrategyType.cookieOptions):function(){var e=localStorage.getItem(uo);return e||(e=W(),localStorage.setItem(uo,e)),e}(),{getId:function(){return t}}};function fo(){var e=function(){var e,t=window;if(t.Zone&&(e=v(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=v(new t.MutationObserver(te),"originalInstance");e=n&&n.constructor}e||(e=t.MutationObserver);return e}();return new bn((function(t){if(e){var n=new e(c((function(){return t.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}))}function lo(e){var t=O(e);return new bn((function(n){var r,i,o,a,s=(r=c,i=hn(History.prototype,"pushState",(function(e){(0,e.onPostCall)(r)})),o=hn(History.prototype,"replaceState",(function(e){(0,e.onPostCall)(r)})),a=Cn(window,rt,r),{stop:function(){i.stop(),o.stop(),a.stop()}}),u=Cn(window,vt,c);function c(){if(t.href!==e.href){var r=O(e);n.notify({newLocation:r,oldLocation:t}),t=r}}return function(){s.stop(),u.stop()}}))}var po="initial_document",vo=[[St,function(e){return po===e}],[Et,function(e){return"xmlhttprequest"===e}],[Ct,function(e){return"fetch"===e}],[Tt,function(e){return"beacon"===e}],[xt,function(e,t){return null!==t.match(/\.css$/i)}],[kt,function(e,t){return null!==t.match(/\.js$/i)}],[Ot,function(e,t){return Ce(["image","img","icon"],e)||null!==t.match(/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i)}],[Rt,function(e,t){return null!==t.match(/\.(woff|eot|woff2|ttf)$/i)}],[It,function(e,t){return Ce(["audio","video"],e)||null!==t.match(/\.(mp3|mp4)$/i)}]];function mo(e){var t=e.name;if(!function(e){try{return!!sr(e)}catch(e){return!1}}(t))return At;var n=function(e){var t=sr(e).pathname;return"/"===t[0]?t:"/"+t}(t),r=At;return x(vo,(function(t){var i=t[0];if((0,t[1])(e.initiatorType,n))return r=i,!1})),r}function go(){for(var e=N(arguments),t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function yo(e){return""===e.deliveryType?"other":e.deliveryType}function ho(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}var _o=/[^\u0000-\u007F]/;function bo(e,t){return n=e,(_o.test(n)?void 0!==window.TextEncoder?(new TextEncoder).encode(n).length:new Blob([n]).size:n.length)>t;var n}function wo(e){return 0===e.duration&&e.startTime<e.responseEnd?se(e.responseEnd-e.startTime):se(e.duration)}function So(e){if(To(e)){var t=e.startTime,n=e.fetchStart,r=e.redirectStart,i=e.redirectEnd,o=e.domainLookupStart,a=e.domainLookupEnd,s=e.connectStart,u=e.secureConnectionStart,c=e.connectEnd,f=e.requestStart,l=e.responseStart,d=e.responseEnd,p={firstbyte:se(l-f),trans:se(d-l),downloadTime:xo(t,l,d),firstByteTime:xo(t,f,l)};return l>0&&l<=le()&&(p.ttfb=se(l-f)),c!==n&&(p.tcp=se(c-s),p.connectTime=xo(t,s,c),go(s,u,c)&&(p.ssl=se(c-u),p.sslTime=xo(t,u,c))),a!==n&&(p.dns=se(a-o),p.dnsTime=xo(t,o,a)),Co(e)&&(p.redirect=se(i-r),p.redirectTime=xo(t,r,i)),e.renderBlockingStatus&&(p.renderBlockingStatus=e.renderBlockingStatus),p}}function Eo(e){return e.duration>=0}function To(e){var t=go(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!Co(e)||go(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return t&&n}function Co(e){return e.redirectEnd>e.startTime}function xo(e,t,n){return{duration:se(n-t),start:se(t-e)}}function ko(e){return e.startTime<e.responseStart?{size:e.decodedBodySize,encodedBodySize:e.encodedBodySize,decodedBodySize:e.decodedBodySize,transferSize:e.transferSize}:{size:void 0,encodedBodySize:void 0,decodedBodySize:void 0,transferSize:void 0}}function Oo(e,t){return t&&!function(e,t){var n=[t.rumEndpoint];return t.logsEndpoint&&n.push(t.logsEndpoint),t.sessionReplayEndPoint&&n.push(t.sessionReplayEndPoint),D(n,(function(t){return 0===e.indexOf(t)}))||t.isIntakeUrl(e)}(t,e)}var Ro=/data:(.+)?(;base64)?,/g;function Io(e){return!(e.length<=24e3)&&("data:"===e.substring(0,5)&&(e=e.substring(0,24e3),!0))}function Ao(e){return e.match(Ro)[0]+"[...]"}function Po(e,t){var n=ve(),r=!1,i=xn(window,[et,gt,tt,ot,lt],(function(e){if(e.cancelable){var t={entryType:"first-input",processingStart:le(),processingEnd:le(),startTime:e.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:function(){return{}}};e.type===lt?function(e){xn(window,[dt,pt],(function(t){t.type===dt&&o(e)}),{once:!0})}(t):o(t)}}),{passive:!0,capture:!0}).stop;return{stop:i};function o(e){if(!r){r=!0,i();var o=e.processingStart-e.startTime;o>=0&&o<ve()-n&&t(e)}}}var No,Lo="event",Mo="first-input",Uo="largest-contentful-paint",Do="layout-shift",Vo="longtask",jo="long-animation-frame",Bo="navigation",qo="paint",zo="resource",Ho="visibility-state";function Fo(e,t){return new bn((function(n){if(window.PerformanceObserver){var r,i,o=function(t){var r=function(e,t){return t.filter((function(t){return!function(e,t){return!(t.entryType!==zo||Oo(e,t.name)&&Eo(t))}(e,t)}))}(e,t);r.length>0&&n.notify(r)},a=!0,s=new PerformanceObserver(c((function(e){a?r=m((function(){o(e.getEntries())})):o(e.getEntries())})));try{s.observe(t)}catch(e){if(Ce([zo,Bo,Vo,qo],t.type)){t.buffered&&(r=m((function(){o(performance.getEntriesByType(t.type))})));try{s.observe({entryTypes:[t.type]})}catch(e){return}}}if(a=!1,function(e){!No&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&(No=Cn(performance,"resourcetimingbufferfull",(function(){performance.clearResourceTimings()})))}(),!Go(Mo)&&t.type===Mo){var u=Po(0,(function(e){o([e])}));i=u.stop}return function(){s.disconnect(),i&&i(),g(r)}}}))}function Go(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}var Wo="active",Jo="passive",Ko="hidden",$o="frozen",Xo="terminated";function Qo(e){void 0===e&&(e=500);var t,n=Ke({expireDelay:144e5,maxEntries:4e3});i(Zo(),le());var r=xn(window,[st,yt,ht,at,ct,ut,mt],(function(e){i(function(e){if(e.type===ut)return $o;if(e.type===mt)return e.persisted?$o:Xo;return Zo()}(e),e.timeStamp)}),{capture:!0}).stop;function i(e,r){void 0===r&&(r=le()),e!==t&&(t=e,n.closeActive(r),n.add({state:t,startTime:r},r))}var o={findAll:function(t,r){var i=n.findAll(t,r);if(0!==i.length){for(var o=[],a=Math.max(0,i.length-e),s=i.length-1;s>=a;s--){var u=i[s],c=me(t,u.startTime);o.push({state:u.state,start:ue(c)})}return o}},wasInPageStateAt:function(e,t){return o.wasInPageStateDuringPeriod(e,t,0)},wasInPageStateDuringPeriod:function(e,t,r){return n.findAll(t,r).some((function(t){return t.state===e}))},addPageState:i,stop:function(){r(),n.stop()}};return o}function Zo(){return"hidden"===document.visibilityState?Ko:document.hasFocus()?Wo:Jo}function Yo(e,t){var n=ea(e)?{action:{error:{count:e.counts.errorCount},id:e.id,loadingTime:Fe(ue(e.duration)),frustration:{type:e.frustrationTypes},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_gc:{action:{target:e.target,position:e.position}}}:{action:{loadingTime:0}};return{customerContext:ea(e)?void 0:e.context,rawRumEvent:I({action:{id:W(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:Nt.ACTION,view:{in_foreground:t.wasInPageStateAt(Wo,e.startClocks.relative)}},n),startTime:e.startClocks.relative,domainContext:ea(e)?{event:e.event,events:e.events}:{}}}function ea(e){return e.type!==Pt}function ta(e,t,n,r,i,o,a){var s=function(e,t,n,r,i,o){void 0===o&&(o=Ci);var a=function(e,t){return o({encoder:t.encoder,request:gi(t.endpoint,e.batchBytesLimit,e.retryMaxSize,n),flushController:ki({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:r,sessionExpireObservable:i}),messageBytesLimit:e.messageBytesLimit,sendContentTypeByJson:e.sendContentTypeByJson})}(e,t);return{flushObservable:a.flushController.flushObservable,add:function(e){a.add(e)},upsert:function(e,t){a.upsert(e,t)},stop:function(){a.stop()}}}(e,{endpoint:e.rumEndpoint,encoder:a(2)},r,i,o);return t.subscribe(Wn,(function(e){e.type===Nt.VIEW?s.upsert(e,e.view.id):s.add(e)})),s}function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ia,oa="synthetics",aa="user",sa={"view.url":"string","view.referrer":"string"},ua={context:"object"},ca={service:"string",version:"string"},fa={};function la(e,t,n,r,i,o,s,u,c,f){fa[Nt.VIEW]=ra(ra({},ua),sa),fa[Nt.ERROR]=k({"error.message":"string","error.stack":"string","error.resource.url":"string"},ua,sa,ca),fa[Nt.RESOURCE]=k({"resource.url":"string"},ua,sa,ca),fa[Nt.ACTION]=k({"action.target.name":"string"},ua,sa,ca),fa[Nt.LONG_TASK]=k({},ua,sa);var l={};l[Nt.ERROR]=ir(Nt.ERROR,e.eventRateLimiterThreshold,f),l[Nt.ACTION]=ir(Nt.ACTION,e.eventRateLimiterThreshold,f),t.subscribe(Gn,(function(f){var d,p=f.startTime,v=f.rawRumEvent,m=f.savedCommonContext,g=f.customerContext,y=f.domainContext,h=i.findView(p),_=o.findUrl(p),b=n.findTrackedSession(p);if((!b||!b.isErrorSession||b.sessionHasError)&&(b&&h&&_)){var w=s.findActionId(p),S=s.findAllActionId(p),E=m||c(),T={_gc:{sdkName:e.sdkName,sdkVersion:e.sdkVersion,drift:Math.round(ve()-(be()+performance.now())),configuration:{session_sample_rate:ae(e.sessionSampleRate,3),session_replay_sample_rate:ae(e.sessionReplaySampleRate,3),session_on_error_sample_rate:ae(e.sessionOnErrorSampleRate,3),session_replay_on_error_sample_rate:ae(e.sessionReplayOnErrorSampleRate,3)}},terminal:{type:"web"},application:{id:e.applicationId},device:Ze,env:e.env||"",service:h.service||e.service||"browser",version:h.version||e.version||"",source:"browser",date:pe(),user:{id:r.getId(),is_signin:"F",is_login:!1},session:{type:void 0===window._DATAFLUX_SYNTHETICS_BROWSER?aa:oa,id:b.id},view:{id:h.id,name:h.name||_.path,url:_.url,referrer:_.referrer,host:_.host,path:_.path,pathGroup:_.pathGroup,urlQuery:_.urlQuery},action:(d=v,-1!==[Nt.ERROR,Nt.RESOURCE,Nt.LONG_TASK].indexOf(d.type)&&w?{id:w,ids:S}:void 0),display:u.get()},C=Ue(I(T,h,v)),x=I({},E.context,h.context,g);B(x)||(C.context=x),"has_replay"in C.session||(C.session.has_replay=E.hasReplay),b.errorSessionReplayAllowed&&(C.session.has_replay=C.session.has_replay&&b.sessionHasError),"view"===C.type&&(C.session.sampled_for_error_replay=b.errorSessionReplayAllowed,C.session.sampled_for_error_session=b.isErrorSession,C.session.error_timestamp_for_session=b.sessionErrorTimestamp),B(E.context.device)||(C.device=I(C.device,E.context.device)),B(E.user)||(C.user=I(C.user,{is_signin:"T",is_login:!0},E.user)),function(e,t,n,r){if(t){var i=tr(e,fa[e.type],(function(e){return t(e,n)}));if(!1===i&&e.type!==Nt.VIEW)return!1;!1===i&&a.warn("Can't dismiss view events using beforeSend!")}var o=!1;r[e.type]&&(o=r[e.type].isLimitReached());return!o}(C,e.beforeSend,y,l)&&(B(C.context)&&delete C.context,t.notify(Wn,C))}}))}function da(){return ia||(ia=new bn((function(e){var t=G((function(){e.notify(pa())}),200).throttled;return Cn(window,_t,t,{capture:!0,passive:!0}).stop}))),ia}function pa(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function va(e,n,r,i){var o=new bn;!function(e){var n=En([t.error]).subscribe((function(t){e.notify(t.error)}))}(o),function(e){rn((function(t,n){e.notify(pn({stackTrace:t,originalError:n,startClocks:de(),nonErrorPrefix:zt,source:dn.SOURCE,handling:qt}))}))}(o),function(e,t){var n=Rn(0,[kn]).subscribe((function(e){t.notify({startClocks:de(),message:e.message,stack:e.stack,type:e.subtype,source:dn.REPORT,handling:qt})}))}(0,o);var a=r.findTrackedSession(),s=a.isErrorSession&&a.sessionHasError;return a.isErrorSession&&e.subscribe(Bn,(function(){s=!1})),o.subscribe((function(t){a.isErrorSession&&!s&&(r.setErrorForSession(),s=!0),e.notify(Jn,{error:t})})),function(e,t){return e.subscribe(Jn,(function(n){e.notify(Gn,k({customerContext:n.customerContext,savedCommonContext:n.savedCommonContext},function(e,t){return{rawRumEvent:{date:e.startClocks.timeStamp,error:{id:W(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser"},type:Nt.ERROR,view:{in_foreground:t.wasInPageStateAt(Wo,e.startClocks.relative)}},startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(n.error,t)))})),{addError:function(t,n){var r=t.error,i=pn({stackTrace:r instanceof Error?Jt(r):void 0,originalError:r,handlingStack:t.handlingStack,startClocks:t.startClocks,nonErrorPrefix:Ht,source:dn.CUSTOM,handling:Bt});e.notify(Jn,{customerContext:t.context,savedCommonContext:n,error:i})}}}(e,i)}var ma,ga=["data-guance-action-name","data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],ya=[wa,function(e){if(e.id&&!ba(e.id))return"#"+V(e.id)}],ha=[wa,function(e){if("BODY"===e.tagName)return;if(e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var n=e.classList[t];if(!ba(n))return V(e.tagName)+"."+V(n)}},function(e){return V(e.tagName)}];function _a(e,t){if(function(e){if("isConnected"in e)return e.isConnected;return e.ownerDocument.documentElement.contains(e)}(e)){for(var n,r=e;r&&"HTML"!==r.nodeName;){var i=Ea(r,ya,Ta,t,n);if(i)return i;n=Ea(r,ha,Ca,t,n)||xa(Sa(r),n),r=r.parentElement}return n}}function ba(e){return/[0-9]/.test(e)}function wa(e,t){if(t&&(r=i(t)))return r;for(var n=0;n<ga.length;n++){var r;if(r=i(ga[n]))return r}function i(t){if(e.hasAttribute(t))return V(e.tagName)+"["+t+'="'+V(e.getAttribute(t))+'"]'}}function Sa(e){for(var t=e.parentElement&&e.parentElement.firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;var r=V(e.tagName);return/^::/.test(r)?r:r+":nth-of-type("+n+")"}function Ea(e,t,n,r,i){for(var o=0;o<t.length;o++){var a=(0,t[o])(e,r);if(a&&n(e,a,i))return xa(a,i)}}function Ta(e,t,n){return 1===e.ownerDocument.querySelectorAll(xa(t,n)).length}function Ca(e,t,n){var r;if(void 0===n)r=function(e){return e.matches(t)};else{var i=function(){if(void 0===ma)try{document.querySelector(":scope"),ma=!0}catch(e){ma=!1}return ma}()?xa("".concat(t,":scope"),n):xa(t,n);r=function(e){return null!==e.querySelector(i)}}for(var o=e.parentElement.firstElementChild;o;){if(o!==e&&r(o))return!1;o=o.nextElementSibling}return!0}function xa(e,t){return t?e+">"+t:e}function ka(){if(Go(Bo)){var e=performance.getEntriesByType(Bo)[0];if(e)return e}var t=function(){var e={},t=performance.timing;for(var n in t)if(F(t[n])){var r=n,i=t[r];e[r]=0===i?0:ce(i)}return e}(),n=k({entryType:Bo,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.responseEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,toJSON:function(){return k({},n,{toJSON:void 0})}},t);return n}function Oa(e,t,n){return void 0===n&&(n=ka),function(e){var t,n=Zr("complete",(function(){t=m((function(){e()}))}));return{stop:function(){n.stop(),g(t)}}}((function(){var e=n();(function(e){return e.loadEventEnd<=0})(e)||t(function(e){return{fetchStart:e.fetchStart,responseEnd:e.responseEnd,domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,loadEventEnd:e.loadEventEnd,loadEventStart:e.loadEventStart,domContentLoadedEventEnd:e.domContentLoadedEventEnd,domContentLoadedEventStart:e.domContentLoadedEventStart,firstByte:e.responseStart>=0&&e.responseStart<=le()?e.responseStart:void 0}}(e))}))}function Ra(e){if(void 0===e&&(e=window),"hidden"===document.visibilityState)return{getTimeStamp:function(){return 0},stop:te};if(Go(Ho)){var t=performance.getEntriesByType(Ho).find((function(e){return"hidden"===e.name}));if(t)return{getTimeStamp:function(){return t.startTime},stop:te}}var n=1/0,r=xn(e,[mt,at],(function(e){e.type!==mt&&"hidden"!==document.visibilityState||(n=e.timeStamp,r())}),{capture:!0}).stop;return{getTimeStamp:function(){return n},stop:function(){r()}}}function Ia(e,t,n){var r={},i=Oa(0,(function(e){t(e.loadEvent),r.navigationTimings=e,n()})),o=Ra(),a=i.stop,s=function(e,t,n){return{stop:Fo(e,{type:qo,buffered:!0}).subscribe((function(e){var r=xe(e,(function(e){return e.entryType===qo&&"first-contentful-paint"===e.name&&e.startTime<t.getTimeStamp()&&e.startTime<6e5}));r&&n(r.startTime)})).unsubscribe}}(e,o,(function(e){r.firstContentfulPaint=e,n()})).stop,u=function(e,t,n,r){var i=1/0,o=xn(n,[lt,tt],(function(e){i=e.timeStamp}),{capture:!0,once:!0}).stop,a=0,s=Fo(e,{type:Uo,buffered:!0}).subscribe((function(n){var o,s=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(n,(function(e){return e.entryType===Uo&&e.startTime<i&&e.startTime<t.getTimeStamp()&&e.startTime<6e5&&e.size>a}));s&&(s.element&&(o=_a(s.element,e.actionNameAttribute)),r({value:s.startTime,targetSelector:o}),a=s.size)}));return{stop:function(){o(),s.unsubscribe()}}}(e,o,window,(function(e){r.largestContentfulPaint=e,n()})).stop,c=function(e,t,n){var r=Fo(e,{type:Mo,buffered:!0}).subscribe((function(r){var i=xe(r,(function(e){return e.entryType===Mo&&e.startTime<t.getTimeStamp()}));if(i){var o,a=me(i.startTime,i.processingStart);i.target&&Qr(i.target)&&(o=_a(i.target,e.actionNameAttribute)),n({delay:a>=0?a:0,time:i.startTime,targetSelector:o})}}));return{stop:function(){r.unsubscribe()}}}(e,o,(function(e){r.firstInput=e,n()})).stop;return{stop:function(){a(),s(),u(),c(),o.stop()},initialViewMetrics:r}}function Aa(e,t,n,r){void 0===r&&(r=function(e,t){void 0===t&&(t=1e3);return new bn((function(e){function n(){var t,n,r,i,o,a;e.notify((a=window.visualViewport,o=a?a.pageTop-a.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,t=Math.round(o),n=pa().height,r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),i=Math.round(n+t),{scrollHeight:r,scrollDepth:i,scrollTop:t}))}if(window.ResizeObserver){var r=G(n,t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,o=new ResizeObserver(c(r.throttled));i&&o.observe(i);var a=Cn(window,it,r.throttled,{passive:!0});return function(){r.cancel(),o.unobserve(i),a.stop()}}}))}());var i=0,o=0,a=0,s=r.subscribe((function(e){var r=e.scrollDepth,s=e.scrollTop,u=e.scrollHeight,c=!1;if(r>i&&(i=r,c=!0),u>o){o=u;var f=le();a=me(t.relative,f),c=!0}c&&n({maxDepth:Math.min(i,o),maxDepthScrollTop:s,maxScrollHeight:o,maxScrollHeightTime:a})}));return{stop:function(){return s.unsubscribe()}}}function Pa(e,t,n,r,i){return function(e,t,n){var r,i=!1,o=m((function(){c({hadActivity:!1})}),100),a=void 0!==n?m((function(){return c({hadActivity:!0,end:pe()})}),n):void 0,s=e.subscribe((function(e){var t=e.isBusy;g(o),g(r);var n=pe();t||(r=m((function(){c({hadActivity:!0,end:n})}),100))})),u=function(){i=!0,g(o),g(r),g(a),s.unsubscribe()};function c(e){i||(u(),t(e))}return{stop:u}}(function(e,t,n){return new bn((function(r){var i,o=[],a=0;o.push(t.subscribe((function(){u()})),Fo(n,{type:zo}).subscribe((function(e){D(e,(function(e){return!Na(n,e.name)}))&&u()})),e.subscribe(Hn,(function(e){Na(n,e.url)||(void 0===i&&(i=e.requestIndex),a+=1,u())})),e.subscribe(Fn,(function(e){Na(n,e.url)||void 0===i||e.requestIndex<i||(a-=1,u())})));var s=hn(window,"open",u).stop;return function(){s(),x(o,(function(e){e.unsubscribe()}))};function u(){r.notify({isBusy:a>0})}}))}(e,t,n),r,i)}function Na(e,t){return n=e.excludedActivityUrls,r=t,void 0===i&&(i=!1),D(n,(function(e){try{if("function"==typeof e)return e(r);if(e instanceof RegExp)return e.test(r);if("string"==typeof e)return i?Be(r,e):e===r}catch(e){a.error(e)}return!1}));var n,r,i}function La(e,t,n){if(!Da())return{stop:te};var r,i,o=0;n({value:0});var a=function(){var e,t,n=0,r=0;return{update:function(i){var o;return void 0===e||i.startTime-t>=1e3||i.startTime-e>=25e3?(e=t=i.startTime,r=n=i.value,o=!0):(n+=i.value,t=i.startTime,(o=i.value>r)&&(r=i.value)),{cumulatedValue:n,isMaxValue:o}}}}(),s=Fo(e,{type:Do,buffered:!0}).subscribe((function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(!(f.hadRecentInput||f.startTime<t)){var l=a.update(f),d=l.cumulatedValue;if(l.isMaxValue){var p=Ma(f.sources);r=p?new WeakRef(p):void 0,i=me(t,f.startTime)}if(d>o){o=d;p=r&&r.deref();n({value:ae(o,4),targetSelector:p&&_a(p,e.actionNameAttribute),time:i})}}}}));return{stop:function(){s.unsubscribe()}}}function Ma(e){if(e){var t=xe(e,(function(e){return!!e.node&&Qr(e.node)}));return t&&t.node}}var Ua;function Da(){return Go(Do)&&"WeakRef"in window}var Va=0,ja=1/0,Ba=0;var qa=function(){return Ua?Va:window.performance.interactionCount||0},za=new Map;function Ha(e,t,n){if(!(Go("event")&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:te,stop:te};var r,i,o=function(e){"interactionCount"in performance||Ua||(Ua=new window.PerformanceObserver(c((function(e){e.getEntries().forEach((function(e){var t=e;t.interactionId&&(ja=Math.min(ja,t.interactionId),Ba=Math.max(Ba,t.interactionId),Va=(Ba-ja)/7+1)}))})))).observe({type:"event",buffered:!0,durationThreshold:0});var t=e===Ut?0:qa(),n={stopped:!1};function r(){return qa()-t}return{getViewInteractionCount:function(){return n.stopped?n.interactionCount:r()},stopViewInteractionCount:function(){n={stopped:!0,interactionCount:r()}}}}(n),a=o.getViewInteractionCount,s=o.stopViewInteractionCount,u=1/0,f=function(e){var t=[];function n(){t.sort((function(e,t){return t.duration-e.duration})).splice(10)}return{process:function(e){var r=t.findIndex((function(t){return e.interactionId===t.interactionId})),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(a),l=-1;function d(n){for(var o=0,a=n;o<a.length;o++){var s=a[o];s.interactionId&&s.startTime>=t&&s.startTime<=u&&f.process(s)}var c,d,p=f.estimateP98Interaction();p&&p.duration!==l&&(l=p.duration,i=me(t,p.startTime),c=p.startTime,d=za.get(c),za.delete(c),!(r=d)&&p.target&&Qr(p.target)&&(r=_a(p.target,e.actionNameAttribute)))}var p=Fo(e,{type:Mo,buffered:!0}).subscribe(d),v=Fo(e,{type:Lo,durationThreshold:40,buffered:!0}).subscribe(d);return{getInteractionToNextPaint:function(){return l>=0?{value:Math.min(l,6e4),targetSelector:r,time:i}:a()?{value:0}:void 0},setViewEnd:function(e){u=e,s()},stop:function(){v.unsubscribe(),p.unsubscribe()}}}function Fa(e,t,n,r,i,o){var a={},s=function(e,t,n,r,i,o){var a=r===Ut,s=!0,u=[],c=Ra();function f(){if(!s&&!a&&u.length>0){var e=Math.max.apply(Math,u);e<c.getTimeStamp()&&o(e)}}var l=Pa(e,t,n,(function(e){s&&(s=!1,e.hadActivity&&u.push(me(i.timeStamp,e.end)),f())})).stop;return{setLoadEvent:function(e){a&&(a=!1,u.push(e),f())},stop:function(){l(),c.stop(),s&&(s=!1,f())}}}(e,t,n,i,o,(function(e){a.loadingTime=e,r()})),u=s.stop,c=s.setLoadEvent,f=Aa(0,o,(function(e){a.scroll=e})).stop,l=La(n,o.relative,(function(e){a.cumulativeLayoutShift=e,r()})).stop,d=Ha(n,o.relative,i),p=d.stop,v=d.getInteractionToNextPaint;return{stop:function(){u(),l(),f()},stopINPTracking:p,setLoadEvent:c,setViewEnd:d.setViewEnd,getCommonViewMetrics:function(){return a.interactionToNextPaint=v(),a}}}function Ga(e,t,n){var r=function(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange;void 0===r&&(r=te);var i={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},o=t.subscribe(Wn,(function(e){if(e.type!==Nt.VIEW&&n(e))switch(e.type){case Nt.ERROR:i.errorCount+=1,r();break;case Nt.ACTION:e.action.frustration&&(i.frustrationCount+=e.action.frustration.type.length),i.actionCount+=1,r();break;case Nt.LONG_TASK:i.longTaskCount+=1,r();break;case Nt.RESOURCE:i.resourceCount+=1,r()}}));return{stop:function(){o.unsubscribe()},eventCounts:i}}({lifeCycle:e,isChildEvent:function(e){return e.view.id===t},onChange:n});return{stop:r.stop,eventCounts:r.eventCounts}}var Wa=3e5,Ja=3e5;function Ka(e,t,n,r,i,o,a){var s=new Set;function u(i,o,a){var u=function(e,t,n,r,i,o,a){void 0===o&&(o=de());var s,u,c,f,l,d=W(),p=new bn,v={},g=0,_=O(r),b=Ni(),w=!0;a&&(u=a.name,c=a.service,f=a.version,l=a.context);l&&b.setContext(l);var S={id:d,name:u,startClocks:o,service:c,version:f};e.notify(Ln,S),e.notify(Mn,S);var E=G(q,3e3,{leading:!1}),T=E.throttled,C=E.cancel,x=Fa(e,t,n,B,i,o),k=x.setLoadEvent,R=(x.stop,x.getCommonViewMetrics),I=x.stopINPTracking,A=(x.setViewEnd,i===Ut?Ia(n,k,B):{stop:te,initialViewMetrics:{}}),P=A.stop,N=A.initialViewMetrics,L=Ga(e,d,B),M=L.stop,U=L.eventCounts,D=y(q,Wa),V=e.subscribe(zn,(function(e){e.reason===Xr.UNLOADING&&q()}));function j(){e.notify(Dn,{id:d,name:u,context:b.getContext(),startClocks:o})}function B(){j(),T()}function q(){C(),j(),g+=1;var t=void 0===s?pe():s.timeStamp;e.notify(Un,{customTimings:v,documentVersion:g,id:d,name:u,service:c,version:f,context:b.getContext(),loadingType:i,location:_,startClocks:o,commonViewMetrics:R(),initialViewMetrics:N,duration:me(o.timeStamp,t),isActive:void 0===s,sessionIsActive:w,eventCounts:U})}q(),b.changeObservable.subscribe(B);var z={name:u,service:c,version:f,contextManager:b,stopObservable:p,end:function(t){s||(s=Ve(t&&t.endClocks,de()),w=Ve(t&&t.sessionIsActive,!0),e.notify(Vn,{endClocks:s}),e.notify(jn,{endClocks:s}),h(D),V.unsubscribe(),q(),m((function(){z.stop()}),Ja))},stop:function(){P(),M(),I(),p.notify()},addTiming:function(e,t){if(!s){var n=function(e){return e<31536e6}(t)?t:me(o.timeStamp,t);v[function(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");t!==e&&console.warn("Invalid timing name: "+e+", sanitized to: "+t);return t}(e)]=n,B()}},setViewName:function(e){u=e,q()}};return z}(t,n,r,e,i,o,a);return s.add(u),u.stopObservable.subscribe((function(){s.delete(u)})),u}var c,f=u(Ut,ge(),a);return t.subscribe(Bn,(function(){f=u(Dt,void 0,{name:f.name,service:f.service,version:f.version,context:f.contextManager.getContext()})})),t.subscribe(qn,(function(){f.end({sessionIsActive:!1})})),o&&(c=function(e){return e.subscribe((function(e){var t,n,r=e.oldLocation,i=e.newLocation;if(n=i,(t=r).pathname!==n.pathname||!ze(n.hash)&&He(n.hash)!==He(t.hash))return f.end(),void(f=u(Dt))}))}(i)),{addTiming:function(e,t){void 0===t&&(t=pe()),f.addTiming(e,t)},startView:function(e,t){f.end({endClocks:t}),f=u(Dt,t,e)},setViewContext:function(e){f.contextManager.setContext(e)},setViewContextProperty:function(e,t){f.contextManager.setContextProperty(e,t)},setViewName:function(e){f.setViewName(e)},getViewContext:function(){return f.contextManager.getContext()},stop:function(){c&&c.unsubscribe(),f.end(),s.forEach((function(e){e.stop()}))}}}function $a(e,t,n,r,i,o,a,s){return e.subscribe(Un,(function(n){e.notify(Gn,function(e,t,n,r){var i=r.findAll(e.startClocks.relative,e.duration),o={_gc:{document_version:e.documentVersion,page_states:i},date:e.startClocks.timeStamp,type:Nt.VIEW,view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:Se(e.commonViewMetrics,"cumulativeLayoutShift.value"),cumulative_layout_shift_time:Se(e.commonViewMetrics,"cumulativeLayoutShift.time"),cumulative_layout_shift_target_selector:Se(e.commonViewMetrics,"cumulativeLayoutShift.targetSelector"),first_byte:ue(Se(e.initialViewMetrics,"navigationTimings.firstByte")),dom_complete:ue(Se(e.initialViewMetrics,"navigationTimings.domComplete")),dom_content_loaded:ue(Se(e.initialViewMetrics,"navigationTimings.domContentLoaded")),dom_interactive:ue(Se(e.initialViewMetrics,"navigationTimings.domInteractive")),error:{count:e.eventCounts.errorCount},first_contentful_paint:ue(Se(e.initialViewMetrics,"firstContentfulPaint")),first_input_delay:ue(Se(e.initialViewMetrics,"firstInput.delay")),first_input_time:ue(Se(e.initialViewMetrics,"firstInput.time")),first_input_target_selector:Se(e.initialViewMetrics,"firstInput.targetSelector"),interaction_to_next_paint:ue(Se(e.commonViewMetrics,"interactionToNextPaint.value")),interaction_to_next_paint_target_selector:Se(e.commonViewMetrics,"interactionToNextPaint.targetSelector"),is_active:e.isActive,name:e.name,largest_contentful_paint:ue(Se(e.initialViewMetrics,"largestContentfulPaint.value")),largest_contentful_paint_element_selector:Se(e.initialViewMetrics,"largestContentfulPaint.targetSelector"),load_event:ue(Se(e.initialViewMetrics,"navigationTimings.loadEvent")),loading_time:Fe(ue(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:ue(e.duration)},display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:ue(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{is_active:!!e.sessionIsActive&&void 0},privacy:{replay_level:t.defaultPrivacyLevel}};B(e.customTimings)||(o.view.custom_timings=(a=e.customTimings,s=ue,u={},x(a,(function(e,t){u[t]=s(e)})),u));var a,s,u;return{rawRumEvent:o=I(o,{view:Xa(e.initialViewMetrics.navigationTimings)}),startTime:e.startClocks.relative,domainContext:{location:e.location}}}(n,t,0,o))})),Ka(n,e,r,t,i,!t.trackViewsManually,s)}function Xa(e){if(e){var t=e.fetchStart,n=e.responseEnd,r=e.domInteractive,i=e.domContentLoaded,o=e.domComplete,a=e.loadEventEnd,s=e.loadEventStart,u=e.domContentLoadedEventEnd,c={};if(F(n)&&F(t)&&n!==t&&n>t){c.fpt=ue(n-t);var f=parseInt((n-t)/1e3);c.apdexLevel=f>9?9:f}return F(r)&&F(t)&&r!==t&&r>t&&(c.tti=ue(r-t)),F(i)&&F(t)&&i!==t&&i>t&&(c.dom_ready=ue(i-t)),F(a)&&F(t)&&a!==t&&a>t&&(c.load=ue(a-t)),F(s)&&F(u)&&s!==u&&s>u&&(c.resource_load_time=ue(s-u)),F(o)&&F(r)&&o!==r&&o>r&&(c.dom=ue(o-r)),c}}function Qa(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}var Za=1;function Ya(e,t,n){var r={clearTracingIfNeeded:Qa,traceFetch:function(e){},traceXhr:function(e,t){}};!function(e,t,n){var r=Jr().subscribe((function(r){var i=r;if(Oo(t,i.url))switch(i.state){case"start":n.traceXhr(i,i.xhr),i.requestIndex=es(),e.notify(Hn,{requestIndex:i.requestIndex,url:i.url});break;case"complete":n.clearTracingIfNeeded(i),e.notify(Fn,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:Vt.XHR,url:i.url,xhr:i.xhr,isAborted:i.isAborted,handlingStack:i.handlingStack})}}))}(e,t,r),function(e,t,n){var r=Gr().subscribe((function(r){var i=r;if(Oo(t,i.url))switch(i.state){case"start":n.traceFetch(i),i.requestIndex=es(),e.notify(Hn,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":!function(e,t){var n=e.response&&function(e){try{return e.clone()}catch(e){return}}(e.response);n&&n.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function a(){var e,a;if(r.cancel().catch(te),n.collectStreamBody){var s;if(1===i.length)s=i[0];else{s=new Uint8Array(o);var u=0;x(i,(function(e){s.set(e,u),u+=e.length}))}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(c((function(t){t.done?a():(n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?a():e())})),c((function(e){t(e)})))}()}(n.body,(function(){t(me(e.startClocks.timeStamp,pe()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t(me(e.startClocks.timeStamp,pe()))}(i,(function(t){n.clearTracingIfNeeded(i),e.notify(Fn,{duration:t,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:Vt.FETCH,url:i.url,response:i.response,init:i.init,input:i.input,isAborted:i.isAborted,handlingStack:i.handlingStack})}))}}))}(e,t,r)}function es(){var e=Za;return Za+=1,e}var ts=new Ki;function ns(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=M(t,(function(e){return!ts.has(e)}));n=M(n,(function(e){return Eo(e)&&To(e)})),n=M(n,(function(t){return n=t,r=e.startClocks.relative,i=rs({startTime:e.startClocks.relative,duration:e.duration}),o=1,n.startTime>=r-o&&rs(n)<=he(i,o);var n,r,i,o}));var r=void 0;if(n.length>1){var i=Number.MAX_SAFE_INTEGER;n.forEach((function(t){var n=Math.abs(t.startTime-e.startClocks.relative);n<i&&(i=n,r=t)}))}else 1===n.length&&(r=n[0]);return r?(ts.add(r),r.toJSON()):void 0}}}function rs(e){return he(e.startTime,e.duration)}function is(e,t){Zr("interactive",(function(){var e=k(ka().toJSON(),{entryType:zo,initiatorType:po,toJSON:function(){return k({},e,{toJSON:void 0})}});t(e)}))}function os(e,t,n,r,i){void 0===r&&(r=function(){var e=[];function t(t){var r;if(t.didTimeout){var i=performance.now();r=function(){return 30-(performance.now()-i)}}else r=t.timeRemaining.bind(t);for(;r()>0&&e.length;)e.shift()();e.length&&n()}function n(){ur(t,{timeout:1e3})}return{push:function(t){1===e.push(t)&&n()}}}()),void 0===i&&(i=is),e.subscribe(Fn,(function(e){a((function(){return function(e,t){var n=ns(e),r=n?ye(n.startTime):e.startClocks,i=function(e){if(!(e.traceSampled&&e.traceId&&e.spanId))return;return{_gc:{spanId:e.spanId,traceId:e.traceId},resource:{id:W()}}}(e),o=e.type===Vt.XHR?Et:Ct,a=n?ss(n):void 0,s=function(e,t,n){return e.wasInPageStateDuringPeriod($o,t.relative,n)?void 0:ue(n)}(t,r,e.duration),u=K(e.url).getParse(),c=I({date:r.timeStamp,resource:{id:W(),type:o,duration:s,method:e.method,status:e.status,statusGroup:ee(e.status),url:Io(e.url)?Ao(e.url):e.url,urlHost:u.Host,urlPath:u.Path,urlPathGroup:J(u.Path),urlQuery:$(e.url),deliveryType:n&&yo(n),protocol:n&&ho(n)},type:Nt.RESOURCE},i,a);return{startTime:r.relative,rawRumEvent:c,domainContext:{performanceEntry:n,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}(e,n)}))}));var o=Fo(t,{type:zo,buffered:!0}).subscribe((function(e){for(var n=function(e){(function(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType})(e)||bo(e.name,t.resourceUrlLimit)||a((function(){return as(e,t)}))},r=0,i=e;r<i.length;r++){n(i[r])}}));function a(t){r.push((function(){var n=t();n&&e.notify(Gn,n)}))}return i(t,(function(e){a((function(){return as(e,t)}))})),{stop:function(){o.unsubscribe()}}}function as(e,t){var n,r=ye(e.startTime),i=function(e){return e.traceId?{_gc:{traceId:e.traceId}}:void 0}(e),o=mo(e),a=ss(e),s=K(e.name).getParse(),u=I({date:r.timeStamp,resource:{id:W(),type:o,url:e.name,urlHost:s.Host,urlPath:s.Path,urlPathGroup:J(s.Path),urlQuery:$(e.name),method:"GET",status:(n=e.responseStatus,0===n?void 0:n),statusGroup:ee(e.responseStatus),deliveryType:yo(e),protocol:ho(e)},type:Nt.RESOURCE},i,a);return{startTime:r.relative,rawRumEvent:u,domainContext:{performanceEntry:e}}}function ss(e){return{resource:I({},{duration:wo(e)},ko(e),So(e))}}var us={sdkVersion:"3.2.24",sdkName:"df_web_rum_sdk"};function cs(e){if(e.applicationId){if(function(e){return e.site||e.datakitOrigin||e.datakitUrl?!(e.site&&!e.clientToken&&(a.error("clientToken is not configured, no RUM data will be collected."),1)):(a.error("datakitOrigin or site is not configured, no RUM data will be collected."),!1)}(e))if(void 0===e.sessionOnErrorSampleRate||Oe(e.sessionOnErrorSampleRate))if(void 0===e.sessionReplaySampleRate||Oe(e.sessionReplaySampleRate))if(void 0===e.sessionReplayOnErrorSampleRate||Oe(e.sessionReplayOnErrorSampleRate)){var t=function(e){void 0!==e.allowedTracingUrls&&void 0!==e.allowedTracingOrigins&&a.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins.");if(void 0!==e.allowedTracingUrls){if(!A(e.allowedTracingUrls))return void a.error("Allowed Tracing URLs should be an array");var t=[];return x(e.allowedTracingUrls,(function(n){var r;Te(n)?t.push({match:n,traceType:Ve(e.traceType,jt)}):"object"===Q(r=n)&&Te(r.match)&&z(r.traceType)?t.push(n):a.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)})),t}if(void 0!==e.allowedTracingOrigins){if(!A(e.allowedTracingOrigins))return void a.error("Allowed Tracing Origins should be an array");t=[];return x(e.allowedTracingOrigins,(function(n){var r=fs(n,Ve(e.traceType,jt));r&&t.push(r)})),t}if(void 0!==e.allowedDDTracingOrigins){if(!A(e.allowedDDTracingOrigins))return void a.error("Allowed Tracing Origins should be an array");t=[];return x(e.allowedDDTracingOrigins,(function(n){var r=fs(n,Ve(e.traceType,jt));r&&t.push(r)})),t}return[]}(e);if(t)if(void 0===e.tracingSampleRate||Oe(e.tracingSampleRate))if(void 0===e.excludedActivityUrls||A(e.excludedActivityUrls)){var n=Fr(e);if(n){var r=!!Ve(e.trackUserInteractions,e.trackInteractions);return k({applicationId:e.applicationId,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:Ve(e.sessionReplaySampleRate,100),sessionOnErrorSampleRate:Ve(e.sessionOnErrorSampleRate,0),sessionReplayOnErrorSampleRate:Ve(e.sessionReplayOnErrorSampleRate,0),tracingSampleRate:Ve(e.tracingSampleRate,100),allowedTracingUrls:t,injectTraceHeader:e.injectTraceHeader&&d(e.injectTraceHeader,"injectTraceHeader threw an error:"),generateTraceId:e.generateTraceId&&d(e.generateTraceId,"generateTraceId threw an error:"),excludedActivityUrls:Ve(e.excludedActivityUrls,[]),workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:r,enableLongAnimationFrame:!!e.enableLongAnimationFrame,trackViewsManually:!!e.trackViewsManually,traceType:Ve(e.traceType,jt),traceId128Bit:!!e.traceId128Bit,defaultPrivacyLevel:je(Hr,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:Hr.MASK_USER_INPUT,shouldMaskNode:e.shouldMaskNode&&d(e.shouldMaskNode,"shouldMaskNode threw an error:")},n,us)}}else a.error("Excluded Activity Urls should be an array");else a.error("Tracing Sample Rate should be a number between 0 and 100")}else a.error("Error Session Replay Sample Rate should be a number between 0 and 100");else a.error("Session Replay Sample Rate should be a number between 0 and 100");else a.error("Error Session  Sample Rate should be a number between 0 and 100")}else a.error("Application ID is not configured, no RUM data will be collected.")}function fs(e,t){var n;if("string"==typeof e?n=e:e instanceof RegExp?n=function(t){return e.test(ar(t))}:"function"==typeof e&&(n=function(t){return e(ar(t))}),void 0!==n)return{match:n,traceType:t};a.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",e)}function ls(e,t,n){var r,i,o,s,u=e.ignoreInitIfSyntheticsWillInjectRum,c=(r=[],{add:function(e){r.push(e)>500&&r.splice(0,1)},remove:function(e){qe(r,e)},drain:function(e){r.forEach((function(t){t(e)})),r.length=0}});function f(){if(o&&s){var e;if(s.trackViewsManually){if(!i)return;c.remove(i.callback),e=i.options}var t=n(s,undefined,e);c.drain(t)}}return{init:function(e){e?(o=e,u&&Boolean(window._GUANCE_SYNTHETICS_INJECTS_RUM||gr("guance-synthetics-injects-rum"))||e.remoteConfiguration||function(e){if(o=e,s)$i("DATAFLUX_RUM",e);else{var t=cs(e);t&&(s=t,Gr().subscribe(te),f())}}(e)):a.error("Missing configuration")},getInitConfiguration:function(){return o},getInternalContext:te,stopSession:te,addTiming:function(e,t){void 0===t&&(t=pe()),c.add((function(n){n.addTiming(e,t)}))},startView:function(e,t){void 0===t&&(t=de());var n=function(n){n.startView(e,t)};c.add(n),i||(i={options:e,callback:n},f())},setViewName:function(e){c.add((function(t){return t.setViewName(e)}))},setViewContext:function(e){c.add((function(t){return t.setViewContext(e)}))},setViewContextProperty:function(e,t){c.add((function(n){return n.setViewContextProperty(e,t)}))},getViewContext:function(){},addAction:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addAction(e,n)}))},addError:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addError(e,n)}))}}}var ds,ps,vs,ms,gs=function(t,n,r){void 0===r&&(r={});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi,t=new Map,n=!1;function r(){if(!n&&e!==qi){var r=e===Hi?ji:Bi,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.forEach((function(e){i+=e.getBytesCount()})),i>r&&(Gi(r),n=!0)}}return{createDetachedTracker:function(){var e=Fi((function(){return r(e.getBytesCount())}));return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,Fi(r)),t.get(e)},setCompressionStatus:function(t){e===qi&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach((function(e){return e.stop()})),t.clear()}}}(qi),o=Ni("global",{customerDataTracker:i.getOrCreateTracker(Mi)}),s=Ni("user",{customerDataTracker:i.getOrCreateTracker(Li),propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}});function l(){return function(e,t,n){return{context:e.getContext(),user:t.getContext(),hasReplay:!1}}(o,s)}var d,p,v=ls(r,l,(function(e,a,u){e.storeContextsToLocal&&(Vi(e,o,"rum",Mi),Vi(e,s,"rum",Li)),i.setCompressionStatus(a?zi:Hi);var c=t(e,n,i,l,u,a&&r.createDeflateEncoder?function(e){return r.createDeflateEncoder(a,e)}:Wi);return v=function(e,t){return k({init:function(e){$i("DATAFLUX_RUM",e)},initConfiguration:e.getInitConfiguration()},t)}(v,c),c})),m=c((function(t){var n="object"===e(t)?t:{name:t};v.startView(n),n.context&&i.getOrCreateTracker(Ui).updateCustomerData(n.context)}));return d={init:c((function(e){v.init(e)})),setViewName:c((function(e){v.setViewName(e)})),setViewContext:c((function(e){v.setViewContext(e)})),setViewContextProperty:c((function(e,t){v.setViewContextProperty(e,t)})),getViewContext:c((function(){return v.getViewContext()})),setGlobalContextProperty:c((function(e,t){o.setContextProperty(e,t)})),removeGlobalContextProperty:c((function(e){return o.removeContextProperty(e)})),getGlobalContext:c((function(){return o.getContext()})),setGlobalContext:c((function(e){o.setContext(e)})),clearGlobalContext:c((function(){return o.clearContext()})),getInitConfiguration:c((function(){return Y(v.initConfiguration)})),getInternalContext:c((function(e){return v.getInternalContext(e)})),addDebugSession:c((function(e){})),clearDebugSession:c((function(){})),getDebugSession:c((function(){})),addAction:c((function(e,t){var n=vn();f((function(){v.addAction({name:un(e),context:un(t),startClocks:de(),type:Pt,handlingStack:n})}))})),addError:c((function(e,t){var n=vn();f((function(){v.addError({error:e,handlingStack:n,context:un(t),startClocks:de()})}))})),addTiming:c((function(e,t){v.addTiming(un(e),t)})),setUser:c((function(e){(function(e){var t="object"===Q(e);return t||a.error("Unsupported user:",e),t})(e)&&s.setContext(Ji(e))})),getUser:c((function(){return s.getContext()})),setUserProperty:c((function(e,t){var n={};n[e]=t;var r=Ji(n)[e];s.setContextProperty(e,r)})),removeUserProperty:c((function(e){return s.removeContextProperty(e)})),clearUser:c((function(){return s.clearContext()})),startView:m,stopSession:c((function(){v.stopSession()}))},p=k({onReady:function(e){e()}},d),Object.defineProperty(p,"_setDebug",{get:function(){return u},enumerable:!1}),p}((function(e,t,n,r,i,o){var a=[],s=new Kn,u=function(e){s.notify(Jn,{error:e})},c=new bn((function(e){var t=xn(window,[at,ut],(function(t){t.type===at&&"hidden"===document.visibilityState?e.notify({reason:Xr.HIDDEN}):t.type===ut&&e.notify({reason:Xr.FROZEN})}),{capture:!0}),n=Cn(window,Ye,(function(){e.notify({reason:Xr.UNLOADING})}));return function(){t.stop(),n.stop()}}));c.subscribe((function(e){s.notify(zn,e)})),a.push((function(){pageExitSubscription.unsubscribe()}));var f=Oi()?void 0:ao(e,s);if(!Oi()){var l=ta(e,s,0,u,c,f.expireObservable,o);a.push((function(){l.stop()}))}var d=co(e),p=fo(),v=lo(location),m=Qo(),g=function(e,t,n,r,i,o,a,s,u,c){var f=function(e){var t=Ke({expireDelay:144e5});return e.subscribe(Ln,(function(e){t.add(function(e){return{service:e.service,version:e.version,context:e.context,id:e.id,name:e.name,startClocks:e.startClocks}}(e),e.startClocks.relative)})),e.subscribe(jn,(function(e){t.closeActive(e.endClocks.relative)})),e.subscribe(Dn,(function(e){var n=t.find(e.startClocks.relative);n&&e.name&&(n.name=e.name),n&&e.context&&(n.context=e.context)})),e.subscribe(Bn,(function(){t.reset()})),{findView:function(e){return t.find(e)},stop:function(){t.stop()}}}(e),l=function(e,t,n){var r,i=Ke({expireDelay:144e5});e.subscribe(Ln,(function(e){var t=n.href;i.add(a({url:t,location:n,referrer:r||document.referrer}),e.startClocks.relative),r=t})),e.subscribe(jn,(function(e){i.closeActive(e.endClocks.relative)}));var o=t.subscribe((function(e){var t=i.find();if(t){var n=le();i.closeActive(n),i.add(a({url:e.newLocation.href,location:e.newLocation,referrer:t.referrer}),n)}}));function a(e){var t=e.location.pathname,n=e.location.hash;return n&&!ze(n)&&(t="/"+He(n)),{url:e.url,referrer:e.referrer,host:e.location.host,path:t,pathGroup:J(t),urlQuery:$(e.location.href)}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,a,n),d=function(e,t,n,r){return e.subscribe(Nn,(function(t){e.notify(Gn,Yo(t,r))})),{actionContexts:{findActionId:te,findAllActionId:te},addAction:function(t,n){e.notify(Gn,R({savedCommonContext:n},Yo(t,r)))}}}(e,0,0,o),p=d.actionContexts,v=d.addAction,m=(g=pa(),{get:function(){return{viewport:g}},stop:da().subscribe((function(e){g=e})).unsubscribe});var g;return la(t,e,r,i,f,l,p,m,u,c),{viewContexts:f,urlContexts:l,pageStateHistory:o,addAction:v,actionContexts:p,stop:function(){m.stop(),o.stop(),l.stop(),f.stop()}}}(s,e,location,f,d,m,v,0,r,u),y=g.viewContexts,h=g.urlContexts,_=g.actionContexts,b=g.stop,w=g.addAction;a.push(b);var S=$a(s,e,location,p,v,m,0,i),E=S.addTiming,T=S.startView,C=S.setViewName,x=S.setViewContext,k=S.setViewContextProperty,O=S.getViewContext,I=S.stop;a.push(I);var A=os(s,e,m);if(a.push(A.stop),PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(jo)){var P=function(e,t){var n=Fo(t,{type:jo,buffered:!0}).subscribe((function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n],o=ye(i.startTime),a={date:o.timeStamp,longTask:{id:W(),entryType:Mt,duration:ue(i.duration),blockingDuration:ue(i.blockingDuration),firstUiEventTimestamp:ue(i.firstUIEventTimestamp),renderStart:ue(i.renderStart),styleAndLayoutStart:ue(i.styleAndLayoutStart),startTime:ue(i.startTime),scripts:i.scripts.map((function(e){return{duration:ue(e.duration),pause_duration:ue(e.pauseDuration),forced_style_and_layout_duration:ue(e.forcedStyleAndLayoutDuration),start_time:ue(e.startTime),execution_start:ue(e.executionStart),source_url:e.sourceURL,source_function_name:e.sourceFunctionName,source_char_position:e.sourceCharPosition,invoker:e.invoker,invoker_type:e.invokerType,window_attribution:e.windowAttribution}}))},type:Nt.LONG_TASK};e.notify(Gn,{rawRumEvent:a,startTime:o.relative,domainContext:{performanceEntry:i}})}}));return{stop:function(){n.unsubscribe()}}}(s,e);a.push(P.stop)}else!function(e,t){var n=Fo(t,{type:Vo,buffered:!0}).subscribe((function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.entryType!==Vo)break;var i=ye(r.startTime),o={date:i.timeStamp,longTask:{id:W(),entryType:Lt,duration:ue(r.duration)},type:Nt.LONG_TASK};e.notify(Gn,{rawRumEvent:o,startTime:i.relative,domainContext:{performanceEntry:r}})}}))}(s,e);var N=va(s,0,f,m).addError;Ya(s,e);var L=function(e,t,n,r,i){return{get:function(o){var a=n.findView(o),s=i.findUrl(o),u=t.findTrackedSession(o);if(u&&a&&s){var c=r.findActionId(o),f=r.findAllActionId(o);return{application:{id:e},session:{id:u.id},userAction:c?{id:c,ids:f}:void 0,view:{id:a.id,name:a.name||s.path,url:s.url,referrer:s.referrer,host:s.host,path:s.path,pathGroup:s.pathGroup,urlQuery:s.urlQuery}}}}}}(e.applicationId,f,y,_,h);return{addAction:w,addError:N,addTiming:E,configuration:e,startView:T,setViewContext:x,setViewContextProperty:k,getViewContext:O,setViewName:C,lifeCycle:s,viewContexts:y,session:f,stopSession:function(){f.expire()},getInternalContext:L.get,stop:function(){a.forEach((function(e){e()}))}}}),"recorderApi",{startDeflateWorker:null,createDeflateEncoder:null});ds=p(),vs=gs,ms=ds[ps="DATAFLUX_RUM"],ds[ps]=vs,ms&&ms.q&&x(ms.q,(function(e){d(e,"onReady callback threw an error:")()}))}();
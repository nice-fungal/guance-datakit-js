!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},n=console,r={};Object.keys(t).forEach((function(e){r[e]=n[e]}));var i,o="GUANCE Browser SDK:",a={debug:r.debug.bind(n,o),log:r.log.bind(n,o),info:r.info.bind(n,o),warn:r.warn.bind(n,o),error:r.error.bind(n,o)},s=!1;function u(e){s=e}function c(e){return function(){return f(e,this,arguments)}}function f(e,t,n){try{return e.apply(t,n)}catch(e){if(l(e),i)try{i(e)}catch(e){l(e)}}}function l(){var e=[].slice.call(arguments);s&&a.error.apply(null,["[MONITOR]"].concat(e))}function d(e,t){return function(){var n=[].slice.call(arguments);try{return e.apply(this,n)}catch(e){a.error(t,e)}}}function p(){if("object"===("undefined"==typeof globalThis?"undefined":e(globalThis)))return globalThis;Object.defineProperty(Object.prototype,"_gc_temp_",{get:function(){return this},configurable:!0});var t=_gc_temp_;return delete Object.prototype._gc_temp_,"object"!==e(t)&&(t="object"===("undefined"==typeof self?"undefined":e(self))?self:"object"===("undefined"==typeof window?"undefined":e(window))?window:{}),t}function v(e,t){var n,r=p();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function g(e,t){return v(p(),"setTimeout")(c(e),t)}function m(e){v(p(),"clearTimeout")(e)}function h(e,t){return v(p(),"setInterval")(c(e),t)}function y(e){v(p(),"clearInterval")(e)}var b=Array.prototype,_=(Function.prototype,Object.prototype),w=b.slice,S=_.toString,T=_.hasOwnProperty,E=b.forEach,C=Array.isArray,x=function(e,t,n){if(null===e)return!1;if(E&&e.forEach===E)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&false===t.call(n,e[r],r,e))return!1}else for(var o in e)if(T.call(e,o)&&false===t.call(n,e[o],o,e))return!1};function k(e){return x(w.call(arguments,1),(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function I(e){return k({},e)}var O=function(e){return x(w.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},R=function(e){return x(w.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(B(t[n])&&B(e[n])?O(e[n],t[n]):e[n]=t[n])})),e},A=C||function(e){return"[object Array]"===S.call(e)},P=function(e){if(!e)return!1;try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},N=function(e){return e?e.toArray?e.toArray():A(e)?w.call(e):(t=e)&&T.call(t,"callee")?w.call(e):M(e):[];var t},M=function(e){var t=[];return null===e||x(e,(function(e){t[t.length]=e})),t},L=function(e,t,n){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)if(T.call(e,i)){var o=e[i];t.call(n,o,i,e)&&r.push(o)}return r},U=function(e,t,n){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)if(T.call(e,i)){var o=e[i];r.push(t.call(n,o,i,e))}return r},D=function(e,t,n){if(e.some)return e.some(t);for(var r=!1,i=0;i<e.length;i++)if(T.call(e,i)){var o=e[i];if(t.call(n,o,i,e)){r=!0;break}}return r},V=function(e,t,n){return void 0===n&&(n=!1),D(e,(function(e){try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return n?qe(t,e):e===t}catch(e){a.error(e)}return!1}))},j=function(e){return e+="",window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}))},B=function(e){return null!==e&&"[object Object]"===S.call(e)},H=function(e){if(B(e)){for(var t in e)if(T.call(e,t))return!1;return!0}return!1},q=function(e){var t=[];return x(e,(function(e,n){t.push([n,e])})),t},z=function(e){return"[object String]"===S.call(e)},F=function(e){return"[object Boolean]"===S.call(e)},G=function(e){return"[object Number]"===S.call(e)&&/[\d\.]+/.test(String(e))},W=(Date.now,function(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1,u=this;return{throttled:function(){s?r=arguments:(o?e.apply(u,arguments):r=arguments,s=!0,i=g((function(){a&&r&&e.apply(u,r),s=!1,r=void 0}),t))},cancel:function(){m(i),s=!1,r=void 0}}}),J=function(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})));var t,n,r,i,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,u=0,c="",f=[];if(!(e=String(e)))return e;e=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var a=e.charCodeAt(i),s=null;a<128?n++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(n>t&&(o+=e.substring(t,n)),o+=s,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o}(e);do{t=(o=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,f[u++]=a.charAt(t)+a.charAt(n)+a.charAt(r)+a.charAt(i)}while(s<e.length);switch(c=f.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c};function X(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,X)}function K(e){var t="";return e&&(t=e.replace(/\/([^\/]*)\d([^\/]*)/g,"/?").replace(/\/$/g,"")),t||"/"}var $=function(t){var n=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return n.prototype.setUrl=function(e){this._parse(e)},n.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},n.prototype.addQueryString=function(t){if("object"!==e(t))return!1;var n=this._values.QueryString||"";for(var r in t)n=new RegExp(r+"[^&]+").test(n)?n.replace(new RegExp(r+"[^&]+"),r+"="+t[r]):"&"===n.slice(-1)?n+r+"="+t[r]:""===n?r+"="+t[r]:n+"&"+r+"="+t[r];this._values.QueryString=n},n.prototype.getParse=function(){return this._values},n.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Path,e+=this._values.QueryString?"?"+this._values.QueryString:""},n.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);if(!t)throw"DPURLParser::_parse -> Invalid URL";for(var n in this._fields)void 0!==t[this._fields[n]]&&(this._values[n]=t[this._fields[n]]);this._values.Path=this._values.Path||"/",this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname+(this._values.Port?":"+this._values.Port:"")},new n(t)};var Q=function(e){var t={},n=e.split("?")[1]||"";return n&&(t=Z("?"+n)),t},Z=function(e){for(var t=function(e){return decodeURIComponent(e)},n={},r=(e=e||"").substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");if(-1!==o){var a=r[i].substring(0,o),s=r[i].substring(o+1);a=t(a),s=t(s),n[a]=s}}return n};function Y(t){return null===t?"null":Array.isArray(t)?"array":e(t)}function ee(t,n,r){if(void 0===r&&(r=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===n)return t;if("object"!==e(n)||null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){var i=n.flags||[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.sticky?"y":"",n.unicode?"u":""].join("");return new RegExp(n.source,i)}if(!r.hasAlreadyBeenSeen(n)){if(Array.isArray(n)){for(var o=Array.isArray(t)?t:[],a=0;a<n.length;++a)o[a]=ee(o[a],n[a],r);return o}o="object"===Y(t)?t:{};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=ee(o[s],n[s],r));return o}}function te(e){return ee(void 0,e)}function ne(e){return e?String(e).substr(0,1)+String(e).substr(1).replace(/\d*/g,"x"):0===e?void 0:e}function re(){}var ie,oe=1e3,ae=6e4;function se(e){return 0!==e&&100*Math.random()<=e}function ue(e,t){return+e.toFixed(t)}function ce(e){return"number"!=typeof e?e:ue(1e6*e,0)}function fe(e){return G(e)?ue(1e6*e,0):e}function le(e){return e-Se()}function de(e){return Math.round(Se()+e)}function pe(){return performance.now()}function ve(){return{relative:pe(),timeStamp:ge()}}function ge(){return me()}function me(){return(new Date).getTime()}function he(e,t){return t-e}function ye(){return{relative:0,timeStamp:Se()}}function be(e){return{relative:e,timeStamp:we(e)}}function _e(e,t){return e+t}function we(e){var t=me()-performance.now();return t>Se()?Math.round(t+e):de(e)}function Se(){return void 0===ie&&(ie=performance.timing.navigationStart),ie}var Te=/([\w-]+)\s*=\s*([^;]+)/g;function Ee(e,t){for(var n=t.split(".");n.length;){var r=n.shift();if(!(e&&B(e)&&r in e&&T.call(e,r)))return;e=e[r]}return e}function Ce(e,t){var n=e.charCodeAt(t-1);return n>=55296&&n<=56319?e.slice(0,t+1):e.slice(0,t)}function xe(e){var t=Y(e);return"string"===t||"function"===t||e instanceof RegExp}function ke(e,t){return-1!==e.indexOf(t)}function Ie(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function Oe(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function Re(e){return G(e)&&e>=0&&e<=100}var Ae,Pe=0,Ne=1,Me=2,Le=3;function Ue(){return Be(Ae,Ae=function(e){var t;void 0===e&&(e=window);var n=e.navigator.userAgent;if(e.chrome||/HeadlessChrome/.test(n))return Ne;if(0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n))return Me;if(e.document.documentMode)return Pe;return Le}())}function De(e){if(e.origin&&"null"!==e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}function Ve(e){var t={};return x(e,(function(e,n){var r;t[(r=n,r.replace(/[A-Z]/g,(function(e,t){return(0!==t?"_":"")+e.toLowerCase()})).replace(/-/g,"_"))]=je(e)})),t}function je(t){return A(t)?U(t,(function(e){return je(e)})):"object"===e(t)&&null!==t?Ve(t):t}function Be(e,t){return null!=e?e:t}function He(e,t){return D((r=[],null===(n=e)||x(n,(function(e,t){r[r.length]=t})),r),(function(n){return e[n]===t}));var n,r}function qe(e,t){return e.slice(0,t.length)===t}function ze(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Fe(e){var t=e.substr(1);return!!t&&!!document.getElementById(t)}function Ge(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function We(e){return G(e)&&e<0?void 0:e}var Je=1/0,Xe=null,Ke=new Set;function $e(e){var t=e.expireDelay,n=e.maxEntries,r=[];function i(){for(var e=pe()-t;r.length>0&&r[r.length-1].endTime<e;)r.pop()}return Xe&&(Xe=h((function(){return i()}),6e4)),Ke.add(i),{add:function(e,t){var i={value:e,startTime:t,endTime:Je,remove:function(){ze(r,i)},close:function(e){i.endTime=e}};return n&&r.length>=n&&r.pop(),r.unshift(i),i},find:function(e,t){void 0===e&&(e=Je),void 0===t&&(t={returnInactive:!1});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.startTime<=e){if(t.returnInactive||e<=o.endTime)return o.value;break}}},closeActive:function(e){var t=r[0];t&&t.endTime===Je&&t.close(e)},findAll:function(e,t){void 0===e&&(e=Je),void 0===t&&(t=0);var n=_e(e,t);return r.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},reset:function(){r=[]},stop:function(){Ke.delete(i),0===Ke.size&&Xe&&(y(Xe),Xe=null)}}}var Qe={navigator:"undefined"!=typeof window&&void 0!==window.navigator?window.navigator:{}},Ze={getLanguage:c((function(){var e;return this.language=((e=(Qe.navigator.browserLanguage||Qe.navigator.language||"").split("-"))[1]&&(e[1]=e[1].toUpperCase()),e.join("_")),this.language})),getNetwork:c((function(){var e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,t="unknown",n=e?e.type||e.effectiveType:null;if(n&&"string"==typeof n)switch(n){case"bluetooth":case"cellular":t="cellular";break;case"none":t="none";break;case"ethernet":case"wifi":case"wimax":t="wifi";break;case"other":case"unknown":t="unknown";break;case"slow-2g":case"2g":case"3g":t="cellular";break;case"4g":t="wifi"}return t})),getTimeZone:c((function(){return Intl.DateTimeFormat().resolvedOptions().timeZone}))},Ye={};"undefined"!=typeof window&&(Ye={screenSize:window.screen.width+"*"+window.screen.height,networkType:Ze.getNetwork(),timeZone:Ze.getTimeZone()});var et=Ye,tt="beforeunload",nt="click",rt="keydown",it="load",ot="popstate",at="scroll",st="touchstart",ut="visibilitychange",ct="pageshow",ft="freeze",lt="resume",dt="DOMContentLoaded",pt="pointerdown",vt="pointerup",gt="pointercancel",mt="hashchange",ht="pagehide",yt="mousedown",bt="focus",_t="blur",wt="resize",St="input",Tt="securitypolicyviolation",Et="selectionchange",Ct="storage",xt="document",kt="xhr",It="beacon",Ot="fetch",Rt="css",At="js",Pt="image",Nt="font",Mt="media",Lt="other",Ut="click",Dt="custom",Vt="rage_click",jt="error_click",Bt="dead_click",Ht={ACTION:"action",ERROR:"error",LONG_TASK:"long_task",VIEW:"view",RESOURCE:"resource",LOGGER:"logger"},qt="long-task",zt="long-animation-frame",Ft="initial_load",Gt="route_change",Wt={FETCH:Ot,XHR:kt},Jt="ddtrace",Xt="zipkin",Kt="zipkin_single_header",$t="w3c_traceparent",Qt="w3c_traceparent_64bit",Zt="skywalking_v3",Yt="jaeger",en="handled",tn="unhandled",nn="Uncaught",rn="Provided";function on(t,n,r){if("object"!==e(t)||null===t)return JSON.stringify(t);var i=an(Object.prototype),o=an(Array.prototype),a=an(Object.getPrototypeOf(t)),s=an(t);try{return JSON.stringify(t,n,r)}catch(e){return"<error: unable to serialize object>"}finally{i(),o(),a(),s()}}function an(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):re}var sn="?";function un(e){var t=[],n=mn(e,"stack"),r=String(e);return n&&n.startsWith(r)&&(n=n.slice(r.length)),n&&x(n.split("\n"),(function(e){var n=function(e){var t=fn.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=ln.exec(t[2]);r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||sn,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=dn.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:sn,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=pn.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||sn,line:+t[3],url:t[2]}}(e)||function(e){var t=vn.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=gn.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||sn,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=sn),t.push(n))})),{message:mn(e,"message"),name:mn(e,"name"),stack:t}}var cn="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",fn=new RegExp("^\\s*at (.*?) ?\\("+cn+"(?::(\\d+))?"+"(?::(\\d+))?\\)?\\s*$","i"),ln=new RegExp("\\((\\S*)(?::(\\d+))(?::(\\d+))\\)");var dn=new RegExp("^\\s*at ?"+cn+"(?::(\\d+))?"+"(?::(\\d+))??\\s*$","i");var pn=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var vn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?\s*$/i,gn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function mn(t,n){if("object"===e(t)&&t&&n in t){var r=t[n];return"string"==typeof r?r:void 0}}var hn=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function yn(e){var t=function(e){return Pn(window,"onerror",(function(t){var n,r=t.parameters,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4];if(u instanceof Error)n=un(u);else{var c={url:o,column:s,line:a},f=function(e){var t,n;if("[object String]"==={}.toString.call(e)){var r=hn.exec(e);r&&(t=r[1],n=r[2])}return{name:t,message:n}}(i);n={name:f.name,message:f.message,stack:[c]}}e(n,Be(u,i))}))}(e),n=function(e){return Pn(window,"onunhandledrejection",(function(t){var n=t.parameters[0].reason||"Empty reason",r=un(n);e(r,n)}))}(e);return{stop:function(){t.stop(),n.stop()}}}var bn=1024,_n=/[^\u0000-\u007F]/;function wn(e){return _n.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function Sn(e,t){void 0===t&&(t=225280);var n=an(Object.prototype),r=an(Array.prototype),i=[],o=new WeakMap,a=Tn(e,"$",void 0,i,o),s=JSON.stringify(a)&&JSON.stringify(a).length||0;if(!(s>t)){for(;i.length>0&&s<t;){var u=i.shift(),c=0;if(Array.isArray(u.source))for(var f=0;f<u.source.length;f++){if(s+=void 0!==(l=Tn(u.source[f],u.path,f,i,o))?JSON.stringify(l).length:4,s+=c,c=1,s>t){Cn(t,"truncated",e);break}u.target[f]=l}else for(var f in u.source)if(Object.prototype.hasOwnProperty.call(u.source,f)){var l;if(void 0!==(l=Tn(u.source[f],u.path,f,i,o))&&(s+=JSON.stringify(l).length+c+f.length+3,c=1),s>t){Cn(t,"truncated",e);break}u.target[f]=l}}return n(),r(),a}Cn(t,"discarded",e)}function Tn(t,n,r,i,o){var a=function(e){var t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch(e){}return e}(t);if(!a||"object"!==e(a))return function(t){if("bigint"==typeof t)return"[BigInt] "+t.toString();if("function"==typeof t)return"[Function] "+t.name||0;if("symbol"===e(t))return"[Symbol] "+t.description||0;return t}(a);var s=En(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;var u=t;if(o.has(u))return"[Reference seen at "+o.get(u)+"]";var c=void 0!==r?n+"."+r:n,f=Array.isArray(a)?[]:{};return o.set(u,c),i.push({source:a,target:f,path:c}),f}function En(e){try{if(e instanceof Event)return{type:(n=e).type,isTrusted:n.isTrusted,currentTarget:n.currentTarget?En(n.currentTarget):null,target:n.target?En(n.target):null};if(e instanceof RegExp)return"[RegExp] ".concat(e.toString());var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"["+t[1]+"]"}catch(e){}var n;return"[Unserializable]"}function Cn(e,t,n){a.warn("The data provided has been "+t+" as it is over the limit of "+e+" characters:",n)}var xn={AGENT:"agent",CONSOLE:"console",NETWORK:"network",SOURCE:"source",LOGGER:"logger",CUSTOM:"custom"};function kn(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,a=e.source,s=e.handling,u=n instanceof Error,c=function(e,t,n,r){return e&&e.message&&e&&e.name?e.message:t?"Empty message":n+" "+on(Sn(r))}(t,u,o,n),f=function(e,t){if(void 0===t)return!1;if(e)return!0;return t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url)}(u,t)?On(t):"No stack, consider using an instance of Error",l=u?An(n,a):void 0;return{startClocks:i,source:a,handling:s,originalError:n,message:c,stack:f,handlingStack:r,type:t&&t.name,causes:l}}function In(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return f((function(){var n=un(t);n.stack=n.stack.slice(2),e=On(n)})),e}function On(e){var t=Rn(e);return x(e.stack,(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function Rn(e){return(e.name||"Error")+": "+e.message}function An(e,t){for(var n=e,r=[];n&&n.cause instanceof Error&&r.length<10;){var i=un(n.cause);r.push({message:n.cause.message,source:t,type:i&&i.name,stack:i&&On(i)}),n=n.cause}return r.length?r:void 0}function Pn(e,t,n,r){var i=r&&r.computeHandlingStack,o=e[t];if("function"!=typeof o){if(!qe(t,"on"))return{stop:re};o=re}var a=!1,s=function(){if(a)return o.apply(this,arguments);var e,t=Oe(arguments);f(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:i?In():void 0}]);var r=o.apply(this,t);return e&&f(e,null,[r]),r};return e[t]=s,{stop:function(){a=!0,e[t]===s&&(e[t]=o)}}}var Nn=function(e){this.observers=[],this.onLastUnsubscribe=void 0,this.onFirstSubscribe=e};Nn.prototype={subscribe:function(e){this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0);var t=this;return{unsubscribe:function(){t.observers=L(t.observers,(function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},notify:function(e){x(this.observers,(function(t){t(e)}))}};var Mn=Nn;function Ln(){var e=[].slice.call(arguments);return new Mn((function(t){var n=U(e,(function(e){return e.subscribe((function(e){return t.notify(e)}))}));return function(){return x(n,(function(e){return e.unsubscribe()}))}}))}var Un={};function Dn(e){var t=U(e,(function(e){return Un[e]||(Un[e]=function(e){return new Mn((function(t){var n=console[e];return console[e]=function(){var r=[].slice.call(arguments);n.apply(console,arguments);var i=In();f((function(){t.notify(Vn(r,e,i))}))},function(){console[e]=n}}))}(e)),Un[e]}));return Ln.apply(this,t)}function Vn(e,n,r){var i,o=U(e,(function(e){return function(e){if("string"==typeof e)return e;if(e instanceof Error)return Rn(un(e));return on(e,void 0,2)}(e)})).join(" ");if(n===t.error){var a=Ie(e,(function(e){return e instanceof Error}));i={stack:a?On(un(a)):void 0,causes:a?An(a,"console"):void 0,startClocks:ve(),message:o,source:xn.CONSOLE,handling:en,handlingStack:r}}return{api:n,message:o,error:i,handlingStack:r}}function jn(e,t,n,r){return Bn(e,[t],n,r)}function Bn(e,t,n,r){var i=c(r&&r.once?function(e){s(),n(e)}:n);r=r&&r.passive?{capture:r.capture,passive:r.passive}:r&&r.capture;var o=window.EventTarget&&e instanceof EventTarget?window.EventTarget.prototype:e,a=v(o,"addEventListener");x(t,(function(t){a.call(e,t,i,r)}));var s=function(){var n=v(o,"removeEventListener");x(t,(function(t){n.call(e,t,i,r)}))};return{stop:s}}var Hn="intervention",qn="csp_violation";function zn(e,t){var n=[];ke(t,qn)&&n.push(new Mn((function(e){return jn(document,Tt,(function(t){e.notify(function(e){var t="'"+e.blockedURI+"' blocked by '"+e.effectiveDirective+"' directive";return Fn({type:e.effectiveDirective,message:qn+": "+t,originalError:e,csp:{disposition:e.disposition},stack:Gn(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(Ce(e.originalPolicy,100),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(t))})).stop})));var r=L(t,(function(e){return e!==qn}));return r.length&&n.push(function(e){return new Mn((function(t){if(window.ReportingObserver){var n=c((function(e){x(e,(function(e){t.notify(function(e){var t=e.body,n=e.type;return Fn({type:t.id,message:n+": "+t.message,originalError:e,stack:Gn(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)})}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),Ln.apply(this,n)}function Fn(e){return k({startClocks:ve(),source:ErrorSource.REPORT,handling:ErrorHandling.UNHANDLED},e)}function Gn(e,t,n,r,i){return n&&On({name:e,message:t,stack:[{func:"?",url:n,line:r,column:i}]})}var Wn,Jn="AUTO_ACTION_COMPLETED",Xn="BEFORE_VIEW_CREATED",Kn="VIEW_CREATED",$n="VIEW_UPDATED",Qn="BEFORE_VIEW_UPDATED",Zn="VIEW_ENDED",Yn="AFTER_VIEW_ENDED",er="SESSION_RENEWED",tr="SESSION_EXPIRED",nr="PAGE_EXITED",rr="REQUEST_STARTED",ir="REQUEST_COMPLETED",or="RAW_RUM_EVENT_COLLECTED",ar="RUM_EVENT_COLLECTED",sr="RAW_ERROR_COLLECTED";function ur(){this.callbacks={}}function cr(e){if(Array.isArray(e))return e}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function lr(e,t){if(e){if("string"==typeof e)return fr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fr(e,t):void 0}}function dr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pr(e){return cr(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lr(e)||dr()}function vr(e,t){return cr(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||lr(e,t)||dr()}function gr(e,t,n){var r=te(e),i=n(r);return q(t).forEach((function(t){var n=vr(t,2),i=n[0],o=n[1];return mr(e,r,i.split(/\.|(?=\[\])/),o)})),i}function mr(e,t,n,r){var i=pr(n),o=i[0],a=i.slice(1);if("[]"!==o){if(hr(e)&&hr(t))return a.length>0?mr(e[o],t[o],a,r):void function(e,t,n,r){var i=Y(n);i===r?e[t]=Sn(n):"object"!==r||"undefined"!==i&&"null"!==i||(e[t]={})}(e,o,t[o],r)}else Array.isArray(e)&&Array.isArray(t)&&e.forEach((function(e,n){return mr(e,t[n],a,r)}))}function hr(e){return"object"===Y(e)}function yr(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&g((function(){r=0}),ae),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of "+e+"s by minute: "+t,source:xn.AGENT,startClocks:ve()})}finally{i=!1}}return!0}}}function br(e){return wr(e,De(window.location)).href}function _r(e){return De(wr(e))}function wr(e,t){if(function(){if(void 0!==Wn)return Wn;try{var e=new URL("http://test/path");return Wn="http://test/path"===e.href}catch(e){Wn=!1}return Wn}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: "+e);var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}ur.prototype={notify:function(e,t){var n=this.callbacks[e];n&&x(n,(function(e){e(t)}))},subscribe:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t);var n=this;return{unsubscribe:function(){n.callbacks[e]=L(n.callbacks[e],(function(e){return e!==t}))}}}};var Sr=navigator.userAgent.toLowerCase(),Tr=function(){return/iphone os/.test(Sr)};function Er(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var n=window.requestIdleCallback(c(e),t);return function(){return window.cancelIdleCallback(n)}}return function(e){var t=me(),n=g((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(me()-t))}})}),0);return function(){return m(n)}}(e)}var Cr,xr=/^\s+|\s+$/g,kr={rum:"/rum",log:"/logging",sessionReplay:"/rum/replay"};function Ir(e,t){var n=kr[t];if(!n)return"";var r=e.datakitOrigin||e.datakitUrl||e.site;0===r.indexOf("/")&&(r=location.origin+Or(r));var i=r;return i=r.lastIndexOf("/")===r.length-1?Or(r)+"v1/write"+n:Or(r)+"/v1/write"+n,e.site&&e.clientToken&&(i=i+"?token="+e.clientToken+"&to_headless=true"),i}function Or(e){return e.replace(xr,"")}function Rr(e,t){return"".concat(e,"_").concat(t&&t.crossSite?"cs1":"cs0","_").concat(t&&t.domain?"d1":"d0","_").concat(t&&t.secure?"sec1":"sec0","_").concat(t&&t.partitioned?"part1":"part0")}function Ar(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie=Rr(e,r)+"="+t+";"+o+";path=/;samesite="+a+s+u+c}function Pr(e,t){return function(e,t){for(Te.lastIndex=0;;){var n=Te.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,Rr(e,t))}function Nr(e,t){Ar(e,"",0,t)}var Mr=144e5,Lr=9e5,Ur="_gc_s",Dr=/^([a-zA-Z]+)=([a-z0-9-]+)$/,Vr="&";function jr(e){return H(e)}function Br(e){return void 0!==e.isExpired||!((void 0===(t=e).created||me()-Number(t.created)<Mr)&&(void 0===t.expire||me()<Number(t.expire)));var t}function Hr(e){e.expire=String(me()+Lr)}function qr(e){return U(q(e),(function(e){return e[0]+"="+e[1]})).join("&")}function zr(e){var t={};return function(e){return!!e&&(-1!==e.indexOf(Vr)||Dr.test(e))}(e)&&e.split(Vr).forEach((function(e){var n=Dr.exec(e);if(null!==n){var r=vr(n,3),i=r[1],o=r[2];t[i]=o}})),t}function Fr(e){var t=function(e){var t={};t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===Cr){for(var e="gc_site_test_".concat(X()),t=window.location.hostname.split("."),n=t.pop();t.length&&!Pr(e,{domain:n});)n="".concat(t.pop(),".").concat(n),Ar(e,"test",oe,{domain:n});Nr(e,{domain:n}),Cr=n}return Cr}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="gc_cookie_test_".concat(X()),n="test";Ar(t,n,ae,e);var r=Pr(t,e)===n;return Nr(t,e),r}catch(e){return!1}}(t)?{type:"Cookie",cookieOptions:t}:void 0}function Gr(e){var t;return{isLockEnabled:Ue()===Ne,persistSession:(t=e,function(e){Ar(Ur,qr(e),Lr,t)}),retrieveSession:Wr(e),expireSession:function(){return function(e){Ar(Ur,qr({isExpired:"1"}),Mr,e)}(e)}}}function Wr(e){return function(){return zr(Pr(Ur,e))}}function Jr(e){localStorage.setItem(Ur,qr(e))}function Xr(){return zr(localStorage.getItem(Ur))}function Kr(){Jr({isExpired:"1"})}var $r,Qr=[];function Zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.isLockEnabled,i=t.persistSession,o=t.expireSession,a=function(e){return i(k({},e,{lock:u}))},s=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if($r||($r=e),e===$r)if(r&&n>=100)ei(t);else{var u,c=s();if(r){if(c.lock)return void Yr(e,t,n);if(u=X(),a(c.session),(c=s()).lock!==u)return void Yr(e,t,n)}var f=e.process(c.session);if(r&&(c=s()).lock!==u)Yr(e,t,n);else{if(f&&(Br(f)?o():(Hr(f),r?a(f):i(f))),r&&(!f||!Br(f))){if((c=s()).lock!==u)return void Yr(e,t,n);i(c.session),f=c.session}e.after&&e.after(f||c.session),ei(t)}}else Qr.push(e)}function Yr(e,t,n){g((function(){Zr(e,t,n+1)}),10)}function ei(e){$r=void 0;var t=Qr.shift();t&&Zr(t,e)}function ti(e){var t=Fr(e);return!t&&e.allowFallbackToLocalStorage&&(t=function(){try{var e=X(),t="".concat("_gc_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(e){return}}()),t}function ni(e,t,n){var r,i=new Mn,o=new Mn,a=new Mn,s="Cookie"===e.type?Gr(e.cookieOptions):{isLockEnabled:!1,persistSession:Jr,retrieveSession:Xr,expireSession:Kr},u=s.expireSession,c=h((function(){Zr({process:function(e){return Br(e)?{isExpired:"1"}:void 0},after:p},s)}),1e3);v();var f=W((function(){Zr({process:function(e){if(!jr(e)){var r=p(e);return function(e){if(jr(e))return!1;var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,delete e.isExpired,o&&!e.id&&(e.id=X(),e.created=String(me()))}(r),r}},after:function(e){jr(e)||g()||function(e){r=e,i.notify()}(e),r=e}},s)}),1e3),l=f.throttled,d=f.cancel;function p(e){return Br(e)&&(e={isExpired:"1"}),g()&&(!function(e){return r.id!==e.id||r[t]!==e[t]}(e)?(a.notify({previousState:r,newState:e}),r=e):(r={isExpired:"1"},o.notify())),e}function v(){Zr({process:function(e){if(jr(e))return{isExpired:"1"}},after:function(e){r=e}},s)}function g(){return void 0!==r[t]}return{expandOrRenewSession:l,expandSession:function(){Zr({process:function(e){return g()?p(e):void 0}},s)},getSession:function(){return r},renewObservable:i,expireObservable:o,sessionStateUpdateObservable:a,restartSession:v,expire:function(){d(),u(),p({isExpired:"1"})},stop:function(){y(c)},updateSessionState:function(e){Zr({process:function(t){return k({},t,e)},after:p},s)}}}var ri,ii,oi={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function ai(e){if(void 0===e.sampleRate||Re(e.sampleRate))if(void 0===e.sessionSampleRate||Re(e.sessionSampleRate)){if(void 0===e.telemetrySampleRate||Re(e.telemetrySampleRate)){var t=Be(e.sessionSampleRate,e.sampleRate);return k({beforeSend:e.beforeSend&&d(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:ti(e),sessionSampleRate:Be(t,100),service:e.service,version:e.version,env:e.env,telemetrySampleRate:Be(e.telemetrySampleRate,100),telemetryEnabled:Be(e.telemetryEnabled,!1),silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144,resourceUrlLimit:5120,storeContextsToLocal:!!e.storeContextsToLocal,storeContextsKey:e.storeContextsKey,sendContentTypeByJson:!!e.sendContentTypeByJson,retryMaxSize:Be(e.retryMaxSize,-1)},function(e){var t=function(e){return!1};"isIntakeUrl"in e&&P(e.isIntakeUrl)&&F(e.isIntakeUrl())&&(t=e.isIntakeUrl);var n=function(e){return!1};return"isServerError"in e&&P(e.isServerError)&&F(e.isServerError())&&(n=e.isServerError),{rumEndpoint:Ir(e,"rum"),logsEndpoint:Ir(e,"log"),sessionReplayEndPoint:Ir(e,"sessionReplay"),isIntakeUrl:t,isServerError:n}}(e))}a.error("Telemetry Sample Rate should be a number between 0 and 100")}else a.error("Sample Rate should be a number between 0 and 100");else a.error("Sample Rate should be a number between 0 and 100")}function si(){return ri||(ri=new Mn((function(e){if(window.fetch)return Pn(window,"fetch",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,i=e.handlingStack,o=n[0],a=n[1],s=a&&a.method;void 0===s&&o instanceof Request&&(s=o.method);var u=void 0!==s?String(s).toUpperCase():"GET",f=o instanceof Request?o.url:br(String(o)),l=ve(),d={state:"start",init:a,input:o,method:u,startClocks:l,url:f,handlingStack:i};t.notify(d),n[0]=d.input,n[1]=d.init,r((function(e){return function(e,t,n){var r=n,i=function(t){r.state="resolve",k(r,t),e.notify(r)};t.then(c((function(e){var t="";try{t=e.constructor===Response&&e.type||""}catch(e){t=""}i({response:e,responseType:t,status:e.status,isAborted:!1})})),c((function(e){i({status:0,isAborted:r.init&&r.init.signal&&r.init.signal.aborted||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})})))}(t,e,d)}))}(t,e)}),{computeHandlingStack:!0}).stop}))),ri}var ui=new WeakMap;function ci(){return ii||(ii=new Mn((function(e){var t=Pn(XMLHttpRequest.prototype,"open",fi),n=Pn(XMLHttpRequest.prototype,"send",(function(t){!function(e,t){var n=e.target,r=e.handlingStack,i=ui.get(n);if(i){var o=i;o.state="start",o.startClocks=ve(),o.isAborted=!1,o.xhr=n,o.handlingStack=r;var a=!1,s=Pn(n,"onreadystatechange",(function(){n.readyState===XMLHttpRequest.DONE&&u()})).stop,u=function(){if(c(),s(),!a){a=!0;var e=i;e.state="complete",e.duration=he(o.startClocks.timeStamp,ge()),e.status=n.status,t.notify(I(e))}},c=jn(n,"loadend",u).stop;t.notify(o)}}(t,e)}),{computeHandlingStack:!0}),r=Pn(XMLHttpRequest.prototype,"abort",li);return function(){t.stop(),n.stop(),r.stop()}}))),ii}function fi(e){var t=e.target,n=e.parameters[0],r=e.parameters[1];ui.set(t,{state:"open",method:String(n).toUpperCase(),url:br(String(r))})}function li(e){var t=e.target,n=ui.get(t);n&&(n.isAborted=!0)}var di={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function pi(e){return e.nodeType===Node.ELEMENT_NODE}function vi(e,t){return document.readyState===e||"complete"===document.readyState?(t(),{stop:re}):jn(window,"complete"===e?it:dt,t,{once:!0})}var gi={sdk_name:"_gc.sdk_name",sdk_version:"_gc.sdk_version",app_id:"application.id",env:"env",service:"service",version:"version",source:"source",userid:"user.id",user_email:"user.email",user_name:"user.name",session_id:"session.id",session_type:"session.type",session_sampling:"session.is_sampling",is_signin:"user.is_signin",os:"device.os",os_version:"device.os_version",os_version_major:"device.os_version_major",browser:"device.browser",browser_version:"device.browser_version",browser_version_major:"device.browser_version_major",screen_size:"device.screen_size",network_type:"device.network_type",time_zone:"device.time_zone",device:"device.device",view_id:"view.id",view_referrer:"view.referrer",view_url:"view.url",view_host:"view.host",view_path:"view.path",view_name:"view.name",view_path_group:"view.path_group"},mi={view_url_query:"view.url_query",action_id:"action.id",action_ids:"action.ids",view_in_foreground:"view.in_foreground",display:"display",session_has_replay:"session.has_replay",is_login:"user.is_login",page_states:"_gc.page_states",session_sample_rate:"_gc.configuration.session_sample_rate",session_replay_sample_rate:"_gc.configuration.session_replay_sample_rate",session_on_error_sample_rate:"_gc.configuration.session_on_error_sample_rate",session_replay_on_error_sample_rate:"_gc.configuration.session_replay_on_error_sample_rate",drift:"_gc.drift"},hi={view:{type:Ht.VIEW,tags:{view_loading_type:"view.loading_type",view_apdex_level:"view.apdex_level",view_privacy_replay_level:"privacy.replay_level"},fields:{sampled_for_replay:"session.sampled_for_replay",sampled_for_error_replay:"session.sampled_for_error_replay",sampled_for_error_session:"session.sampled_for_error_session",session_error_timestamp:"session.error_timestamp_for_session",is_active:"view.is_active",session_replay_stats:"_gc.replay_stats",session_is_active:"session.is_active",view_error_count:"view.error.count",view_resource_count:"view.resource.count",view_long_task_count:"view.long_task.count",view_action_count:"view.action.count",first_contentful_paint:"view.first_contentful_paint",largest_contentful_paint:"view.largest_contentful_paint",largest_contentful_paint_element_selector:"view.largest_contentful_paint_element_selector",cumulative_layout_shift:"view.cumulative_layout_shift",cumulative_layout_shift_time:"view.cumulative_layout_shift_time",cumulative_layout_shift_target_selector:"view.cumulative_layout_shift_target_selector",first_input_delay:"view.first_input_delay",loading_time:"view.loading_time",dom_interactive:"view.dom_interactive",dom_content_loaded:"view.dom_content_loaded",dom_complete:"view.dom_complete",load_event:"view.load_event",first_input_time:"view.first_input_time",first_input_target_selector:"view.first_input_target_selector",first_paint_time:"view.fpt",interaction_to_next_paint:"view.interaction_to_next_paint",interaction_to_next_paint_target_selector:"view.interaction_to_next_paint_target_selector",resource_load_time:"view.resource_load_time",time_to_interactive:"view.tti",dom:"view.dom",dom_ready:"view.dom_ready",time_spent:"view.time_spent",first_byte:"view.first_byte",frustration_count:"view.frustration.count",custom_timings:"view.custom_timings"}},resource:{type:Ht.RESOURCE,tags:{trace_id:"_gc.trace_id",span_id:"_gc.span_id",resource_id:"resource.id",resource_status:"resource.status",resource_status_group:"resource.status_group",resource_method:"resource.method"},fields:{duration:"resource.duration",resource_size:"resource.size",resource_url:"resource.url",resource_url_host:"resource.url_host",resource_url_path:"resource.url_path",resource_url_path_group:"resource.url_path_group",resource_url_query:"resource.url_query",resource_delivery_type:"resource.delivery_type",resource_type:"resource.type",resource_protocol:"resource.protocol",resource_encode_size:"resource.encoded_body_size",resource_decode_size:"resource.decoded_body_size",resource_transfer_size:"resource.transfer_size",resource_render_blocking_status:"resource.render_blocking_status",resource_dns:"resource.dns",resource_tcp:"resource.tcp",resource_ssl:"resource.ssl",resource_ttfb:"resource.ttfb",resource_trans:"resource.trans",resource_redirect:"resource.redirect",resource_first_byte:"resource.firstbyte",resource_dns_time:"resource.dns_time",resource_download_time:"resource.download_time",resource_first_byte_time:"resource.first_byte_time",resource_connect_time:"resource.connect_time",resource_ssl_time:"resource.ssl_time",resource_redirect_time:"resource.redirect_time"}},error:{type:Ht.ERROR,tags:{error_id:"error.id",trace_id:"_gc.trace_id",span_id:"_gc.span_id",error_source:"error.source",error_type:"error.type",error_handling:"error.handling"},fields:{error_message:["string","error.message"],error_stack:["string","error.stack"],error_causes:["string","error.causes"],error_handling_stack:["string","error.handling_stack"]}},long_task:{type:Ht.LONG_TASK,tags:{long_task_id:"long_task.id"},fields:{duration:"long_task.duration",blocking_duration:"long_task.blocking_duration",first_ui_event_timestamp:"long_task.first_ui_event_timestamp",render_start:"long_task.render_start",style_and_layout_start:"long_task.style_and_layout_start",long_task_start_time:"long_task.start_time",scripts:["string","long_task.scripts"]}},action:{type:Ht.ACTION,tags:{action_type:"action.type"},fields:{action_name:"action.target.name",duration:"action.loading_time",action_error_count:"action.error.count",action_resource_count:"action.resource.count",action_frustration_types:"action.frustration.type",action_long_task_count:"action.long_task.count",action_target:"_gc.action.target",action_position:"_gc.action.position"}},telemetry:{type:"telemetry",fields:{status:"telemetry.status",message:["string","telemetry.message"],type:"telemetry.type",error_stack:["string","telemetry.error.stack"],error_kind:["string","telemetry.error.kind"],connectivity:["string","telemetry.connectivity"],runtime_env:["string","telemetry.runtime_env"],usage:["string","telemetry.usage"],configuration:["string","telemetry.configuration"]}},browser_log:{type:Ht.LOGGER,tags:{error_source:"error.source",error_type:"error.type",error_resource_url:"http.url",error_resource_url_host:"http.url_host",error_resource_url_path:"http.url_path",error_resource_url_path_group:"http.url_path_group",error_resource_status:"http.status_code",error_resource_status_group:"http.status_group",error_resource_method:"http.method",action_id:"user_action.id",service:"service",status:"status"},fields:{message:["string","message"],error_message:["string","error.message"],error_stack:["string","error.stack"]}}},yi=[];function bi(e,t,n){var r=new Mn,i=new Mn,o=ni(e.sessionStoreStrategyType,t,n);yi.push((function(){return o.stop()}));var a,s=$e({expireDelay:144e5});function u(){return{id:o.getSession().id,trackingType:o.getSession()[t],hasError:!!o.getSession().hasError}}return yi.push((function(){return s.stop()})),o.renewObservable.subscribe((function(){s.add(u(),pe()),r.notify()})),o.expireObservable.subscribe((function(){i.notify(),s.closeActive(pe())})),o.expandOrRenewSession(),s.add(u(),ye().relative),a=Bn(window,[nt,st,rt,at],(function(){o.expandOrRenewSession()}),{capture:!0,passive:!0}).stop,yi.push(a),function(e){var t=function(){"visible"===document.visibilityState&&e()},n=jn(document,ut,t).stop;yi.push(n);var r=h(t,6e4);yi.push((function(){y(r)}))}((function(){return o.expandSession()})),function(e){var t=jn(window,lt,e,{capture:!0}).stop;yi.push(t)}((function(){o.restartSession()})),{findSession:function(e,t){return s.find(e,t)},renewObservable:r,expireObservable:i,sessionStateUpdateObservable:o.sessionStateUpdateObservable,expire:o.expire,updateSessionState:o.updateSessionState}}var _i=3145728,wi=0,Si=1,Ti=2,Ei=0,Ci=1;function xi(e,t,n,r,i){t.transportStatus===wi&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?Ii(e,t,n,{onSuccess:function(){return Oi(Ei,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),ki(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function ki(e,t,n,r){e.transportStatus===Ti&&g((function(){Ii(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,Oi(Ci,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(256e3,2*e.currentBackoffTime),ki(e,t,n,r)}})}),e.currentBackoffTime)}function Ii(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e,t,n){return!(t.retryMaxSize>-1&&n.retry&&n.retry.count>t.retryMaxSize)&&("opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500))}(n,t,e)?(t.transportStatus=wi,i()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?Si:Ti,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o())}))}function Oi(e,t,n,r,i){e===Ei&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max "+r+" events size queued for upload: 3MiB",source:xn.AGENT,startClocks:ve()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=Ri();o.size()>0;)xi(o.dequeue(),t,n,r,i)}function Ri(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=_i}}}function Ai(e,t){return e?(e=e+(-1===e.indexOf("?")?"?":"&")+"precision=ms",t&&(e=e+"&encoding="+t),e):e}function Pi(e,t,n,r){void 0===n&&(n=-1);var i=function(e){return{transportStatus:wi,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:Ri(),queueFullReported:!1,retryMaxSize:e}}(n),o=function(n,r){return function(e,t,n,r){var i=n.data,o=n.bytesCount,a=Ai(e,n.encoding);if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&o<t){var s={method:"POST",body:i,keepalive:!0,mode:"cors"};n.type&&(s.headers={"Content-Type":n.type}),fetch(a,s).then(c((function(e){"function"==typeof r&&r({status:e.status,type:e.type})})),c((function(){Mi(a,n,r)})))}else Mi(a,n,r)}(e,t,n,r)};return{send:function(t){xi(t,i,o,e,r)},sendOnExit:function(n){!function(e,t,n){var r=n.data,i=n.bytesCount,o=Ai(e,n.encoding);if(navigator.sendBeacon&&i<t)try{var a;if(a=n.type?new Blob([r],{type:n.type}):r,navigator.sendBeacon(o,a))return}catch(e){Ni||(Ni=!0)}Mi(o,n)}(e,t,n)}}}var Ni=!1;function Mi(e,t,n){var r=t.data,i=new XMLHttpRequest;i.open("POST",e,!0),r instanceof Blob?i.setRequestHeader("Content-Type",r.type):t.type&&i.setRequestHeader("Content-Type",t.type),jn(i,"loadend",(function(){"function"==typeof n&&n({status:i.status})}),{once:!0}),i.send(r)}function Li(t){if("object"===e(t)&&t)t=on(t);else if(!z(t))return t;return String(t).replace(/[\s=,"]/g,(function(e){return"\\"+e}))}function Ui(t,n){return"object"===e(t)&&t?t=on(t):n&&(t=""+t),t}function Di(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function Vi(t){return"object"===e(t)&&t?Di(on(t)):z(t)?Di(t):t}var ji="custom_keys",Bi=function(e){if(!e||!e.type)return{rowStr:"",rowData:void 0};var t={tags:{},fields:{}},n=!1,r="";return x(hi,(function(i,o){if(i.type===e.type){r+=o+",",t.measurement=o;var a=[],s=O({},gi,i.tags),u=["date","type",ji];x(s,(function(n,r){var i=Ee(e,n);u.push(r),(i||G(i))&&(t.tags[r]=Ui(i,!0),a.push(Li(r)+"="+Li(i)))}));var c=[],f=O({},mi,i.fields);if(x(f,(function(n,r){if(A(n)&&2===n.length){var i=n[1],o=Ee(e,i);u.push(r),null!=o&&(t.fields[r]=Ui(o),c.push(Li(r)+"="+Vi(o)))}else if(z(n)){o=Ee(e,n);u.push(r),null!=o&&(t.fields[r]=Ui(o),c.push(Li(r)+"="+Vi(o)))}})),e.context&&B(e.context)&&!H(e.context)){var l=[];x(e.context,(function(e,n){u.indexOf(n)>-1||(u.push(n),null!=e&&(l.push(n),t.fields[n]=Ui(e),c.push(Li(n)+"="+Vi(e))))})),l.length&&(t.fields.custom_keys=Ui(l),c.push(Li(ji)+"="+Vi(l)))}e.type===Ht.LOGGER&&x(e,(function(e,n){-1===u.indexOf(n)&&null!=e&&(t.fields[n]=Ui(e),c.push(Li(n)+"="+Vi(e)))})),a.length&&(r+=a.join(",")),c.length&&(r+=" ",r+=c.join(","),n=!0),r=r+" "+e.date,t.time=e.date}})),{rowStr:n?r:"",rowData:n?t:void 0}};function Hi(e){var t=e.encoder,n=e.request,r=e.messageBytesLimit,i=e.sendContentTypeByJson,o=e.flushController,s={},u=o.flushObservable.subscribe((function(e){!function(e){var r=M(s).join(i?",":"\n");s={};var o=(u=e.reason,ke(M(di),u)),a=o?n.sendOnExit:n.send;var u;if(o&&t.isAsync){var f=t.finishSync();f.outputBytesCount&&a(qi(f,i));var l=[f.pendingData,r].filter(Boolean).join("\n");l&&a({data:l,bytesCount:wn(l)})}else{if(r){var d=c([r],t.isEmpty());i&&(d+="]"),t.write(d)}else i&&t.write("]");t.finish((function(e){a(qi(e))}))}}(e)}));function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i?t?"["+e.join(","):","+e.join(","):t?e.join("\n"):"\n"+e.join("\n")}function f(e,n){var u=function(e){return i?on(Bi(e).rowData):Bi(e).rowStr}(e),f=t.estimateEncodedBytesCount(u);f>=r?a.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(r,"KB.")):(function(e){return void 0!==e&&void 0!==s[e]}(n)&&function(e){var n=s[e];delete s[e];var r=t.estimateEncodedBytesCount(n);o.notifyAfterRemoveMessage(r)}(n),function(e,n,r){o.notifyBeforeAddMessage(n),void 0!==r?(s[r]=e,o.notifyAfterAddMessage()):t.write(c([e],t.isEmpty()),(function(e){o.notifyAfterAddMessage(e-n)}))}(u,f,n))}return{flushController:o,add:f,upsert:f,stop:u.unsubscribe}}function qi(e,t){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),type:t?"application/json;UTF-8":void 0,bytesCount:e.outputBytesCount,encoding:e.encoding}}function zi(e){var t=e.messagesLimit,n=e.bytesLimit,r=e.durationLimit,i=e.pageExitObservable,o=e.sessionExpireObservable;i.subscribe((function(e){return f(e.reason)})),o.subscribe((function(){return f("session_expire")}));var a,s=new Mn((function(){return function(){pageExitSubscription.unsubscribe(),sessionExpireSubscription.unsubscribe()}})),u=0,c=0;function f(e){if(0!==c){var t=c,n=u;c=0,u=0,l(),s.notify({reason:e,messagesCount:t,bytesCount:n})}}function l(){m(a),a=void 0}return{flushObservable:s,getMessagesCount:function(){return c},notifyBeforeAddMessage:function(e){u+e>=n&&f("bytes_limit"),c+=1,u+=e,void 0===a&&(a=g((function(){f("duration_limit")}),r))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),u+=e,c>=t?f("messages_limit"):u>=n&&f("bytes_limit")},notifyAfterRemoveMessage:function(e){u-=e,0===(c-=1)&&l()}}}function Fi(){var e=null;if(e)return{getCapabilities:function(){return JSON.parse(e.getCapabilities&&e.getCapabilities()||"[]")},getPrivacyLevel:function(){return e.getPrivacyLevel&&e.getPrivacyLevel()},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts&&e.getAllowedWebViewHosts()||"[]")},send:function(t,n,r){var i=r?{id:r}:void 0;e.sendEvent(JSON.stringify({name:t,data:n,view:i}))}}}function Gi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=p().location)||void 0===e?void 0:e.hostname,n=null;if(n&&void 0===n.getAllowedWebViewHosts)return!0;if(n&&n.getAllowedWebViewHosts&&null===n.getAllowedWebViewHosts())return!0;var r=Fi();return!!r&&r.getAllowedWebViewHosts().some((function(e){return t===e||t.endsWith(".".concat(e))}))}function Wi(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function Ji(e,t,n){return(t=Wi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e,t,n){for(var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){Ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),i=0,o=Object.entries(t);i<o.length;i++){var s=vr(o[i],2),u=s[0],c=s[1],f=c.required;"string"===c.type&&u in r&&(r[u]=String(r[u])),f&&!(u in e)&&a.warn("The property ".concat(u," of ").concat(n," context is required; context will not be sent to the intake."))}return r}function $i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.customerDataTracker,r=t.propertiesConfig,i=void 0===r?{}:r,o={},a=new Mn,s={getContext:function(){return te(o)},setContext:function(t){"object"===Y(t)?(o=Sn(Ki(t,i,e)),null==n||n.updateCustomerData(o)):s.clearContext(),a.notify()},setContextProperty:function(t,r){o[t]=Sn(Ki(Ji({},t,r),i,e)[t]),null==n||n.updateCustomerData(o),a.notify()},removeContextProperty:function(t){delete o[t],null==n||n.updateCustomerData(o),Ki(o,i,e),a.notify()},clearContext:function(){o={},null==n||n.resetCustomerData(),a.notify()},changeObservable:a};return s}var Qi="user",Zi="global context",Yi="view",eo=[];function to(e,t,n,r){var i=function(e,t,n){return e.storeContextsKey&&z(e.storeContextsKey)?"_gc_s_"+t+"_"+n+"_"+e.storeContextsKey:"_gc_s_"+t+"_"+n}(e,n,r);function o(){var e=localStorage.getItem(i);return null!==e?JSON.parse(e):{}}return eo.push(jn(window,Ct,(function(e){i===e.key&&t.setContext(o())}))),t.changeObservable.subscribe((function(){localStorage.setItem(i,JSON.stringify(t.getContext()))})),t.setContext(R(o(),t.getContext())),t}var no=3072,ro=16384,io=0,oo=1,ao=2;function so(e){var t=0,n=W((function(n){t=wn(on(n)),e()}),200),r=n.throttled,i=n.cancel,o=function(){i(),t=0};return{updateCustomerData:function(e){H(e)?o():r(e)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function uo(e){a.warn("Customer data exceeds the recommended ".concat(e/bn,"KiB threshold."))}function co(){var e="",t=0;return{isAsync:!1,isEmpty:function(){return!e},write:function(n,r){var i=wn(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function fo(e){var t=k({},e);return x(["id","name","email"],(function(e){e in t&&(t[e]=String(t[e]))})),t}function lo(e){this.map=new WeakMap,e&&e.forEach((function(e){this.map.set(e,1)}))}function po(e,t){t.silentMultipleInit||a.error(e+" is already initialized.")}lo.prototype.add=function(e){return this.map.set(e,1),this},lo.prototype.delete=function(e){return this.map.delete(e)},lo.prototype.has=function(e){return this.map.has(e)};var vo=1,go=2,mo=3,ho="0",yo="1",bo="2",_o="3",wo="4",So="5",To="6";function Eo(e,t){var n=bi(e,"rum",(function(t){return function(e,t){var n,r=e.sessionSampleRate,i=e.sessionOnErrorSampleRate,o=e.sessionReplaySampleRate,a=e.sessionReplayOnErrorSampleRate,s=se(r),u=se(i),c=se(o),f=se(a);!function(e){return e===ho||e===So||e===To||e===wo||e===bo||e===_o||e===yo}(t)?u||s?s&&c?n=yo:s&&f?n=_o:!s||c||f?u&&c?n=wo:u&&f?n=To:!u||c||f||(n=So):n=bo:n=ho:n=t;return{trackingType:n,isTracked:Co(n)}}(e,t)}));return n.expireObservable.subscribe((function(){t.notify(tr)})),n.renewObservable.subscribe((function(){t.notify(er)})),n.sessionStateUpdateObservable.subscribe((function(e){var t=e.previousState,r=e.newState;if(!t.hasError&&r.hasError){var i=n.findSession();i&&(i.hasError=!0,i.ets=r.ets||ge())}})),{findTrackedSession:function(e){var t=n.findSession(e);if(t&&Co(t.trackingType)){var r=t.trackingType===So||t.trackingType===wo||t.trackingType===To,i=vo;return t.trackingType===yo||t.trackingType===wo?i=go:t.trackingType!==To&&t.trackingType!==_o||(i=mo),{id:t.id,plan:i,errorSessionReplayAllowed:i===mo,sessionHasError:t.hasError,isErrorSession:r,sessionErrorTimestamp:t.ets,sessionReplayAllowed:i===go||i===mo}}},expire:n.expire,expireObservable:n.expireObservable,sessionStateUpdateObservable:n.sessionStateUpdateObservable,setErrorForSession:function(){return n.updateSessionState({hasError:"1",ets:ge()})}}}function Co(e){return e!==ho}var xo="_gc_usr_id";var ko=function(e){var t;if(e.sessionStoreStrategyType)return t="Cookie"===e.sessionStoreStrategyType.type?function(e){var t=Pr(xo,e);return t||(t=X(),Ar(xo,t,5184e6,e)),t}(e.sessionStoreStrategyType.cookieOptions):function(){var e=localStorage.getItem(xo);return e||(e=X(),localStorage.setItem(xo,e)),e}(),{getId:function(){return t}}};function Io(){var e=function(){var e,t=window;if(t.Zone&&(e=v(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=v(new t.MutationObserver(re),"originalInstance");e=n&&n.constructor}e||(e=t.MutationObserver);return e}();return new Mn((function(t){if(e){var n=new e(c((function(){return t.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}))}function Oo(e){var t=I(e);return new Mn((function(n){var r,i,o,a,s=(r=c,i=Pn(History.prototype,"pushState",(function(e){(0,e.onPostCall)(r)})),o=Pn(History.prototype,"replaceState",(function(e){(0,e.onPostCall)(r)})),a=jn(window,ot,r),{stop:function(){i.stop(),o.stop(),a.stop()}}),u=jn(window,mt,c);function c(){if(t.href!==e.href){var r=I(e);n.notify({newLocation:r,oldLocation:t}),t=r}}return function(){s.stop(),u.stop()}}))}var Ro="initial_document",Ao=[[xt,function(e){return Ro===e}],[kt,function(e){return"xmlhttprequest"===e}],[Ot,function(e){return"fetch"===e}],[It,function(e){return"beacon"===e}],[Rt,function(e,t){return null!==t.match(/\.css$/i)}],[At,function(e,t){return null!==t.match(/\.js$/i)}],[Pt,function(e,t){return ke(["image","img","icon"],e)||null!==t.match(/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i)}],[Nt,function(e,t){return null!==t.match(/\.(woff|eot|woff2|ttf)$/i)}],[Mt,function(e,t){return ke(["audio","video"],e)||null!==t.match(/\.(mp3|mp4)$/i)}]];function Po(e){var t=e.name;if(!function(e){try{return!!wr(e)}catch(e){return!1}}(t))return Lt;var n=function(e){var t=wr(e).pathname;return"/"===t[0]?t:"/"+t}(t),r=Lt;return x(Ao,(function(t){var i=t[0];if((0,t[1])(e.initiatorType,n))return r=i,!1})),r}function No(){for(var e=N(arguments),t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function Mo(e){return""===e.deliveryType?"other":e.deliveryType}function Lo(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}var Uo=/[^\u0000-\u007F]/;function Do(e,t){return n=e,(Uo.test(n)?void 0!==window.TextEncoder?(new TextEncoder).encode(n).length:new Blob([n]).size:n.length)>t;var n}function Vo(e){return 0===e.duration&&e.startTime<e.responseEnd?ce(e.responseEnd-e.startTime):ce(e.duration)}function jo(e){if(Ho(e)){var t=e.startTime,n=e.fetchStart,r=e.redirectStart,i=e.redirectEnd,o=e.domainLookupStart,a=e.domainLookupEnd,s=e.connectStart,u=e.secureConnectionStart,c=e.connectEnd,f=e.requestStart,l=e.responseStart,d=e.responseEnd,p={firstbyte:ce(l-f),trans:ce(d-l),downloadTime:zo(t,l,d),firstByteTime:zo(t,f,l)};return l>0&&l<=pe()&&(p.ttfb=ce(l-f)),c!==n&&(p.tcp=ce(c-s),p.connectTime=zo(t,s,c),No(s,u,c)&&(p.ssl=ce(c-u),p.sslTime=zo(t,u,c))),a!==n&&(p.dns=ce(a-o),p.dnsTime=zo(t,o,a)),qo(e)&&(p.redirect=ce(i-r),p.redirectTime=zo(t,r,i)),e.renderBlockingStatus&&(p.renderBlockingStatus=e.renderBlockingStatus),p}}function Bo(e){return e.duration>=0}function Ho(e){var t=No(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!qo(e)||No(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return t&&n}function qo(e){return e.redirectEnd>e.startTime}function zo(e,t,n){return{duration:ce(n-t),start:ce(t-e)}}function Fo(e){return e.startTime<e.responseStart?{size:e.decodedBodySize,encodedBodySize:e.encodedBodySize,decodedBodySize:e.decodedBodySize,transferSize:e.transferSize}:{size:void 0,encodedBodySize:void 0,decodedBodySize:void 0,transferSize:void 0}}function Go(e,t){return t&&!function(e,t){var n=[t.rumEndpoint];return t.logsEndpoint&&n.push(t.logsEndpoint),t.sessionReplayEndPoint&&n.push(t.sessionReplayEndPoint),D(n,(function(t){return 0===e.indexOf(t)}))||t.isIntakeUrl(e)}(t,e)}var Wo=/data:(.+)?(;base64)?,/g;function Jo(e){return!(e.length<=24e3)&&("data:"===e.substring(0,5)&&(e=e.substring(0,24e3),!0))}function Xo(e){return e.match(Wo)[0]+"[...]"}function Ko(e,t){var n=me(),r=!1,i=Bn(window,[nt,yt,rt,st,pt],(function(e){if(e.cancelable){var t={entryType:"first-input",processingStart:pe(),processingEnd:pe(),startTime:e.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:function(){return{}}};e.type===pt?function(e){Bn(window,[vt,gt],(function(t){t.type===vt&&o(e)}),{once:!0})}(t):o(t)}}),{passive:!0,capture:!0}).stop;return{stop:i};function o(e){if(!r){r=!0,i();var o=e.processingStart-e.startTime;o>=0&&o<me()-n&&t(e)}}}var $o,Qo="event",Zo="first-input",Yo="largest-contentful-paint",ea="layout-shift",ta="longtask",na="long-animation-frame",ra="navigation",ia="paint",oa="resource",aa="visibility-state";function sa(e,t){return new Mn((function(n){if(window.PerformanceObserver){var r,i,o=function(t){var r=function(e,t){return t.filter((function(t){return!function(e,t){return!(t.entryType!==oa||Go(e,t.name)&&Bo(t))}(e,t)}))}(e,t);r.length>0&&n.notify(r)},a=!0,s=new PerformanceObserver(c((function(e){a?r=g((function(){o(e.getEntries())})):o(e.getEntries())})));try{s.observe(t)}catch(e){if(ke([oa,ra,ta,ia],t.type)){t.buffered&&(r=g((function(){o(performance.getEntriesByType(t.type))})));try{s.observe({entryTypes:[t.type]})}catch(e){return}}}if(a=!1,function(e){!$o&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&($o=jn(performance,"resourcetimingbufferfull",(function(){performance.clearResourceTimings()})))}(),!ua(Zo)&&t.type===Zo){var u=Ko(0,(function(e){o([e])}));i=u.stop}return function(){s.disconnect(),i&&i(),m(r)}}}))}function ua(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function ca(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange;void 0===r&&(r=re);var i={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},o=t.subscribe(ar,(function(e){if(e.type!==Ht.VIEW&&n(e))switch(e.type){case Ht.ERROR:i.errorCount+=1,r();break;case Ht.ACTION:e.action.frustration&&(i.frustrationCount+=e.action.frustration.type.length),i.actionCount+=1,r();break;case Ht.LONG_TASK:i.longTaskCount+=1,r();break;case Ht.RESOURCE:i.resourceCount+=1,r()}}));return{stop:function(){o.unsubscribe()},eventCounts:i}}var fa=100;function la(e,t,n,r,i){return function(e,t,n){var r,i=!1,o=g((function(){c({hadActivity:!1})}),100),a=void 0!==n?g((function(){return c({hadActivity:!0,end:ge()})}),n):void 0,s=e.subscribe((function(e){var t=e.isBusy;m(o),m(r);var n=ge();t||(r=g((function(){c({hadActivity:!0,end:n})}),100))})),u=function(){i=!0,m(o),m(r),m(a),s.unsubscribe()};function c(e){i||(u(),t(e))}return{stop:u}}(function(e,t,n){return new Mn((function(r){var i,o=[],a=0;o.push(t.subscribe((function(){u()})),sa(n,{type:oa}).subscribe((function(e){D(e,(function(e){return!da(n,e.name)}))&&u()})),e.subscribe(rr,(function(e){da(n,e.url)||(void 0===i&&(i=e.requestIndex),a+=1,u())})),e.subscribe(ir,(function(e){da(n,e.url)||void 0===i||e.requestIndex<i||(a-=1,u())})));var s=Pn(window,"open",u).stop;return function(){s(),x(o,(function(e){e.unsubscribe()}))};function u(){r.notify({isBusy:a>0})}}))}(e,t,n),r,i)}function da(e,t){return V(e.excludedActivityUrls,t)}var pa=oe,va=0,ga=1,ma=2;function ha(e,t){var n,r=[],i=va;function o(e){e.stopObservable.subscribe(a),r.push(e),m(n),n=g(s,1e3)}function a(){i===ga&&function(e,t,n){if(e.every)return e.every(t);for(var r=!0,i=0;i<e.length;i++)if(T.call(e,i)){var o=e[i];if(!t.call(n,o,i,e)){r=!1;break}}return r}(r,(function(e){return e.isStopped()}))&&(i=ma,t(r))}function s(){m(n),i===va&&(i=ga,a())}return o(e),{tryAppend:function(e){return i===va&&(r.length>0&&(t=r[r.length-1].event,n=e.event,!(t.target===n.target&&(a=t,u=n,Math.sqrt(Math.pow(a.clientX-u.clientX,2)+Math.pow(a.clientY-u.clientY,2))<=100)&&t.timeStamp-n.timeStamp<=pa))?(s(),!1):(o(e),!0));var t,n,a,u},stop:function(){s()}}}var ya="data-guance-action-name";function ba(e,t){return _a(e,ya)||t&&_a(e,t)||Ca(e,t,Ta)||Ca(e,t,Ea)||""}function _a(e,t){var n;if(function(){void 0===Sa&&(Sa="closest"in HTMLElement.prototype);return Sa}())n=e.closest("["+t+"]");else for(var r=e;r;){if(r.hasAttribute(t)){n=r;break}r=r.parentElement}if(n)return ka(xa(n.getAttribute(t).trim()))}var wa,Sa,Ta=[function(e,t){if(function(){void 0===wa&&(wa="labels"in HTMLInputElement.prototype);return wa}()){if("labels"in e&&e.labels&&e.labels.length>0)return Ia(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&Ie(e.ownerDocument.querySelectorAll("label"),(function(t){return t.htmlFor===e.id}));return n&&Ia(n,t)}},function(e){if("INPUT"===e.nodeName){var t=e,n=t.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return t.value}},function(e,t){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return Ia(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var n=e.getAttribute("aria-labelledby");if(n)return n=n.split(/\s+/),n=U(n,(function(t){return function(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}(e,t)})),n=L(n,(function(e){return Boolean(e)})),(n=U(n,(function(e){return Ia(e,t)}))).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return Ia(e.options[0],t)}],Ea=[function(e,t){return Ia(e,t)}];function Ca(e,t,n){for(var r=e,i=0;i<=10&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0;o<n.length;o++){var a=(0,n[o])(r,t);if("string"==typeof a){var s=a.trim();if(s)return ka(xa(s))}}if("FORM"===r.nodeName)break;r=r.parentElement,i+=1}}function xa(e){return e.replace(/\s+/g," ")}function ka(e){return e.length>100?Ce(e,100)+" [...]":e}function Ia(e,t){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,r=function(t){for(var r=e.querySelectorAll(t),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var a=o.innerText;a&&a.trim().length>0&&(n=n.replace(a,""))}}};return Ue()===Pe&&r("script, style"),r("[data-guance-action-name]"),t&&r("["+t+"]"),n}return e.textContent}}var Oa,Ra=[ya,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Aa=[La,function(e){if(e.id&&!Ma(e.id))return"#"+j(e.id)}],Pa=[La,function(e){if("BODY"===e.tagName)return;if(e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var n=e.classList[t];if(!Ma(n))return j(e.tagName)+"."+j(n)}},function(e){return j(e.tagName)}];function Na(e,t){if(function(e){if("isConnected"in e)return e.isConnected;return e.ownerDocument.documentElement.contains(e)}(e)){for(var n,r=e;r&&"HTML"!==r.nodeName;){var i=Da(r,Aa,Va,t,n);if(i)return i;n=Da(r,Pa,ja,t,n)||Ba(Ua(r),n),r=r.parentElement}return n}}function Ma(e){return/[0-9]/.test(e)}function La(e,t){if(t&&(r=i(t)))return r;for(var n=0;n<Ra.length;n++){var r;if(r=i(Ra[n]))return r}function i(t){if(e.hasAttribute(t))return j(e.tagName)+"["+t+'="'+j(e.getAttribute(t))+'"]'}}function Ua(e){for(var t=e.parentElement&&e.parentElement.firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;var r=j(e.tagName);return/^::/.test(r)?r:r+":nth-of-type("+n+")"}function Da(e,t,n,r,i){for(var o=0;o<t.length;o++){var a=(0,t[o])(e,r);if(a&&n(e,a,i))return Ba(a,i)}}function Va(e,t,n){return 1===e.ownerDocument.querySelectorAll(Ba(t,n)).length}function ja(e,t,n){var r;if(void 0===n)r=function(e){return e.matches(t)};else{var i=function(){if(void 0===Oa)try{document.querySelector(":scope"),Oa=!0}catch(e){Oa=!1}return Oa}()?Ba("".concat(t,":scope"),n):Ba(t,n);r=function(e){return null!==e.querySelector(i)}}for(var o=e.parentElement.firstElementChild;o;){if(o!==e&&r(o))return!1;o=o.nextElementSibling}return!0}function Ba(e,t){return t?e+">"+t:e}function Ha(){var e=window.getSelection();return!e||e.isCollapsed}function qa(e){return e.target instanceof Element&&!1!==e.isPrimary}function za(e,t){if(function(e){if(D(e,(function(e){return e.getUserActivity().selection||e.getUserActivity().scroll})))return!1;for(var t=0;t<e.length-2;t+=1)if(e[t+3-1].event.timeStamp-e[t].event.timeStamp<=oe)return!0;return!1}(e))return t.addFrustration(Vt),D(e,Fa)&&t.addFrustration(Bt),t.hasError()&&t.addFrustration(jt),{isRage:!0};var n=D(e,(function(e){return e.getUserActivity().selection}));return x(e,(function(e){e.hasError()&&e.addFrustration(jt),Fa(e)&&!n&&e.addFrustration(Bt)})),{isRage:!1}}function Fa(e){return!(e.hasPageActivity()||e.getUserActivity().input||e.getUserActivity().scroll)&&(t=e.event.target,n='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *',!(t.matches?t.matches(n):t.msMatchesSelector&&t.msMatchesSelector(n)));var t,n}var Ga=1e4,Wa=new Map;function Ja(e,t){Wa.set(e,t),Wa.forEach((function(e,t){he(t,pe())>1e4&&Wa.delete(t)}))}function Xa(e,t,n){var r,i=new $e({expireDelay:3e5}),o=new Mn;e.subscribe(er,(function(){i.reset()})),e.subscribe(Zn,d);var a,s,u,c,f,l=(a={onPointerDown:function(r){return function(e,t,n,r){var i,o,a,s,u=(i=r,o=e.actionNameAttribute,a=i.target.getBoundingClientRect(),(s=Na(i.target,o))&&Ja(i.timeStamp,s),{type:Ut,target:{width:Math.round(a.width),height:Math.round(a.height),selector:s},position:{x:Math.round(i.clientX-a.left),y:Math.round(i.clientY-a.top)},name:ba(i.target,o)}),c=!1;return la(t,n,e,(function(e){c=e.hadActivity}),fa),{clickActionBase:u,hadActivityOnPointerDown:function(){return c}}}(n,e,t,r)},onPointerUp:function(r,a,s){!function(e,t,n,r,i,o,a,s,u,c){var f=Za(t,r,u,a,s);o(f);var l=a&&a.target&&a.target.selector;l&&Ja(s.timeStamp,l);var d=la(t,n,e,(function(e){e.hadActivity&&e.end<f.startClocks.timeStamp?f.discard():e.hadActivity?f.stop(e.end):c()?f.stop(f.startClocks.timeStamp):f.stop()}),Ga).stop,p=t.subscribe(Zn,(function(e){f.stop(e.endClocks.timeStamp)})),v=i.subscribe((function(){f.stop()}));f.stopObservable.subscribe((function(){p.unsubscribe(),d(),v.unsubscribe()}))}(n,e,t,i,o,p,r.clickActionBase,a,s,r.hadActivityOnPointerDown)}},c={selection:!1,input:!1,scroll:!1},f=[jn(window,pt,(function(e){qa(e)&&(s=Ha(),c={selection:!1,input:!1,scroll:!1},u=a.onPointerDown(e))}),{capture:!0}),jn(window,Et,(function(){s&&Ha()||(c.selection=!0)}),{capture:!0}),jn(window,vt,(function(e){if(qa(e)&&u){var t=c;a.onPointerUp(u,e,(function(){return t})),u=void 0}}),{capture:!0}),jn(window,at,(function(){c.scroll=!0}),{capture:!0,passive:!0}),jn(window,St,(function(){c.input=!0}),{capture:!0})],{stop:function(){x(f,(function(e){return e.stop()}))}}).stop;return{stop:function(){d(),o.notify(),l()},actionContexts:{findActionId:function(e){var t=i.findAll(e);if(t&&t.length)return t[t.length-1]},findAllActionId:function(e){return i.findAll(e)}}};function d(){r&&r.stop()}function p(e){if(!r||!r.tryAppend(e)){var t=e.clone();r=ha(e,(function(e){!function(e,t){za(e,t).isRage?(x(e,(function(e){e.discard()})),t.stop(ge()),t.validate(U(e,(function(e){return e.event})))):(t.discard(),x(e,(function(e){e.validate()})))}(e,t)}))}}}var Ka=0,$a=1,Qa=2;function Za(e,t,n,r,i){var o,a=X(),s=ve(),u=t.add(a,s.relative),c=ca({lifeCycle:e,isChildEvent:function(e){return void 0!==e.action&&(A(e.action.ids)?ke(e.action.ids,a):e.action.ids===a)}}),f=Ka,l=[],d=new Mn;function p(e){f===Ka&&(f=$a,(o=e)?u.close(le(o)):u.remove(),c.stop(),d.notify())}return{event:i,stop:p,stopObservable:d,hasError:function(){return c.eventCounts.errorCount>0},hasPageActivity:function(){return void 0!==o},getUserActivity:n,addFrustration:function(e){l.push(e)},startClocks:s,isStopped:function(){return f===$a||f===Qa},clone:function(){return Za(e,t,n,r,i)},validate:function(t){if(p(),f===$a){var n=c.eventCounts,u=n.resourceCount,d=n.errorCount,v=n.longTaskCount,g=k({type:Ut,duration:o&&he(s.timeStamp,o),startClocks:s,id:a,frustrationTypes:l,counts:{resourceCount:u,errorCount:d,longTaskCount:v},events:Be(t,[i]),event:i},r);e.notify(Jn,g),f=Qa}},discard:function(){p(),f=Qa}}}var Ya="active",es="passive",ts="hidden",ns="frozen",rs="terminated";function is(e){void 0===e&&(e=500);var t,n=$e({expireDelay:144e5,maxEntries:4e3});i(os(),pe());var r=Bn(window,[ct,bt,_t,ut,lt,ft,ht],(function(e){i(function(e){if(e.type===ft)return ns;if(e.type===ht)return e.persisted?ns:rs;return os()}(e),e.timeStamp)}),{capture:!0}).stop;function i(e,r){void 0===r&&(r=pe()),e!==t&&(t=e,n.closeActive(r),n.add({state:t,startTime:r},r))}var o={findAll:function(t,r){var i=n.findAll(t,r);if(0!==i.length){for(var o=[],a=Math.max(0,i.length-e),s=i.length-1;s>=a;s--){var u=i[s],c=he(t,u.startTime);o.push({state:u.state,start:fe(c)})}return o}},wasInPageStateAt:function(e,t){return o.wasInPageStateDuringPeriod(e,t,0)},wasInPageStateDuringPeriod:function(e,t,r){return n.findAll(t,r).some((function(t){return t.state===e}))},addPageState:i,stop:function(){r(),n.stop()}};return o}function os(){return"hidden"===document.visibilityState?ts:document.hasFocus()?Ya:es}function as(e,t){var n=ss(e)?{action:{error:{count:e.counts.errorCount},id:e.id,loadingTime:We(fe(e.duration)),frustration:{type:e.frustrationTypes},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_gc:{action:{target:e.target,position:e.position}}}:{action:{loadingTime:0}};return{customerContext:ss(e)?void 0:e.context,rawRumEvent:R({action:{id:X(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:Ht.ACTION,view:{in_foreground:t.wasInPageStateAt(Ya,e.startClocks.relative)}},n),startTime:e.startClocks.relative,domainContext:ss(e)?{event:e.event,events:e.events}:{}}}function ss(e){return e.type!==Dt}function us(e,t,n,r,i,o,a){var s=function(e,t,n,r,i,o){void 0===o&&(o=Hi);var a=function(e,t){return o({encoder:t.encoder,request:Pi(t.endpoint,e.batchBytesLimit,e.retryMaxSize,n),flushController:zi({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:r,sessionExpireObservable:i}),messageBytesLimit:e.messageBytesLimit,sendContentTypeByJson:e.sendContentTypeByJson})}(e,t);return{flushObservable:a.flushController.flushObservable,add:function(e){a.add(e)},upsert:function(e,t){a.upsert(e,t)},stop:function(){a.stop()}}}(e,{endpoint:e.rumEndpoint,encoder:a(2)},r,i,o);return t.subscribe(ar,(function(e){e.type===Ht.VIEW?s.upsert(e,e.view.id):s.add(e)})),s}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){Ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ls,ds="synthetics",ps="user",vs={"view.url":"string","view.referrer":"string"},gs={context:"object"},ms={service:"string",version:"string"},hs={};function ys(e,t,n,r,i,o,s,u,c,f){hs[Ht.VIEW]=fs(fs({},gs),vs),hs[Ht.ERROR]=k({"error.message":"string","error.stack":"string","error.resource.url":"string"},gs,vs,ms),hs[Ht.RESOURCE]=k({"resource.url":"string"},gs,vs,ms),hs[Ht.ACTION]=k({"action.target.name":"string"},gs,vs,ms),hs[Ht.LONG_TASK]=k({},gs,vs);var l={};l[Ht.ERROR]=yr(Ht.ERROR,e.eventRateLimiterThreshold,f),l[Ht.ACTION]=yr(Ht.ACTION,e.eventRateLimiterThreshold,f),t.subscribe(or,(function(f){var d,p=f.startTime,v=f.rawRumEvent,g=f.savedCommonContext,m=f.customerContext,h=f.domainContext,y=i.findView(p),b=o.findUrl(p),_=n.findTrackedSession(p);if((!_||!_.isErrorSession||_.sessionHasError)&&(_&&y&&b)){var w=s.findActionId(p),S=s.findAllActionId(p),T=g||c(),E={_gc:{sdkName:e.sdkName,sdkVersion:e.sdkVersion,drift:Math.round(me()-(Se()+performance.now())),configuration:{session_sample_rate:ue(e.sessionSampleRate,3),session_replay_sample_rate:ue(e.sessionReplaySampleRate,3),session_on_error_sample_rate:ue(e.sessionOnErrorSampleRate,3),session_replay_on_error_sample_rate:ue(e.sessionReplayOnErrorSampleRate,3)}},terminal:{type:"web"},application:{id:e.applicationId},device:et,env:e.env||"",service:y.service||e.service||"browser",version:y.version||e.version||"",source:"browser",date:ge(),user:{id:r.getId(),is_signin:"F",is_login:!1},session:{type:void 0===window._DATAFLUX_SYNTHETICS_BROWSER?ps:ds,id:_.id},view:{id:y.id,name:y.name||b.path,url:b.url,referrer:b.referrer,host:b.host,path:b.path,pathGroup:b.pathGroup,urlQuery:b.urlQuery},action:(d=v,-1!==[Ht.ERROR,Ht.RESOURCE,Ht.LONG_TASK].indexOf(d.type)&&w?{id:w,ids:S}:void 0),display:u.get()},C=Ve(R(E,y,v)),x=R({},T.context,y.context,m);H(x)||(C.context=x),"has_replay"in C.session||(C.session.has_replay=T.hasReplay),_.errorSessionReplayAllowed&&(C.session.has_replay=C.session.has_replay&&_.sessionHasError),"view"===C.type&&(C.session.sampled_for_error_replay=_.errorSessionReplayAllowed,C.session.sampled_for_error_session=_.isErrorSession,C.session.error_timestamp_for_session=_.sessionErrorTimestamp),H(T.context.device)||(C.device=R(C.device,T.context.device)),H(T.user)||(C.user=R(C.user,{is_signin:"T",is_login:!0},T.user)),function(e,t,n,r){if(t){var i=gr(e,hs[e.type],(function(e){return t(e,n)}));if(!1===i&&e.type!==Ht.VIEW)return!1;!1===i&&a.warn("Can't dismiss view events using beforeSend!")}var o=!1;r[e.type]&&(o=r[e.type].isLimitReached());return!o}(C,e.beforeSend,h,l)&&(H(C.context)&&delete C.context,t.notify(ar,C))}}))}function bs(){return ls||(ls=new Mn((function(e){var t=W((function(){e.notify(_s())}),200).throttled;return jn(window,wt,t,{capture:!0,passive:!0}).stop}))),ls}function _s(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function ws(e,n,r,i){var o=new Mn;!function(e){var n=Dn([t.error]).subscribe((function(t){e.notify(t.error)}))}(o),function(e){yn((function(t,n){e.notify(kn({stackTrace:t,originalError:n,startClocks:ve(),nonErrorPrefix:nn,source:xn.SOURCE,handling:tn}))}))}(o),function(e,t){var n=zn(0,[Hn]).subscribe((function(e){t.notify({startClocks:ve(),message:e.message,stack:e.stack,type:e.subtype,source:xn.REPORT,handling:tn})}))}(0,o);var a=r.findTrackedSession(),s=a.isErrorSession&&a.sessionHasError;return a.isErrorSession&&e.subscribe(er,(function(){s=!1})),o.subscribe((function(t){a.isErrorSession&&!s&&(r.setErrorForSession(),s=!0),e.notify(sr,{error:t})})),function(e,t){return e.subscribe(sr,(function(n){e.notify(or,k({customerContext:n.customerContext,savedCommonContext:n.savedCommonContext},function(e,t){return{rawRumEvent:{date:e.startClocks.timeStamp,error:{id:X(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser"},type:Ht.ERROR,view:{in_foreground:t.wasInPageStateAt(Ya,e.startClocks.relative)}},startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(n.error,t)))})),{addError:function(t,n){var r=t.error,i=kn({stackTrace:r instanceof Error?un(r):void 0,originalError:r,handlingStack:t.handlingStack,startClocks:t.startClocks,nonErrorPrefix:rn,source:xn.CUSTOM,handling:en});e.notify(sr,{customerContext:t.context,savedCommonContext:n,error:i})}}}(e,i)}function Ss(){if(ua(ra)){var e=performance.getEntriesByType(ra)[0];if(e)return e}var t=function(){var e={},t=performance.timing;for(var n in t)if(G(t[n])){var r=n,i=t[r];e[r]=0===i?0:le(i)}return e}(),n=k({entryType:ra,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.responseEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,toJSON:function(){return k({},n,{toJSON:void 0})}},t);return n}function Ts(e,t,n){return void 0===n&&(n=Ss),function(e){var t,n=vi("complete",(function(){t=g((function(){e()}))}));return{stop:function(){n.stop(),m(t)}}}((function(){var e=n();(function(e){return e.loadEventEnd<=0})(e)||t(function(e){return{fetchStart:e.fetchStart,responseEnd:e.responseEnd,domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,loadEventEnd:e.loadEventEnd,loadEventStart:e.loadEventStart,domContentLoadedEventEnd:e.domContentLoadedEventEnd,domContentLoadedEventStart:e.domContentLoadedEventStart,firstByte:e.responseStart>=0&&e.responseStart<=pe()?e.responseStart:void 0}}(e))}))}function Es(e){if(void 0===e&&(e=window),"hidden"===document.visibilityState)return{getTimeStamp:function(){return 0},stop:re};if(ua(aa)){var t=performance.getEntriesByType(aa).find((function(e){return"hidden"===e.name}));if(t)return{getTimeStamp:function(){return t.startTime},stop:re}}var n=1/0,r=Bn(e,[ht,ut],(function(e){e.type!==ht&&"hidden"!==document.visibilityState||(n=e.timeStamp,r())}),{capture:!0}).stop;return{getTimeStamp:function(){return n},stop:function(){r()}}}function Cs(e,t,n){var r={},i=Ts(0,(function(e){t(e.loadEvent),r.navigationTimings=e,n()})),o=Es(),a=i.stop,s=function(e,t,n){return{stop:sa(e,{type:ia,buffered:!0}).subscribe((function(e){var r=Ie(e,(function(e){return e.entryType===ia&&"first-contentful-paint"===e.name&&e.startTime<t.getTimeStamp()&&e.startTime<6e5}));r&&n(r.startTime)})).unsubscribe}}(e,o,(function(e){r.firstContentfulPaint=e,n()})).stop,u=function(e,t,n,r){var i=1/0,o=Bn(n,[pt,rt],(function(e){i=e.timeStamp}),{capture:!0,once:!0}).stop,a=0,s=sa(e,{type:Yo,buffered:!0}).subscribe((function(n){var o,s=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(n,(function(e){return e.entryType===Yo&&e.startTime<i&&e.startTime<t.getTimeStamp()&&e.startTime<6e5&&e.size>a}));s&&(s.element&&(o=Na(s.element,e.actionNameAttribute)),r({value:s.startTime,targetSelector:o}),a=s.size)}));return{stop:function(){o(),s.unsubscribe()}}}(e,o,window,(function(e){r.largestContentfulPaint=e,n()})).stop,c=function(e,t,n){var r=sa(e,{type:Zo,buffered:!0}).subscribe((function(r){var i=Ie(r,(function(e){return e.entryType===Zo&&e.startTime<t.getTimeStamp()}));if(i){var o,a=he(i.startTime,i.processingStart);i.target&&pi(i.target)&&(o=Na(i.target,e.actionNameAttribute)),n({delay:a>=0?a:0,time:i.startTime,targetSelector:o})}}));return{stop:function(){r.unsubscribe()}}}(e,o,(function(e){r.firstInput=e,n()})).stop;return{stop:function(){a(),s(),u(),c(),o.stop()},initialViewMetrics:r}}function xs(e,t,n,r){void 0===r&&(r=function(e,t){void 0===t&&(t=1e3);return new Mn((function(e){function n(){var t,n,r,i,o,a;e.notify((a=window.visualViewport,o=a?a.pageTop-a.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,t=Math.round(o),n=_s().height,r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),i=Math.round(n+t),{scrollHeight:r,scrollDepth:i,scrollTop:t}))}if(window.ResizeObserver){var r=W(n,t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,o=new ResizeObserver(c(r.throttled));i&&o.observe(i);var a=jn(window,at,r.throttled,{passive:!0});return function(){r.cancel(),o.unobserve(i),a.stop()}}}))}());var i=0,o=0,a=0,s=r.subscribe((function(e){var r=e.scrollDepth,s=e.scrollTop,u=e.scrollHeight,c=!1;if(r>i&&(i=r,c=!0),u>o){o=u;var f=pe();a=he(t.relative,f),c=!0}c&&n({maxDepth:Math.min(i,o),maxDepthScrollTop:s,maxScrollHeight:o,maxScrollHeightTime:a})}));return{stop:function(){return s.unsubscribe()}}}function ks(e,t,n){if(!Rs())return{stop:re};var r,i,o=0;n({value:0});var a=function(){var e,t,n=0,r=0;return{update:function(i){var o;return void 0===e||i.startTime-t>=1e3||i.startTime-e>=25e3?(e=t=i.startTime,r=n=i.value,o=!0):(n+=i.value,t=i.startTime,(o=i.value>r)&&(r=i.value)),{cumulatedValue:n,isMaxValue:o}}}}(),s=sa(e,{type:ea,buffered:!0}).subscribe((function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(!(f.hadRecentInput||f.startTime<t)){var l=a.update(f),d=l.cumulatedValue;if(l.isMaxValue){var p=Is(f.sources);r=p?new WeakRef(p):void 0,i=he(t,f.startTime)}if(d>o){o=d;p=r&&r.deref();n({value:ue(o,4),targetSelector:p&&Na(p,e.actionNameAttribute),time:i})}}}}));return{stop:function(){s.unsubscribe()}}}function Is(e){if(e){var t=Ie(e,(function(e){return!!e.node&&pi(e.node)}));return t&&t.node}}var Os;function Rs(){return ua(ea)&&"WeakRef"in window}var As=0,Ps=1/0,Ns=0;var Ms=function(){return Os?As:window.performance.interactionCount||0};function Ls(e,t,n){if(!(ua("event")&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:re,stop:re};var r,i,o=function(e){"interactionCount"in performance||Os||(Os=new window.PerformanceObserver(c((function(e){e.getEntries().forEach((function(e){var t=e;t.interactionId&&(Ps=Math.min(Ps,t.interactionId),Ns=Math.max(Ns,t.interactionId),As=(Ns-Ps)/7+1)}))})))).observe({type:"event",buffered:!0,durationThreshold:0});var t=e===Ft?0:Ms(),n={stopped:!1};function r(){return Ms()-t}return{getViewInteractionCount:function(){return n.stopped?n.interactionCount:r()},stopViewInteractionCount:function(){n={stopped:!0,interactionCount:r()}}}}(n),a=o.getViewInteractionCount,s=o.stopViewInteractionCount,u=1/0,f=function(e){var t=[];function n(){t.sort((function(e,t){return t.duration-e.duration})).splice(10)}return{process:function(e){var r=t.findIndex((function(t){return e.interactionId===t.interactionId})),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(a),l=-1;function d(n){for(var o=0,a=n;o<a.length;o++){var s=a[o];s.interactionId&&s.startTime>=t&&s.startTime<=u&&f.process(s)}var c,d,p=f.estimateP98Interaction();p&&p.duration!==l&&(l=p.duration,i=he(t,p.startTime),c=p.startTime,d=Wa.get(c),Wa.delete(c),!(r=d)&&p.target&&pi(p.target)&&(r=Na(p.target,e.actionNameAttribute)))}var p=sa(e,{type:Zo,buffered:!0}).subscribe(d),v=sa(e,{type:Qo,durationThreshold:40,buffered:!0}).subscribe(d);return{getInteractionToNextPaint:function(){return l>=0?{value:Math.min(l,6e4),targetSelector:r,time:i}:a()?{value:0}:void 0},setViewEnd:function(e){u=e,s()},stop:function(){v.unsubscribe(),p.unsubscribe()}}}function Us(e,t,n,r,i,o){var a={},s=function(e,t,n,r,i,o){var a=r===Ft,s=!0,u=[],c=Es();function f(){if(!s&&!a&&u.length>0){var e=Math.max.apply(Math,u);e<c.getTimeStamp()&&o(e)}}var l=la(e,t,n,(function(e){s&&(s=!1,e.hadActivity&&u.push(he(i.timeStamp,e.end)),f())})).stop;return{setLoadEvent:function(e){a&&(a=!1,u.push(e),f())},stop:function(){l(),c.stop(),s&&(s=!1,f())}}}(e,t,n,i,o,(function(e){a.loadingTime=e,r()})),u=s.stop,c=s.setLoadEvent,f=xs(0,o,(function(e){a.scroll=e})).stop,l=ks(n,o.relative,(function(e){a.cumulativeLayoutShift=e,r()})).stop,d=Ls(n,o.relative,i),p=d.stop,v=d.getInteractionToNextPaint;return{stop:function(){u(),l(),f()},stopINPTracking:p,setLoadEvent:c,setViewEnd:d.setViewEnd,getCommonViewMetrics:function(){return a.interactionToNextPaint=v(),a}}}var Ds,Vs=3e5,js=3e5;function Bs(e,t,n,r,i,o,a){var s=new Set;function u(i,o,a){var u=function(e,t,n,r,i,o,a){void 0===o&&(o=ve());var s,u,c,f,l,d=X(),p=new Mn,v={},m=0,b=I(r),_=$i(),w=!0;a&&(u=a.name,c=a.service,f=a.version,l=a.context);l&&_.setContext(l);var S={id:d,name:u,startClocks:o,service:c,version:f};e.notify(Xn,S),e.notify(Kn,S);var T=W(H,3e3,{leading:!1}),E=T.throttled,C=T.cancel,x=Us(e,t,n,B,i,o),k=x.setLoadEvent,O=(x.stop,x.getCommonViewMetrics),R=x.stopINPTracking,A=(x.setViewEnd,i===Ft?Cs(n,k,B):{stop:re,initialViewMetrics:{}}),P=A.stop,N=A.initialViewMetrics,M=function(e,t,n){var r=ca({lifeCycle:e,isChildEvent:function(e){return e.view.id===t},onChange:n});return{stop:r.stop,eventCounts:r.eventCounts}}(e,d,B),L=M.stop,U=M.eventCounts,D=h(H,Vs),V=e.subscribe(nr,(function(e){e.reason===di.UNLOADING&&H()}));function j(){e.notify(Qn,{id:d,name:u,context:_.getContext(),startClocks:o})}function B(){j(),E()}function H(){C(),j(),m+=1;var t=void 0===s?ge():s.timeStamp;e.notify($n,{customTimings:v,documentVersion:m,id:d,name:u,service:c,version:f,context:_.getContext(),loadingType:i,location:b,startClocks:o,commonViewMetrics:O(),initialViewMetrics:N,duration:he(o.timeStamp,t),isActive:void 0===s,sessionIsActive:w,eventCounts:U})}H(),_.changeObservable.subscribe(B);var q={name:u,service:c,version:f,contextManager:_,stopObservable:p,end:function(t){s||(s=Be(t&&t.endClocks,ve()),w=Be(t&&t.sessionIsActive,!0),e.notify(Zn,{endClocks:s}),e.notify(Yn,{endClocks:s}),y(D),V.unsubscribe(),H(),g((function(){q.stop()}),js))},stop:function(){P(),L(),R(),p.notify()},addTiming:function(e,t){if(!s){var n=function(e){return e<31536e6}(t)?t:he(o.timeStamp,t);v[function(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");t!==e&&console.warn("Invalid timing name: "+e+", sanitized to: "+t);return t}(e)]=n,B()}},setViewName:function(e){u=e,H()}};return q}(t,n,r,e,i,o,a);return s.add(u),u.stopObservable.subscribe((function(){s.delete(u)})),u}var c,f=u(Ft,ye(),a);return t.subscribe(er,(function(){f=u(Gt,void 0,{name:f.name,service:f.service,version:f.version,context:f.contextManager.getContext()})})),t.subscribe(tr,(function(){f.end({sessionIsActive:!1})})),o&&(c=function(e){return e.subscribe((function(e){var t,n,r=e.oldLocation,i=e.newLocation;if(n=i,(t=r).pathname!==n.pathname||!Fe(n.hash)&&Ge(n.hash)!==Ge(t.hash))return f.end(),void(f=u(Gt))}))}(i)),{addTiming:function(e,t){void 0===t&&(t=ge()),f.addTiming(e,t)},startView:function(e,t){f.end({endClocks:t}),f=u(Gt,t,e)},setViewContext:function(e){f.contextManager.setContext(e)},setViewContextProperty:function(e,t){f.contextManager.setContextProperty(e,t)},setViewName:function(e){f.setViewName(e)},getViewContext:function(){return f.contextManager.getContext()},stop:function(){c&&c.unsubscribe(),f.end(),s.forEach((function(e){e.stop()}))}}}function Hs(e,t,n,r,i,o,a,s){return e.subscribe($n,(function(n){e.notify(or,function(e,t,n,r){var i=r.findAll(e.startClocks.relative,e.duration),o={_gc:{document_version:e.documentVersion,page_states:i},date:e.startClocks.timeStamp,type:Ht.VIEW,view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:Ee(e.commonViewMetrics,"cumulativeLayoutShift.value"),cumulative_layout_shift_time:Ee(e.commonViewMetrics,"cumulativeLayoutShift.time"),cumulative_layout_shift_target_selector:Ee(e.commonViewMetrics,"cumulativeLayoutShift.targetSelector"),first_byte:fe(Ee(e.initialViewMetrics,"navigationTimings.firstByte")),dom_complete:fe(Ee(e.initialViewMetrics,"navigationTimings.domComplete")),dom_content_loaded:fe(Ee(e.initialViewMetrics,"navigationTimings.domContentLoaded")),dom_interactive:fe(Ee(e.initialViewMetrics,"navigationTimings.domInteractive")),error:{count:e.eventCounts.errorCount},first_contentful_paint:fe(Ee(e.initialViewMetrics,"firstContentfulPaint")),first_input_delay:fe(Ee(e.initialViewMetrics,"firstInput.delay")),first_input_time:fe(Ee(e.initialViewMetrics,"firstInput.time")),first_input_target_selector:Ee(e.initialViewMetrics,"firstInput.targetSelector"),interaction_to_next_paint:fe(Ee(e.commonViewMetrics,"interactionToNextPaint.value")),interaction_to_next_paint_target_selector:Ee(e.commonViewMetrics,"interactionToNextPaint.targetSelector"),is_active:e.isActive,name:e.name,largest_contentful_paint:fe(Ee(e.initialViewMetrics,"largestContentfulPaint.value")),largest_contentful_paint_element_selector:Ee(e.initialViewMetrics,"largestContentfulPaint.targetSelector"),load_event:fe(Ee(e.initialViewMetrics,"navigationTimings.loadEvent")),loading_time:We(fe(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:fe(e.duration)},display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:fe(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{is_active:!!e.sessionIsActive&&void 0},privacy:{replay_level:t.defaultPrivacyLevel}};H(e.customTimings)||(o.view.custom_timings=(a=e.customTimings,s=fe,u={},x(a,(function(e,t){u[t]=s(e)})),u));var a,s,u;return{rawRumEvent:o=R(o,{view:qs(e.initialViewMetrics.navigationTimings)}),startTime:e.startClocks.relative,domainContext:{location:e.location}}}(n,t,0,o))})),Bs(n,e,r,t,i,!t.trackViewsManually,s)}function qs(e){if(e){var t=e.fetchStart,n=e.responseEnd,r=e.domInteractive,i=e.domContentLoaded,o=e.domComplete,a=e.loadEventEnd,s=e.loadEventStart,u=e.domContentLoadedEventEnd,c={};if(G(n)&&G(t)&&n!==t&&n>t){c.fpt=fe(n-t);var f=parseInt((n-t)/1e3);c.apdexLevel=f>9?9:f}return G(r)&&G(t)&&r!==t&&r>t&&(c.tti=fe(r-t)),G(i)&&G(t)&&i!==t&&i>t&&(c.dom_ready=fe(i-t)),G(a)&&G(t)&&a!==t&&a>t&&(c.load=fe(a-t)),G(s)&&G(u)&&s!==u&&s>u&&(c.resource_load_time=fe(s-u)),G(o)&&G(r)&&o!==r&&o>r&&(c.dom=fe(o-r)),c}}function zs(){this.buffer=new Uint8Array(8),Fs().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}function Fs(){return window.crypto||window.msCrypto}function Gs(e,t){if(this._spanId=new zs,this._traceId=new zs,this._traceSampled=t,e.generateTraceId&&"function"===Y(e.generateTraceId)){var n=e.generateTraceId();"string"===Y(n)&&(this.customTraceId=n)}}function Ws(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Js(e,t,n){if(this._spanId=Ws(),this._traceId=Ws(),this._applicationId=e.applicationId,this._env=e.env,this._version=e.version,this._urlParse=$(t).getParse(),this._traceSampled=n,e.generateTraceId&&"function"===Y(e.generateTraceId)){var r=e.generateTraceId();"string"===Y(r)&&(this.customTraceId=r)}}function Xs(e,t){if(this._traceId=new zs,this._spanId=new zs,this._traceSampled=t,this.is128Bit=e.traceId128Bit,e.generateTraceId&&"function"===Y(e.generateTraceId)){var n=e.generateTraceId();"string"===Y(n)&&(this.customTraceId=n)}}function Ks(e,t){if(this._traceId=new zs,this._spanId=new zs,this._traceSampled=t,e.generateTraceId&&"function"===Y(e.generateTraceId)){var n=e.generateTraceId();"string"===Y(n)&&(this.customTraceId=n)}}function $s(e,t){if(this._traceId=new zs,this._spanId=new zs,this._traceSampled=t,this.is128Bit=e.traceId128Bit,e.generateTraceId&&"function"===Y(e.generateTraceId)){var n=e.generateTraceId();"string"===Y(n)&&(this.customTraceId=n)}}function Qs(e,t,n){if(this._traceId=new zs,this._spanId=new zs,this._traceSampled=t,this.isHexTraceId=n,e.generateTraceId&&"function"===Y(e.generateTraceId)){var r=e.generateTraceId();"string"===Y(r)&&(this.customTraceId=r)}}function Zs(e,t){return 100===t||0!==t&&(Ds&&e===Ds.sessionId?Ds.decision:(n=window.BigInt?function(e,t){var n=BigInt("1111111111111111111"),r=BigInt("0x10000000000000000");return Number(e*n%r)<=t/100*Number(r)}(BigInt("0x".concat(e.split("-")[4])),t):se(t),Ds={sessionId:e,decision:n},n));var n}function Ys(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function eu(e,t,n,r){var i=n.findTrackedSession();if(i){var o=Ie(e.allowedTracingUrls,(function(e){return V([e.match],t.url,!0)}));if(o){var a=Zs(i.id,e.tracingSampleRate);if(a){var s;switch(o.traceType){case Jt:s=new Gs(e,a);break;case Zt:s=new Js(e,t.url,a);break;case Xt:s=new $s(e,a);break;case Yt:s=new Xs(e,a);break;case $t:s=new Qs(e,a);break;case Qt:s=new Qs(e,a,!0);break;case Kt:s=new Ks(e,a)}if(s&&s.isTracingSupported()){t.traceId=s.getTraceId(),t.spanId=s.getSpanId(),t.traceSampled=a;var u=s.makeTracingHeaders();if(e.injectTraceHeader){var c=e.injectTraceHeader(I(t));"object"===Y(c)&&x(c,(function(e,t){"string"===Y(e)&&(u[t]=e)}))}r(u)}}}}}zs.prototype={toString:function(e){var t=this.readInt32(0),n=this.readInt32(4),r="";do{var i=t%e*4294967296+n;t=Math.floor(t/e),n=Math.floor(i/e),r=(i%e).toString(e)+r}while(t||n);return r},toDecimalString:function(){return this.toString(10)},toPaddedHexadecimalString:function(){var e=this.toString(16);return Array(17-e.length).join("0")+e},readInt32:function(e){return 16777216*this.buffer[e]+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]}},Gs.prototype={isTracingSupported:function(){return void 0!==Fs()},getSpanId:function(){return this._spanId.toDecimalString()},getTraceId:function(){return this.customTraceId?this.customTraceId:this._traceId.toDecimalString()},makeTracingHeaders:function(){return{"x-datadog-origin":"rum","x-datadog-parent-id":this.getSpanId(),"x-datadog-sampling-priority":this._traceSampled?"2":"-1","x-datadog-trace-id":this.getTraceId()}}},Js.prototype={isTracingSupported:function(){return!!(this._env&&this._version&&this._urlParse)},getSpanId:function(){return this._spanId},getTraceId:function(){return this.customTraceId?this.customTraceId:this._traceId},getSkyWalkingSw8:function(){try{var e=String(J(this.getTraceId())),t=String(J(this.getSpanId())),n=String(J(this._applicationId+"_rum_"+this.env)),r=String(J(this._version)),i=String(J(window.location.href)),o=String(J(this._urlParse.Host));return(this._traceSampled?"1":"0")+"-"+e+"-"+t+"-0-"+n+"-"+r+"-"+i+"-"+o}catch(e){return""}},makeTracingHeaders:function(){return{sw8:this.getSkyWalkingSw8()}}},Xs.prototype={isTracingSupported:function(){return void 0!==Fs()},getSpanId:function(){return this._spanId.toPaddedHexadecimalString()},getTraceId:function(){return this.customTraceId?this.customTraceId:this.is128Bit?"0000000000000000"+this._traceId.toPaddedHexadecimalString():this._traceId.toPaddedHexadecimalString()},getUberTraceId:function(){return this.getTraceId()+":"+this.getSpanId()+":0:"+(this._traceSampled?"1":"0")},makeTracingHeaders:function(){return{"uber-trace-id":this.getUberTraceId()}}},Ks.prototype={isTracingSupported:function(){return void 0!==Fs()},getSpanId:function(){return this._spanId.toPaddedHexadecimalString()},getTraceId:function(){return this.customTraceId?this.customTraceId:this._traceId.toPaddedHexadecimalString()},getB3Str:function(){return this.getTraceId()+"-"+this.getSpanId()+"-"+(this._traceSampled?"1":"0")},makeTracingHeaders:function(){return{b3:this.getB3Str()}}},$s.prototype={isTracingSupported:function(){return void 0!==Fs()},getSpanId:function(){return this._spanId.toPaddedHexadecimalString()},getTraceId:function(){return this.customTraceId?this.customTraceId:this.is128Bit?"0000000000000000"+this._traceId.toPaddedHexadecimalString():this._traceId.toPaddedHexadecimalString()},makeTracingHeaders:function(){return{"X-B3-TraceId":this.getSpanId(),"X-B3-SpanId":this.getTraceId(),"X-B3-Sampled":this._traceSampled?"1":"0"}}},Qs.prototype={isTracingSupported:function(){return void 0!==Fs()},getSpanId:function(){return this.isHexTraceId?this._spanId.toDecimalString():this._spanId.toPaddedHexadecimalString()},getTraceId:function(){return this.customTraceId?this.customTraceId:this.isHexTraceId?this._traceId.toDecimalString():this._traceId.toPaddedHexadecimalString()+this._spanId.toPaddedHexadecimalString()},getTraceParent:function(){return this.isHexTraceId?"00-0000000000000000"+this._traceId.toPaddedHexadecimalString()+"-"+this._spanId.toPaddedHexadecimalString()+"-"+(this._traceSampled?"01":"00"):"00-"+this.getTraceId()+"-"+this.getSpanId()+"-"+(this._traceSampled?"01":"00")},makeTracingHeaders:function(){var e={traceparent:this.getTraceParent()};return this.isHexTraceId?k(e,{"x-gc-trace-id":this.getTraceId(),"x-gc-span-id":this.getSpanId()}):e}};var tu=1;function nu(e,t,n){var r=function(e,t){return{clearTracingIfNeeded:Ys,traceFetch:function(n){return eu(e,n,t,(function(e){if(!(n.input instanceof Request)||n.init&&n.init.headers){n.init=I(n.init);var t=[];n.init.headers instanceof Headers?n.init.headers.forEach((function(e,n){t.push([n,e])})):A(n.init.headers)?x(n.init.headers,(function(e){t.push(e)})):n.init.headers&&x(n.init.headers,(function(e,n){t.push([n,e])}));var r={};x(t.concat(q(e)),(function(e){r[e[0]]=e[1]})),n.init.headers=r}else n.input=new Request(n.input),x(e,(function(e,t){n.input.headers.append(t,e)}))}))},traceXhr:function(n,r){return eu(e,n,t,(function(e){x(e,(function(e,t){r.setRequestHeader(t,e)}))}))}}}(t,n);!function(e,t,n){var r=ci().subscribe((function(r){var i=r;if(Go(t,i.url))switch(i.state){case"start":n.traceXhr(i,i.xhr),i.requestIndex=ru(),e.notify(rr,{requestIndex:i.requestIndex,url:i.url});break;case"complete":n.clearTracingIfNeeded(i),e.notify(ir,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:Wt.XHR,url:i.url,xhr:i.xhr,isAborted:i.isAborted,handlingStack:i.handlingStack})}}))}(e,t,r),function(e,t,n){var r=si().subscribe((function(r){var i=r;if(Go(t,i.url))switch(i.state){case"start":n.traceFetch(i),i.requestIndex=ru(),e.notify(rr,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":!function(e,t){var n=e.response&&function(e){try{return e.clone()}catch(e){return}}(e.response);n&&n.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function a(){var e,a;if(r.cancel().catch(re),n.collectStreamBody){var s;if(1===i.length)s=i[0];else{s=new Uint8Array(o);var u=0;x(i,(function(e){s.set(e,u),u+=e.length}))}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(c((function(t){t.done?a():(n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?a():e())})),c((function(e){t(e)})))}()}(n.body,(function(){t(he(e.startClocks.timeStamp,ge()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t(he(e.startClocks.timeStamp,ge()))}(i,(function(t){n.clearTracingIfNeeded(i),e.notify(ir,{duration:t,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:Wt.FETCH,url:i.url,response:i.response,init:i.init,input:i.input,isAborted:i.isAborted,handlingStack:i.handlingStack})}))}}))}(e,t,r)}function ru(){var e=tu;return tu+=1,e}var iu=new lo;function ou(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=L(t,(function(e){return!iu.has(e)}));n=L(n,(function(e){return Bo(e)&&Ho(e)})),n=L(n,(function(t){return n=t,r=e.startClocks.relative,i=au({startTime:e.startClocks.relative,duration:e.duration}),o=1,n.startTime>=r-o&&au(n)<=_e(i,o);var n,r,i,o}));var r=void 0;if(n.length>1){var i=Number.MAX_SAFE_INTEGER;n.forEach((function(t){var n=Math.abs(t.startTime-e.startClocks.relative);n<i&&(i=n,r=t)}))}else 1===n.length&&(r=n[0]);return r?(iu.add(r),r.toJSON()):void 0}}}function au(e){return _e(e.startTime,e.duration)}function su(e,t){vi("interactive",(function(){var e=k(Ss().toJSON(),{entryType:oa,initiatorType:Ro,toJSON:function(){return k({},e,{toJSON:void 0})}});t(e)}))}function uu(e,t,n,r,i){void 0===r&&(r=function(){var e=[];function t(t){var r;if(t.didTimeout){var i=performance.now();r=function(){return 30-(performance.now()-i)}}else r=t.timeRemaining.bind(t);for(;r()>0&&e.length;)e.shift()();e.length&&n()}function n(){Er(t,{timeout:1e3})}return{push:function(t){1===e.push(t)&&n()}}}()),void 0===i&&(i=su),e.subscribe(ir,(function(e){a((function(){return function(e,t){var n=ou(e),r=n?be(n.startTime):e.startClocks,i=function(e){if(!(e.traceSampled&&e.traceId&&e.spanId))return;return{_gc:{spanId:e.spanId,traceId:e.traceId},resource:{id:X()}}}(e),o=e.type===Wt.XHR?kt:Ot,a=n?fu(n):void 0,s=function(e,t,n){return e.wasInPageStateDuringPeriod(ns,t.relative,n)?void 0:fe(n)}(t,r,e.duration),u=$(e.url).getParse(),c=R({date:r.timeStamp,resource:{id:X(),type:o,duration:s,method:e.method,status:e.status,statusGroup:ne(e.status),url:Jo(e.url)?Xo(e.url):e.url,urlHost:u.Host,urlPath:u.Path,urlPathGroup:K(u.Path),urlQuery:Q(e.url),deliveryType:n&&Mo(n),protocol:n&&Lo(n)},type:Ht.RESOURCE},i,a);return{startTime:r.relative,rawRumEvent:c,domainContext:{performanceEntry:n,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}(e,n)}))}));var o=sa(t,{type:oa,buffered:!0}).subscribe((function(e){for(var n=function(e){(function(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType})(e)||Do(e.name,t.resourceUrlLimit)||a((function(){return cu(e,t)}))},r=0,i=e;r<i.length;r++){n(i[r])}}));function a(t){r.push((function(){var n=t();n&&e.notify(or,n)}))}return i(t,(function(e){a((function(){return cu(e,t)}))})),{stop:function(){o.unsubscribe()}}}function cu(e,t){var n,r=be(e.startTime),i=function(e){return e.traceId?{_gc:{traceId:e.traceId}}:void 0}(e),o=Po(e),a=fu(e),s=$(e.name).getParse(),u=R({date:r.timeStamp,resource:{id:X(),type:o,url:e.name,urlHost:s.Host,urlPath:s.Path,urlPathGroup:K(s.Path),urlQuery:Q(e.name),method:"GET",status:(n=e.responseStatus,0===n?void 0:n),statusGroup:ne(e.responseStatus),deliveryType:Mo(e),protocol:Lo(e)},type:Ht.RESOURCE},i,a);return{startTime:r.relative,rawRumEvent:u,domainContext:{performanceEntry:e}}}function fu(e){return{resource:R({},{duration:Vo(e)},Fo(e),jo(e))}}var lu={sdkVersion:"3.2.24",sdkName:"df_web_rum_sdk"};function du(e){if(e.applicationId){if(function(e){return e.site||e.datakitOrigin||e.datakitUrl?!(e.site&&!e.clientToken&&(a.error("clientToken is not configured, no RUM data will be collected."),1)):(a.error("datakitOrigin or site is not configured, no RUM data will be collected."),!1)}(e))if(void 0===e.sessionOnErrorSampleRate||Re(e.sessionOnErrorSampleRate))if(void 0===e.sessionReplaySampleRate||Re(e.sessionReplaySampleRate))if(void 0===e.sessionReplayOnErrorSampleRate||Re(e.sessionReplayOnErrorSampleRate)){var t=function(e){void 0!==e.allowedTracingUrls&&void 0!==e.allowedTracingOrigins&&a.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins.");if(void 0!==e.allowedTracingUrls){if(!A(e.allowedTracingUrls))return void a.error("Allowed Tracing URLs should be an array");var t=[];return x(e.allowedTracingUrls,(function(n){var r;xe(n)?t.push({match:n,traceType:Be(e.traceType,Jt)}):"object"===Y(r=n)&&xe(r.match)&&z(r.traceType)?t.push(n):a.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)})),t}if(void 0!==e.allowedTracingOrigins){if(!A(e.allowedTracingOrigins))return void a.error("Allowed Tracing Origins should be an array");t=[];return x(e.allowedTracingOrigins,(function(n){var r=pu(n,Be(e.traceType,Jt));r&&t.push(r)})),t}if(void 0!==e.allowedDDTracingOrigins){if(!A(e.allowedDDTracingOrigins))return void a.error("Allowed Tracing Origins should be an array");t=[];return x(e.allowedDDTracingOrigins,(function(n){var r=pu(n,Be(e.traceType,Jt));r&&t.push(r)})),t}return[]}(e);if(t)if(void 0===e.tracingSampleRate||Re(e.tracingSampleRate))if(void 0===e.excludedActivityUrls||A(e.excludedActivityUrls)){var n=ai(e);if(n){var r=!!Be(e.trackUserInteractions,e.trackInteractions);return k({applicationId:e.applicationId,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:Be(e.sessionReplaySampleRate,100),sessionOnErrorSampleRate:Be(e.sessionOnErrorSampleRate,0),sessionReplayOnErrorSampleRate:Be(e.sessionReplayOnErrorSampleRate,0),tracingSampleRate:Be(e.tracingSampleRate,100),allowedTracingUrls:t,injectTraceHeader:e.injectTraceHeader&&d(e.injectTraceHeader,"injectTraceHeader threw an error:"),generateTraceId:e.generateTraceId&&d(e.generateTraceId,"generateTraceId threw an error:"),excludedActivityUrls:Be(e.excludedActivityUrls,[]),workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:r,enableLongAnimationFrame:!!e.enableLongAnimationFrame,trackViewsManually:!!e.trackViewsManually,traceType:Be(e.traceType,Jt),traceId128Bit:!!e.traceId128Bit,defaultPrivacyLevel:He(oi,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:oi.MASK_USER_INPUT,shouldMaskNode:e.shouldMaskNode&&d(e.shouldMaskNode,"shouldMaskNode threw an error:")},n,lu)}}else a.error("Excluded Activity Urls should be an array");else a.error("Tracing Sample Rate should be a number between 0 and 100")}else a.error("Error Session Replay Sample Rate should be a number between 0 and 100");else a.error("Session Replay Sample Rate should be a number between 0 and 100");else a.error("Error Session  Sample Rate should be a number between 0 and 100")}else a.error("Application ID is not configured, no RUM data will be collected.")}function pu(e,t){var n;if("string"==typeof e?n=e:e instanceof RegExp?n=function(t){return e.test(_r(t))}:"function"==typeof e&&(n=function(t){return e(_r(t))}),void 0!==n)return{match:n,traceType:t};a.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",e)}function vu(e,t,n){var r,i,o,s,u=e.ignoreInitIfSyntheticsWillInjectRum,c=(r=[],{add:function(e){r.push(e)>500&&r.splice(0,1)},remove:function(e){ze(r,e)},drain:function(e){r.forEach((function(t){t(e)})),r.length=0}});function f(){if(o&&s){var e;if(s.trackViewsManually){if(!i)return;c.remove(i.callback),e=i.options}var t=n(s,undefined,e);c.drain(t)}}return{init:function(e){e?(o=e,u&&Boolean(window._GUANCE_SYNTHETICS_INJECTS_RUM||Pr("guance-synthetics-injects-rum"))||e.remoteConfiguration||function(e){if(o=e,s)po("DATAFLUX_RUM",e);else{var t=du(e);t&&(s=t,si().subscribe(re),f())}}(e)):a.error("Missing configuration")},getInitConfiguration:function(){return o},getInternalContext:re,stopSession:re,addTiming:function(e,t){void 0===t&&(t=ge()),c.add((function(n){n.addTiming(e,t)}))},startView:function(e,t){void 0===t&&(t=ve());var n=function(n){n.startView(e,t)};c.add(n),i||(i={options:e,callback:n},f())},setViewName:function(e){c.add((function(t){return t.setViewName(e)}))},setViewContext:function(e){c.add((function(t){return t.setViewContext(e)}))},setViewContextProperty:function(e,t){c.add((function(n){return n.setViewContextProperty(e,t)}))},getViewContext:function(){},addAction:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addAction(e,n)}))},addError:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addError(e,n)}))}}}var gu,mu,hu,yu,bu=function(t,n,r){void 0===r&&(r={});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao,t=new Map,n=!1;function r(){if(!n&&e!==io){var r=e===ao?no:ro,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.forEach((function(e){i+=e.getBytesCount()})),i>r&&(uo(r),n=!0)}}return{createDetachedTracker:function(){var e=so((function(){return r(e.getBytesCount())}));return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,so(r)),t.get(e)},setCompressionStatus:function(t){e===io&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach((function(e){return e.stop()})),t.clear()}}}(io),o=$i("global",{customerDataTracker:i.getOrCreateTracker(Zi)}),s=$i("user",{customerDataTracker:i.getOrCreateTracker(Qi),propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}});function l(){return function(e,t,n){return{context:e.getContext(),user:t.getContext(),hasReplay:!1}}(o,s)}var d,p,v=vu(r,l,(function(e,a,u){e.storeContextsToLocal&&(to(e,o,"rum",Zi),to(e,s,"rum",Qi)),i.setCompressionStatus(a?oo:ao);var c=t(e,n,i,l,u,a&&r.createDeflateEncoder?function(e){return r.createDeflateEncoder(a,e)}:co);return v=function(e,t){return k({init:function(e){po("DATAFLUX_RUM",e)},initConfiguration:e.getInitConfiguration()},t)}(v,c),c})),g=c((function(t){var n="object"===e(t)?t:{name:t};v.startView(n),n.context&&i.getOrCreateTracker(Yi).updateCustomerData(n.context)}));return d={init:c((function(e){v.init(e)})),setViewName:c((function(e){v.setViewName(e)})),setViewContext:c((function(e){v.setViewContext(e)})),setViewContextProperty:c((function(e,t){v.setViewContextProperty(e,t)})),getViewContext:c((function(){return v.getViewContext()})),setGlobalContextProperty:c((function(e,t){o.setContextProperty(e,t)})),removeGlobalContextProperty:c((function(e){return o.removeContextProperty(e)})),getGlobalContext:c((function(){return o.getContext()})),setGlobalContext:c((function(e){o.setContext(e)})),clearGlobalContext:c((function(){return o.clearContext()})),getInitConfiguration:c((function(){return te(v.initConfiguration)})),getInternalContext:c((function(e){return v.getInternalContext(e)})),addDebugSession:c((function(e){})),clearDebugSession:c((function(){})),getDebugSession:c((function(){})),addAction:c((function(e,t){var n=In();f((function(){v.addAction({name:Sn(e),context:Sn(t),startClocks:ve(),type:Dt,handlingStack:n})}))})),addError:c((function(e,t){var n=In();f((function(){v.addError({error:e,handlingStack:n,context:Sn(t),startClocks:ve()})}))})),addTiming:c((function(e,t){v.addTiming(Sn(e),t)})),setUser:c((function(e){(function(e){var t="object"===Y(e);return t||a.error("Unsupported user:",e),t})(e)&&s.setContext(fo(e))})),getUser:c((function(){return s.getContext()})),setUserProperty:c((function(e,t){var n={};n[e]=t;var r=fo(n)[e];s.setContextProperty(e,r)})),removeUserProperty:c((function(e){return s.removeContextProperty(e)})),clearUser:c((function(){return s.clearContext()})),startView:g,stopSession:c((function(){v.stopSession()}))},p=k({onReady:function(e){e()}},d),Object.defineProperty(p,"_setDebug",{get:function(){return u},enumerable:!1}),p}((function(e,t,n,r,i,o){var a=[],s=new ur,u=function(e){s.notify(sr,{error:e})},c=new Mn((function(e){var t=Bn(window,[ut,ft],(function(t){t.type===ut&&"hidden"===document.visibilityState?e.notify({reason:di.HIDDEN}):t.type===ft&&e.notify({reason:di.FROZEN})}),{capture:!0}),n=jn(window,tt,(function(){e.notify({reason:di.UNLOADING})}));return function(){t.stop(),n.stop()}}));c.subscribe((function(e){s.notify(nr,e)})),a.push((function(){pageExitSubscription.unsubscribe()}));var f=Gi()?void 0:Eo(e,s);if(!Gi()){var l=us(e,s,0,u,c,f.expireObservable,o);a.push((function(){l.stop()}))}var d=ko(e),p=Io(),v=Oo(location),g=is(),m=function(e,t,n,r,i,o,a,s,u,c){var f=function(e){var t=$e({expireDelay:144e5});return e.subscribe(Xn,(function(e){t.add(function(e){return{service:e.service,version:e.version,context:e.context,id:e.id,name:e.name,startClocks:e.startClocks}}(e),e.startClocks.relative)})),e.subscribe(Yn,(function(e){t.closeActive(e.endClocks.relative)})),e.subscribe(Qn,(function(e){var n=t.find(e.startClocks.relative);n&&e.name&&(n.name=e.name),n&&e.context&&(n.context=e.context)})),e.subscribe(er,(function(){t.reset()})),{findView:function(e){return t.find(e)},stop:function(){t.stop()}}}(e),l=function(e,t,n){var r,i=$e({expireDelay:144e5});e.subscribe(Xn,(function(e){var t=n.href;i.add(a({url:t,location:n,referrer:r||document.referrer}),e.startClocks.relative),r=t})),e.subscribe(Yn,(function(e){i.closeActive(e.endClocks.relative)}));var o=t.subscribe((function(e){var t=i.find();if(t){var n=pe();i.closeActive(n),i.add(a({url:e.newLocation.href,location:e.newLocation,referrer:t.referrer}),n)}}));function a(e){var t=e.location.pathname,n=e.location.hash;return n&&!Fe(n)&&(t="/"+Ge(n)),{url:e.url,referrer:e.referrer,host:e.location.host,path:t,pathGroup:K(t),urlQuery:Q(e.location.href)}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,a,n),d=function(e,t,n,r){e.subscribe(Jn,(function(t){e.notify(or,as(t,r))}));var i={findActionId:re,findAllActionId:re};return n.trackUserInteractions&&(i=Xa(e,t,n).actionContexts),{actionContexts:i,addAction:function(t,n){e.notify(or,O({savedCommonContext:n},as(t,r)))}}}(e,s,t,o),p=d.actionContexts,v=d.addAction,g=(m=_s(),{get:function(){return{viewport:m}},stop:bs().subscribe((function(e){m=e})).unsubscribe});var m;return ys(t,e,r,i,f,l,p,g,u,c),{viewContexts:f,urlContexts:l,pageStateHistory:o,addAction:v,actionContexts:p,stop:function(){g.stop(),o.stop(),l.stop(),f.stop()}}}(s,e,location,f,d,g,v,p,r,u),h=m.viewContexts,y=m.urlContexts,b=m.actionContexts,_=m.stop,w=m.addAction;a.push(_);var S=Hs(s,e,location,p,v,g,0,i),T=S.addTiming,E=S.startView,C=S.setViewName,x=S.setViewContext,k=S.setViewContextProperty,I=S.getViewContext,R=S.stop;a.push(R);var A=uu(s,e,g);if(a.push(A.stop),PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(na)){var P=function(e,t){var n=sa(t,{type:na,buffered:!0}).subscribe((function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n],o=be(i.startTime),a={date:o.timeStamp,longTask:{id:X(),entryType:zt,duration:fe(i.duration),blockingDuration:fe(i.blockingDuration),firstUiEventTimestamp:fe(i.firstUIEventTimestamp),renderStart:fe(i.renderStart),styleAndLayoutStart:fe(i.styleAndLayoutStart),startTime:fe(i.startTime),scripts:i.scripts.map((function(e){return{duration:fe(e.duration),pause_duration:fe(e.pauseDuration),forced_style_and_layout_duration:fe(e.forcedStyleAndLayoutDuration),start_time:fe(e.startTime),execution_start:fe(e.executionStart),source_url:e.sourceURL,source_function_name:e.sourceFunctionName,source_char_position:e.sourceCharPosition,invoker:e.invoker,invoker_type:e.invokerType,window_attribution:e.windowAttribution}}))},type:Ht.LONG_TASK};e.notify(or,{rawRumEvent:a,startTime:o.relative,domainContext:{performanceEntry:i}})}}));return{stop:function(){n.unsubscribe()}}}(s,e);a.push(P.stop)}else!function(e,t){var n=sa(t,{type:ta,buffered:!0}).subscribe((function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.entryType!==ta)break;var i=be(r.startTime),o={date:i.timeStamp,longTask:{id:X(),entryType:qt,duration:fe(r.duration)},type:Ht.LONG_TASK};e.notify(or,{rawRumEvent:o,startTime:i.relative,domainContext:{performanceEntry:r}})}}))}(s,e);var N=ws(s,0,f,g).addError;nu(s,e,f);var M=function(e,t,n,r,i){return{get:function(o){var a=n.findView(o),s=i.findUrl(o),u=t.findTrackedSession(o);if(u&&a&&s){var c=r.findActionId(o),f=r.findAllActionId(o);return{application:{id:e},session:{id:u.id},userAction:c?{id:c,ids:f}:void 0,view:{id:a.id,name:a.name||s.path,url:s.url,referrer:s.referrer,host:s.host,path:s.path,pathGroup:s.pathGroup,urlQuery:s.urlQuery}}}}}}(e.applicationId,f,h,b,y);return{addAction:w,addError:N,addTiming:T,configuration:e,startView:E,setViewContext:x,setViewContextProperty:k,getViewContext:I,setViewName:C,lifeCycle:s,viewContexts:h,session:f,stopSession:function(){f.expire()},getInternalContext:M.get,stop:function(){a.forEach((function(e){e()}))}}}),"recorderApi",{startDeflateWorker:null,createDeflateEncoder:null});gu=p(),hu=bu,yu=gu[mu="DATAFLUX_RUM"],gu[mu]=hu,yu&&yu.q&&x(yu.q,(function(e){d(e,"onReady callback threw an error:")()}))}();
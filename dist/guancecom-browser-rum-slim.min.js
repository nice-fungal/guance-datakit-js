!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},n=console,r={};Object.keys(t).forEach((function(e){r[e]=n[e]}));var i,o="GUANCE Browser SDK:",a={debug:r.debug.bind(n,o),log:r.log.bind(n,o),info:r.info.bind(n,o),warn:r.warn.bind(n,o),error:r.error.bind(n,o)},s=!1;function u(e){s=e}function c(e){return function(){return f(e,this,arguments)}}function f(e,t,n){try{return e.apply(t,n)}catch(e){if(l(e),i)try{i(e)}catch(e){l(e)}}}function l(){var e=[].slice.call(arguments);s&&a.error.apply(null,["[MONITOR]"].concat(e))}function d(e,t){return function(){var n=[].slice.call(arguments);try{return e.apply(this,n)}catch(e){a.error(t,e)}}}function p(){if("object"===("undefined"==typeof globalThis?"undefined":e(globalThis)))return globalThis;Object.defineProperty(Object.prototype,"_gc_temp_",{get:function(){return this},configurable:!0});var t=_gc_temp_;return delete Object.prototype._gc_temp_,"object"!==e(t)&&(t="object"===("undefined"==typeof self?"undefined":e(self))?self:"object"===("undefined"==typeof window?"undefined":e(window))?window:{}),t}function v(e,t){var n,r=p();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function m(e,t){return v(p(),"setTimeout")(c(e),t)}function g(e){v(p(),"clearTimeout")(e)}function y(e,t){return v(p(),"setInterval")(c(e),t)}function h(e){v(p(),"clearInterval")(e)}var _=Array.prototype,b=(Function.prototype,Object.prototype),w=_.slice,S=b.toString,E=b.hasOwnProperty,C=_.forEach,T=Array.isArray,x=function(e,t,n){if(null===e)return!1;if(C&&e.forEach===C)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&false===t.call(n,e[r],r,e))return!1}else for(var o in e)if(E.call(e,o)&&false===t.call(n,e[o],o,e))return!1};function k(e){return x(w.call(arguments,1),(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function O(e){return k({},e)}var R=function(e){return x(w.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},I=function(e){return x(w.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(D(t[n])&&D(e[n])?R(e[n],t[n]):e[n]=t[n])})),e},A=T||function(e){return"[object Array]"===S.call(e)},P=function(e){if(!e)return!1;try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},N=function(e){return e?e.toArray?e.toArray():A(e)?w.call(e):(t=e)&&E.call(t,"callee")?w.call(e):M(e):[];var t},M=function(e){var t=[];return null===e||x(e,(function(e){t[t.length]=e})),t},L=function(e,t,n){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)if(E.call(e,i)){var o=e[i];t.call(n,o,i,e)&&r.push(o)}return r},V=function(e,t,n){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)if(E.call(e,i)){var o=e[i];r.push(t.call(n,o,i,e))}return r},j=function(e,t,n){if(e.some)return e.some(t);for(var r=!1,i=0;i<e.length;i++)if(E.call(e,i)){var o=e[i];if(t.call(n,o,i,e)){r=!0;break}}return r},U=function(e){return e+="",window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}))},D=function(e){return null!==e&&"[object Object]"===S.call(e)},B=function(e){if(D(e)){for(var t in e)if(E.call(e,t))return!1;return!0}return!1},q=function(e){var t=[];return x(e,(function(e,n){t.push([n,e])})),t},z=function(e){return"[object String]"===S.call(e)},H=function(e){return"[object Boolean]"===S.call(e)},F=function(e){return"[object Number]"===S.call(e)&&/[\d\.]+/.test(String(e))},G=(Date.now,function(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1,u=this;return{throttled:function(){s?r=arguments:(o?e.apply(u,arguments):r=arguments,s=!0,i=m((function(){a&&r&&e.apply(u,r),s=!1,r=void 0}),t))},cancel:function(){g(i),s=!1,r=void 0}}});function W(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,W)}function J(e){var t="";return e&&(t=e.replace(/\/([^\/]*)\d([^\/]*)/g,"/?").replace(/\/$/g,"")),t||"/"}var $=function(t){var n=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return n.prototype.setUrl=function(e){this._parse(e)},n.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},n.prototype.addQueryString=function(t){if("object"!==e(t))return!1;var n=this._values.QueryString||"";for(var r in t)n=new RegExp(r+"[^&]+").test(n)?n.replace(new RegExp(r+"[^&]+"),r+"="+t[r]):"&"===n.slice(-1)?n+r+"="+t[r]:""===n?r+"="+t[r]:n+"&"+r+"="+t[r];this._values.QueryString=n},n.prototype.getParse=function(){return this._values},n.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Path,e+=this._values.QueryString?"?"+this._values.QueryString:""},n.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);if(!t)throw"DPURLParser::_parse -> Invalid URL";for(var n in this._fields)void 0!==t[this._fields[n]]&&(this._values[n]=t[this._fields[n]]);this._values.Path=this._values.Path||"/",this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname+(this._values.Port?":"+this._values.Port:"")},new n(t)};var K=function(e){var t={},n=e.split("?")[1]||"";return n&&(t=X("?"+n)),t},X=function(e){for(var t=function(e){return decodeURIComponent(e)},n={},r=(e=e||"").substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");if(-1!==o){var a=r[i].substring(0,o),s=r[i].substring(o+1);a=t(a),s=t(s),n[a]=s}}return n};function Q(t){return null===t?"null":Array.isArray(t)?"array":e(t)}function Z(t,n,r){if(void 0===r&&(r=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===n)return t;if("object"!==e(n)||null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){var i=n.flags||[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.sticky?"y":"",n.unicode?"u":""].join("");return new RegExp(n.source,i)}if(!r.hasAlreadyBeenSeen(n)){if(Array.isArray(n)){for(var o=Array.isArray(t)?t:[],a=0;a<n.length;++a)o[a]=Z(o[a],n[a],r);return o}o="object"===Q(t)?t:{};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=Z(o[s],n[s],r));return o}}function Y(e){return Z(void 0,e)}function ee(e){return e?String(e).substr(0,1)+String(e).substr(1).replace(/\d*/g,"x"):0===e?void 0:e}function te(){}var ne,re=1e3,ie=6e4;function oe(e){return 0!==e&&100*Math.random()<=e}function ae(e,t){return+e.toFixed(t)}function se(e){return"number"!=typeof e?e:ae(1e6*e,0)}function ue(e){return F(e)?ae(1e6*e,0):e}function ce(e){return e-be()}function fe(e){return Math.round(be()+e)}function le(){return performance.now()}function de(){return{relative:le(),timeStamp:pe()}}function pe(){return ve()}function ve(){return(new Date).getTime()}function me(e,t){return t-e}function ge(){return{relative:0,timeStamp:be()}}function ye(e){return{relative:e,timeStamp:_e(e)}}function he(e,t){return e+t}function _e(e){var t=ve()-performance.now();return t>be()?Math.round(t+e):fe(e)}function be(){return void 0===ne&&(ne=performance.timing.navigationStart),ne}var we=/([\w-]+)\s*=\s*([^;]+)/g;function Se(e,t){for(var n=t.split(".");n.length;){var r=n.shift();if(!(e&&D(e)&&r in e&&E.call(e,r)))return;e=e[r]}return e}function Ee(e,t){var n=e.charCodeAt(t-1);return n>=55296&&n<=56319?e.slice(0,t+1):e.slice(0,t)}function Ce(e){var t=Q(e);return"string"===t||"function"===t||e instanceof RegExp}function Te(e,t){return-1!==e.indexOf(t)}function xe(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function ke(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function Oe(e){return F(e)&&e>=0&&e<=100}var Re,Ie=0,Ae=1,Pe=2,Ne=3;function Me(){return je(Re,Re=function(e){var t;void 0===e&&(e=window);var n=e.navigator.userAgent;if(e.chrome||/HeadlessChrome/.test(n))return Ae;if(0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n))return Pe;if(e.document.documentMode)return Ie;return Ne}())}function Le(e){var t={};return x(e,(function(e,n){var r;t[(r=n,r.replace(/[A-Z]/g,(function(e,t){return(0!==t?"_":"")+e.toLowerCase()})).replace(/-/g,"_"))]=Ve(e)})),t}function Ve(t){return A(t)?V(t,(function(e){return Ve(e)})):"object"===e(t)&&null!==t?Le(t):t}function je(e,t){return null!=e?e:t}function Ue(e,t){return j((r=[],null===(n=e)||x(n,(function(e,t){r[r.length]=t})),r),(function(n){return e[n]===t}));var n,r}function De(e,t){return e.slice(0,t.length)===t}function Be(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function qe(e){var t=e.substr(1);return!!t&&!!document.getElementById(t)}function ze(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function He(e){return F(e)&&e<0?void 0:e}var Fe=1/0,Ge=null,We=new Set;function Je(e){var t=e.expireDelay,n=e.maxEntries,r=[];function i(){for(var e=le()-t;r.length>0&&r[r.length-1].endTime<e;)r.pop()}return Ge&&(Ge=y((function(){return i()}),6e4)),We.add(i),{add:function(e,t){var i={value:e,startTime:t,endTime:Fe,remove:function(){Be(r,i)},close:function(e){i.endTime=e}};return n&&r.length>=n&&r.pop(),r.unshift(i),i},find:function(e,t){void 0===e&&(e=Fe),void 0===t&&(t={returnInactive:!1});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.startTime<=e){if(t.returnInactive||e<=o.endTime)return o.value;break}}},closeActive:function(e){var t=r[0];t&&t.endTime===Fe&&t.close(e)},findAll:function(e,t){void 0===e&&(e=Fe),void 0===t&&(t=0);var n=he(e,t);return r.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},reset:function(){r=[]},stop:function(){We.delete(i),0===We.size&&Ge&&(h(Ge),Ge=null)}}}var $e={navigator:"undefined"!=typeof window&&void 0!==window.navigator?window.navigator:{}},Ke={getLanguage:c((function(){var e;return this.language=((e=($e.navigator.browserLanguage||$e.navigator.language||"").split("-"))[1]&&(e[1]=e[1].toUpperCase()),e.join("_")),this.language})),getNetwork:c((function(){var e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,t="unknown",n=e?e.type||e.effectiveType:null;if(n&&"string"==typeof n)switch(n){case"bluetooth":case"cellular":t="cellular";break;case"none":t="none";break;case"ethernet":case"wifi":case"wimax":t="wifi";break;case"other":case"unknown":t="unknown";break;case"slow-2g":case"2g":case"3g":t="cellular";break;case"4g":t="wifi"}return t})),getTimeZone:c((function(){return Intl.DateTimeFormat().resolvedOptions().timeZone}))},Xe={};"undefined"!=typeof window&&(Xe={screenSize:window.screen.width+"*"+window.screen.height,networkType:Ke.getNetwork(),timeZone:Ke.getTimeZone()});var Qe=Xe,Ze="beforeunload",Ye="click",et="keydown",tt="load",nt="popstate",rt="scroll",it="touchstart",ot="visibilitychange",at="pageshow",st="freeze",ut="resume",ct="DOMContentLoaded",ft="pointerdown",lt="pointerup",dt="pointercancel",pt="hashchange",vt="pagehide",mt="mousedown",gt="focus",yt="blur",ht="resize",_t="securitypolicyviolation",bt="storage",wt="document",St="xhr",Et="beacon",Ct="fetch",Tt="css",xt="js",kt="image",Ot="font",Rt="media",It="other",At="custom",Pt={ACTION:"action",ERROR:"error",LONG_TASK:"long_task",VIEW:"view",RESOURCE:"resource",LOGGER:"logger"},Nt="initial_load",Mt="route_change",Lt={FETCH:Ct,XHR:St},Vt="ddtrace",jt="handled",Ut="unhandled",Dt="Uncaught",Bt="Provided";function qt(t,n,r){if("object"!==e(t)||null===t)return JSON.stringify(t);var i=zt(Object.prototype),o=zt(Array.prototype),a=zt(Object.getPrototypeOf(t)),s=zt(t);try{return JSON.stringify(t,n,r)}catch(e){return"<error: unable to serialize object>"}finally{i(),o(),a(),s()}}function zt(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):te}var Ht="?";function Ft(e){var t=[],n=Zt(e,"stack"),r=String(e);return n&&n.startsWith(r)&&(n=n.slice(r.length)),n&&x(n.split("\n"),(function(e){var n=function(e){var t=Wt.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=Jt.exec(t[2]);r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Ht,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=$t.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:Ht,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=Kt.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Ht,line:+t[3],url:t[2]}}(e)||function(e){var t=Xt.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=Qt.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Ht,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=Ht),t.push(n))})),{message:Zt(e,"message"),name:Zt(e,"name"),stack:t}}var Gt="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",Wt=new RegExp("^\\s*at (.*?) ?\\("+Gt+"(?::(\\d+))?"+"(?::(\\d+))?\\)?\\s*$","i"),Jt=new RegExp("\\((\\S*)(?::(\\d+))(?::(\\d+))\\)");var $t=new RegExp("^\\s*at ?"+Gt+"(?::(\\d+))?"+"(?::(\\d+))??\\s*$","i");var Kt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var Xt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?\s*$/i,Qt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Zt(t,n){if("object"===e(t)&&t&&n in t){var r=t[n];return"string"==typeof r?r:void 0}}var Yt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function en(e){var t=function(e){return mn(window,"onerror",(function(t){var n,r=t.parameters,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4];if(u instanceof Error)n=Ft(u);else{var c={url:o,column:s,line:a},f=function(e){var t,n;if("[object String]"==={}.toString.call(e)){var r=Yt.exec(e);r&&(t=r[1],n=r[2])}return{name:t,message:n}}(i);n={name:f.name,message:f.message,stack:[c]}}e(n,je(u,i))}))}(e),n=function(e){return mn(window,"onunhandledrejection",(function(t){var n=t.parameters[0].reason||"Empty reason",r=Ft(n);e(r,n)}))}(e);return{stop:function(){t.stop(),n.stop()}}}var tn=1024,nn=/[^\u0000-\u007F]/;function rn(e){return nn.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function on(e,t){void 0===t&&(t=225280);var n=zt(Object.prototype),r=zt(Array.prototype),i=[],o=new WeakMap,a=an(e,"$",void 0,i,o),s=JSON.stringify(a)&&JSON.stringify(a).length||0;if(!(s>t)){for(;i.length>0&&s<t;){var u=i.shift(),c=0;if(Array.isArray(u.source))for(var f=0;f<u.source.length;f++){if(s+=void 0!==(l=an(u.source[f],u.path,f,i,o))?JSON.stringify(l).length:4,s+=c,c=1,s>t){un(t,"truncated",e);break}u.target[f]=l}else for(var f in u.source)if(Object.prototype.hasOwnProperty.call(u.source,f)){var l;if(void 0!==(l=an(u.source[f],u.path,f,i,o))&&(s+=JSON.stringify(l).length+c+f.length+3,c=1),s>t){un(t,"truncated",e);break}u.target[f]=l}}return n(),r(),a}un(t,"discarded",e)}function an(t,n,r,i,o){var a=function(e){var t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch(e){}return e}(t);if(!a||"object"!==e(a))return function(t){if("bigint"==typeof t)return"[BigInt] "+t.toString();if("function"==typeof t)return"[Function] "+t.name||0;if("symbol"===e(t))return"[Symbol] "+t.description||0;return t}(a);var s=sn(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;var u=t;if(o.has(u))return"[Reference seen at "+o.get(u)+"]";var c=void 0!==r?n+"."+r:n,f=Array.isArray(a)?[]:{};return o.set(u,c),i.push({source:a,target:f,path:c}),f}function sn(e){try{if(e instanceof Event)return{type:(n=e).type,isTrusted:n.isTrusted,currentTarget:n.currentTarget?sn(n.currentTarget):null,target:n.target?sn(n.target):null};if(e instanceof RegExp)return"[RegExp] ".concat(e.toString());var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"["+t[1]+"]"}catch(e){}var n;return"[Unserializable]"}function un(e,t,n){a.warn("The data provided has been "+t+" as it is over the limit of "+e+" characters:",n)}var cn={AGENT:"agent",CONSOLE:"console",NETWORK:"network",SOURCE:"source",LOGGER:"logger",CUSTOM:"custom"};function fn(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,a=e.source,s=e.handling,u=n instanceof Error,c=function(e,t,n,r){return e&&e.message&&e&&e.name?e.message:t?"Empty message":n+" "+qt(on(r))}(t,u,o,n),f=function(e,t){if(void 0===t)return!1;if(e)return!0;return t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url)}(u,t)?dn(t):"No stack, consider using an instance of Error",l=u?vn(n,a):void 0;return{startClocks:i,source:a,handling:s,originalError:n,message:c,stack:f,handlingStack:r,type:t&&t.name,causes:l}}function ln(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return f((function(){var n=Ft(t);n.stack=n.stack.slice(2),e=dn(n)})),e}function dn(e){var t=pn(e);return x(e.stack,(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function pn(e){return(e.name||"Error")+": "+e.message}function vn(e,t){for(var n=e,r=[];n&&n.cause instanceof Error&&r.length<10;){var i=Ft(n.cause);r.push({message:n.cause.message,source:t,type:i&&i.name,stack:i&&dn(i)}),n=n.cause}return r.length?r:void 0}function mn(e,t,n,r){var i=r&&r.computeHandlingStack,o=e[t];if("function"!=typeof o){if(!De(t,"on"))return{stop:te};o=te}var a=!1,s=function(){if(a)return o.apply(this,arguments);var e,t=ke(arguments);f(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:i?ln():void 0}]);var r=o.apply(this,t);return e&&f(e,null,[r]),r};return e[t]=s,{stop:function(){a=!0,e[t]===s&&(e[t]=o)}}}var gn=function(e){this.observers=[],this.onLastUnsubscribe=void 0,this.onFirstSubscribe=e};gn.prototype={subscribe:function(e){this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0);var t=this;return{unsubscribe:function(){t.observers=L(t.observers,(function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},notify:function(e){x(this.observers,(function(t){t(e)}))}};var yn=gn;function hn(){var e=[].slice.call(arguments);return new yn((function(t){var n=V(e,(function(e){return e.subscribe((function(e){return t.notify(e)}))}));return function(){return x(n,(function(e){return e.unsubscribe()}))}}))}var _n={};function bn(e){var t=V(e,(function(e){return _n[e]||(_n[e]=function(e){return new yn((function(t){var n=console[e];return console[e]=function(){var r=[].slice.call(arguments);n.apply(console,arguments);var i=ln();f((function(){t.notify(wn(r,e,i))}))},function(){console[e]=n}}))}(e)),_n[e]}));return hn.apply(this,t)}function wn(e,n,r){var i,o=V(e,(function(e){return function(e){if("string"==typeof e)return e;if(e instanceof Error)return pn(Ft(e));return qt(e,void 0,2)}(e)})).join(" ");if(n===t.error){var a=xe(e,(function(e){return e instanceof Error}));i={stack:a?dn(Ft(a)):void 0,causes:a?vn(a,"console"):void 0,startClocks:de(),message:o,source:cn.CONSOLE,handling:jt,handlingStack:r}}return{api:n,message:o,error:i,handlingStack:r}}function Sn(e,t,n,r){return En(e,[t],n,r)}function En(e,t,n,r){var i=c(r&&r.once?function(e){s(),n(e)}:n);r=r&&r.passive?{capture:r.capture,passive:r.passive}:r&&r.capture;var o=window.EventTarget&&e instanceof EventTarget?window.EventTarget.prototype:e,a=v(o,"addEventListener");x(t,(function(t){a.call(e,t,i,r)}));var s=function(){var n=v(o,"removeEventListener");x(t,(function(t){n.call(e,t,i,r)}))};return{stop:s}}var Cn="intervention",Tn="csp_violation";function xn(e,t){var n=[];Te(t,Tn)&&n.push(new yn((function(e){return Sn(document,_t,(function(t){e.notify(function(e){var t="'"+e.blockedURI+"' blocked by '"+e.effectiveDirective+"' directive";return kn({type:e.effectiveDirective,message:Tn+": "+t,originalError:e,csp:{disposition:e.disposition},stack:On(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(Ee(e.originalPolicy,100),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(t))})).stop})));var r=L(t,(function(e){return e!==Tn}));return r.length&&n.push(function(e){return new yn((function(t){if(window.ReportingObserver){var n=c((function(e){x(e,(function(e){t.notify(function(e){var t=e.body,n=e.type;return kn({type:t.id,message:n+": "+t.message,originalError:e,stack:On(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)})}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),hn.apply(this,n)}function kn(e){return k({startClocks:de(),source:ErrorSource.REPORT,handling:ErrorHandling.UNHANDLED},e)}function On(e,t,n,r,i){return n&&dn({name:e,message:t,stack:[{func:"?",url:n,line:r,column:i}]})}var Rn,In="AUTO_ACTION_COMPLETED",An="BEFORE_VIEW_CREATED",Pn="VIEW_CREATED",Nn="VIEW_UPDATED",Mn="BEFORE_VIEW_UPDATED",Ln="VIEW_ENDED",Vn="AFTER_VIEW_ENDED",jn="SESSION_RENEWED",Un="SESSION_EXPIRED",Dn="PAGE_EXITED",Bn="REQUEST_STARTED",qn="REQUEST_COMPLETED",zn="RAW_RUM_EVENT_COLLECTED",Hn="RUM_EVENT_COLLECTED",Fn="RAW_ERROR_COLLECTED";function Gn(){this.callbacks={}}function Wn(e){if(Array.isArray(e))return e}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $n(e,t){if(e){if("string"==typeof e)return Jn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(e,t):void 0}}function Kn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xn(e){return Wn(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$n(e)||Kn()}function Qn(e,t){return Wn(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||$n(e,t)||Kn()}function Zn(e,t,n){var r=Y(e),i=n(r);return q(t).forEach((function(t){var n=Qn(t,2),i=n[0],o=n[1];return Yn(e,r,i.split(/\.|(?=\[\])/),o)})),i}function Yn(e,t,n,r){var i=Xn(n),o=i[0],a=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}(i).slice(1);if("[]"!==o){if(er(e)&&er(t))return a.length>0?Yn(e[o],t[o],a,r):void function(e,t,n,r){var i=Q(n);i===r?e[t]=on(n):"object"!==r||"undefined"!==i&&"null"!==i||(e[t]={})}(e,o,t[o],r)}else Array.isArray(e)&&Array.isArray(t)&&e.forEach((function(e,n){return Yn(e,t[n],a,r)}))}function er(e){return"object"===Q(e)}function tr(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&m((function(){r=0}),ie),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of "+e+"s by minute: "+t,source:cn.AGENT,startClocks:de()})}finally{i=!1}}return!0}}}function nr(e){return rr(e,function(e){if(e.origin&&"null"!==e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)).href}function rr(e,t){if(function(){if(void 0!==Rn)return Rn;try{var e=new URL("http://test/path");return Rn="http://test/path"===e.href}catch(e){Rn=!1}return Rn}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: "+e);var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}function ir(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var n=window.requestIdleCallback(c(e),t);return function(){return window.cancelIdleCallback(n)}}return function(e){var t=ve(),n=m((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(ve()-t))}})}),0);return function(){return g(n)}}(e)}Gn.prototype={notify:function(e,t){var n=this.callbacks[e];n&&x(n,(function(e){e(t)}))},subscribe:function(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t);var n=this;return{unsubscribe:function(){n.callbacks[e]=L(n.callbacks[e],(function(e){return e!==t}))}}}};var or,ar=/^\s+|\s+$/g,sr={rum:"/rum",log:"/logging",sessionReplay:"/rum/replay"};function ur(e,t){var n=sr[t];if(!n)return"";var r=e.datakitOrigin||e.datakitUrl||e.site;0===r.indexOf("/")&&(r=location.origin+cr(r));var i=r;return i=r.lastIndexOf("/")===r.length-1?cr(r)+"v1/write"+n:cr(r)+"/v1/write"+n,e.site&&e.clientToken&&(i=i+"?token="+e.clientToken+"&to_headless=true"),i}function cr(e){return e.replace(ar,"")}function fr(e,t){return"".concat(e,"_").concat(t&&t.crossSite?"cs1":"cs0","_").concat(t&&t.domain?"d1":"d0","_").concat(t&&t.secure?"sec1":"sec0","_").concat(t&&t.partitioned?"part1":"part0")}function lr(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie=fr(e,r)+"="+t+";"+o+";path=/;samesite="+a+s+u+c}function dr(e,t){return function(e,t){for(we.lastIndex=0;;){var n=we.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,fr(e,t))}function pr(e,t){lr(e,"",0,t)}var vr=144e5,mr=9e5,gr="_gc_s",yr=/^([a-zA-Z]+)=([a-z0-9-]+)$/,hr="&";function _r(e){return B(e)}function br(e){return void 0!==e.isExpired||!((void 0===(t=e).created||ve()-Number(t.created)<vr)&&(void 0===t.expire||ve()<Number(t.expire)));var t}function wr(e){e.expire=String(ve()+mr)}function Sr(e){return V(q(e),(function(e){return e[0]+"="+e[1]})).join("&")}function Er(e){var t={};return function(e){return!!e&&(-1!==e.indexOf(hr)||yr.test(e))}(e)&&e.split(hr).forEach((function(e){var n=yr.exec(e);if(null!==n){var r=Qn(n,3),i=r[1],o=r[2];t[i]=o}})),t}function Cr(e){var t=function(e){var t={};t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===or){for(var e="gc_site_test_".concat(W()),t=window.location.hostname.split("."),n=t.pop();t.length&&!dr(e,{domain:n});)n="".concat(t.pop(),".").concat(n),lr(e,"test",re,{domain:n});pr(e,{domain:n}),or=n}return or}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="gc_cookie_test_".concat(W()),n="test";lr(t,n,ie,e);var r=dr(t,e)===n;return pr(t,e),r}catch(e){return!1}}(t)?{type:"Cookie",cookieOptions:t}:void 0}function Tr(e){var t;return{isLockEnabled:Me()===Ae,persistSession:(t=e,function(e){lr(gr,Sr(e),mr,t)}),retrieveSession:xr(e),expireSession:function(){return function(e){lr(gr,Sr({isExpired:"1"}),vr,e)}(e)}}}function xr(e){return function(){return Er(dr(gr,e))}}function kr(e){localStorage.setItem(gr,Sr(e))}function Or(){return Er(localStorage.getItem(gr))}function Rr(){kr({isExpired:"1"})}var Ir,Ar=[];function Pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.isLockEnabled,i=t.persistSession,o=t.expireSession,a=function(e){return i(k({},e,{lock:u}))},s=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(Ir||(Ir=e),e===Ir)if(r&&n>=100)Mr(t);else{var u,c=s();if(r){if(c.lock)return void Nr(e,t,n);if(u=W(),a(c.session),(c=s()).lock!==u)return void Nr(e,t,n)}var f=e.process(c.session);if(r&&(c=s()).lock!==u)Nr(e,t,n);else{if(f&&(br(f)?o():(wr(f),r?a(f):i(f))),r&&(!f||!br(f))){if((c=s()).lock!==u)return void Nr(e,t,n);i(c.session),f=c.session}e.after&&e.after(f||c.session),Mr(t)}}else Ar.push(e)}function Nr(e,t,n){m((function(){Pr(e,t,n+1)}),10)}function Mr(e){Ir=void 0;var t=Ar.shift();t&&Pr(t,e)}function Lr(e){var t=Cr(e);return!t&&e.allowFallbackToLocalStorage&&(t=function(){try{var e=W(),t="".concat("_gc_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(e){return}}()),t}function Vr(e,t,n){var r,i=new yn,o=new yn,a=new yn,s="Cookie"===e.type?Tr(e.cookieOptions):{isLockEnabled:!1,persistSession:kr,retrieveSession:Or,expireSession:Rr},u=s.expireSession,c=y((function(){Pr({process:function(e){return br(e)?{isExpired:"1"}:void 0},after:p},s)}),1e3);v();var f=G((function(){Pr({process:function(e){if(!_r(e)){var r=p(e);return function(e){if(_r(e))return!1;var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,delete e.isExpired,o&&!e.id&&(e.id=W(),e.created=String(ve()))}(r),r}},after:function(e){_r(e)||m()||function(e){r=e,i.notify()}(e),r=e}},s)}),1e3),l=f.throttled,d=f.cancel;function p(e){return br(e)&&(e={isExpired:"1"}),m()&&(!function(e){return r.id!==e.id||r[t]!==e[t]}(e)?(a.notify({previousState:r,newState:e}),r=e):(r={isExpired:"1"},o.notify())),e}function v(){Pr({process:function(e){if(_r(e))return{isExpired:"1"}},after:function(e){r=e}},s)}function m(){return void 0!==r[t]}return{expandOrRenewSession:l,expandSession:function(){Pr({process:function(e){return m()?p(e):void 0}},s)},getSession:function(){return r},renewObservable:i,expireObservable:o,sessionStateUpdateObservable:a,restartSession:v,expire:function(){d(),u(),p({isExpired:"1"})},stop:function(){h(c)},updateSessionState:function(e){Pr({process:function(t){return k({},t,e)},after:p},s)}}}var jr,Ur,Dr={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function Br(e){if(void 0===e.sampleRate||Oe(e.sampleRate))if(void 0===e.sessionSampleRate||Oe(e.sessionSampleRate)){if(void 0===e.telemetrySampleRate||Oe(e.telemetrySampleRate)){var t=je(e.sessionSampleRate,e.sampleRate);return k({beforeSend:e.beforeSend&&d(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Lr(e),sessionSampleRate:je(t,100),service:e.service,version:e.version,env:e.env,telemetrySampleRate:je(e.telemetrySampleRate,100),telemetryEnabled:je(e.telemetryEnabled,!1),silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144,resourceUrlLimit:5120,storeContextsToLocal:!!e.storeContextsToLocal,storeContextsKey:e.storeContextsKey,sendContentTypeByJson:!!e.sendContentTypeByJson,retryMaxSize:je(e.retryMaxSize,-1)},function(e){var t=function(e){return!1};"isIntakeUrl"in e&&P(e.isIntakeUrl)&&H(e.isIntakeUrl())&&(t=e.isIntakeUrl);var n=function(e){return!1};return"isServerError"in e&&P(e.isServerError)&&H(e.isServerError())&&(n=e.isServerError),{rumEndpoint:ur(e,"rum"),logsEndpoint:ur(e,"log"),sessionReplayEndPoint:ur(e,"sessionReplay"),isIntakeUrl:t,isServerError:n}}(e))}a.error("Telemetry Sample Rate should be a number between 0 and 100")}else a.error("Sample Rate should be a number between 0 and 100");else a.error("Sample Rate should be a number between 0 and 100")}function qr(){return jr||(jr=new yn((function(e){if(window.fetch)return mn(window,"fetch",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,i=e.handlingStack,o=n[0],a=n[1],s=a&&a.method;void 0===s&&o instanceof Request&&(s=o.method);var u=void 0!==s?String(s).toUpperCase():"GET",f=o instanceof Request?o.url:nr(String(o)),l=de(),d={state:"start",init:a,input:o,method:u,startClocks:l,url:f,handlingStack:i};t.notify(d),n[0]=d.input,n[1]=d.init,r((function(e){return function(e,t,n){var r=n,i=function(t){r.state="resolve",k(r,t),e.notify(r)};t.then(c((function(e){var t="";try{t=e.constructor===Response&&e.type||""}catch(e){t=""}i({response:e,responseType:t,status:e.status,isAborted:!1})})),c((function(e){i({status:0,isAborted:r.init&&r.init.signal&&r.init.signal.aborted||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})})))}(t,e,d)}))}(t,e)}),{computeHandlingStack:!0}).stop}))),jr}var zr=new WeakMap;function Hr(){return Ur||(Ur=new yn((function(e){var t=mn(XMLHttpRequest.prototype,"open",Fr),n=mn(XMLHttpRequest.prototype,"send",(function(t){!function(e,t){var n=e.target,r=e.handlingStack,i=zr.get(n);if(i){var o=i;o.state="start",o.startClocks=de(),o.isAborted=!1,o.xhr=n,o.handlingStack=r;var a=!1,s=mn(n,"onreadystatechange",(function(){n.readyState===XMLHttpRequest.DONE&&u()})).stop,u=function(){if(c(),s(),!a){a=!0;var e=i;e.state="complete",e.duration=me(o.startClocks.timeStamp,pe()),e.status=n.status,t.notify(O(e))}},c=Sn(n,"loadend",u).stop;t.notify(o)}}(t,e)}),{computeHandlingStack:!0}),r=mn(XMLHttpRequest.prototype,"abort",Gr);return function(){t.stop(),n.stop(),r.stop()}}))),Ur}function Fr(e){var t=e.target,n=e.parameters[0],r=e.parameters[1];zr.set(t,{state:"open",method:String(n).toUpperCase(),url:nr(String(r))})}function Gr(e){var t=e.target,n=zr.get(t);n&&(n.isAborted=!0)}var Wr={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Jr(e){return e.nodeType===Node.ELEMENT_NODE}function $r(e,t){return document.readyState===e||"complete"===document.readyState?(t(),{stop:te}):Sn(window,"complete"===e?tt:ct,t,{once:!0})}var Kr={sdk_name:"_gc.sdk_name",sdk_version:"_gc.sdk_version",app_id:"application.id",env:"env",service:"service",version:"version",source:"source",userid:"user.id",user_email:"user.email",user_name:"user.name",session_id:"session.id",session_type:"session.type",session_sampling:"session.is_sampling",is_signin:"user.is_signin",os:"device.os",os_version:"device.os_version",os_version_major:"device.os_version_major",browser:"device.browser",browser_version:"device.browser_version",browser_version_major:"device.browser_version_major",b2owser:"device.b2owser",b2owser_version:"device.b2owser_version",b2owser_version_major:"device.b2owser_version_major",webview:"webview.webview",webview_version:"webview.webview_version",webview_version_major:"webview.webview_version_major",screen_size:"device.screen_size",network_type:"device.network_type",time_zone:"device.time_zone",device:"device.device",device_vendor:"device.device_vendor",device_model:"device.device_model",view_id:"view.id",view_referrer:"view.referrer",view_url:"view.url",view_host:"view.host",view_path:"view.path",view_name:"view.name",view_path_group:"view.path_group"},Xr={view_url_query:"view.url_query",action_id:"action.id",action_ids:"action.ids",view_in_foreground:"view.in_foreground",display:"display",session_has_replay:"session.has_replay",is_login:"user.is_login",page_states:"_gc.page_states",session_sample_rate:"_gc.configuration.session_sample_rate",session_replay_sample_rate:"_gc.configuration.session_replay_sample_rate",session_on_error_sample_rate:"_gc.configuration.session_on_error_sample_rate",session_replay_on_error_sample_rate:"_gc.configuration.session_replay_on_error_sample_rate",drift:"_gc.drift"},Qr={view:{type:Pt.VIEW,tags:{view_loading_type:"view.loading_type",view_apdex_level:"view.apdex_level",view_privacy_replay_level:"privacy.replay_level"},fields:{sampled_for_replay:"session.sampled_for_replay",sampled_for_error_replay:"session.sampled_for_error_replay",sampled_for_error_session:"session.sampled_for_error_session",session_error_timestamp:"session.error_timestamp_for_session",is_active:"view.is_active",session_replay_stats:"_gc.replay_stats",session_is_active:"session.is_active",view_error_count:"view.error.count",view_resource_count:"view.resource.count",view_long_task_count:"view.long_task.count",view_action_count:"view.action.count",first_contentful_paint:"view.first_contentful_paint",largest_contentful_paint:"view.largest_contentful_paint",largest_contentful_paint_element_selector:"view.largest_contentful_paint_element_selector",cumulative_layout_shift:"view.cumulative_layout_shift",cumulative_layout_shift_time:"view.cumulative_layout_shift_time",cumulative_layout_shift_target_selector:"view.cumulative_layout_shift_target_selector",first_input_delay:"view.first_input_delay",loading_time:"view.loading_time",dom_interactive:"view.dom_interactive",dom_content_loaded:"view.dom_content_loaded",dom_complete:"view.dom_complete",load_event:"view.load_event",first_input_time:"view.first_input_time",first_input_target_selector:"view.first_input_target_selector",first_paint_time:"view.fpt",interaction_to_next_paint:"view.interaction_to_next_paint",interaction_to_next_paint_target_selector:"view.interaction_to_next_paint_target_selector",resource_load_time:"view.resource_load_time",time_to_interactive:"view.tti",dom:"view.dom",dom_ready:"view.dom_ready",time_spent:"view.time_spent",first_byte:"view.first_byte",frustration_count:"view.frustration.count",custom_timings:"view.custom_timings"}},resource:{type:Pt.RESOURCE,tags:{trace_id:"_gc.trace_id",span_id:"_gc.span_id",resource_id:"resource.id",resource_status:"resource.status",resource_status_group:"resource.status_group",resource_method:"resource.method"},fields:{duration:"resource.duration",resource_size:"resource.size",resource_url:"resource.url",resource_url_host:"resource.url_host",resource_url_path:"resource.url_path",resource_url_path_group:"resource.url_path_group",resource_url_query:"resource.url_query",resource_delivery_type:"resource.delivery_type",resource_type:"resource.type",resource_protocol:"resource.protocol",resource_encode_size:"resource.encoded_body_size",resource_decode_size:"resource.decoded_body_size",resource_transfer_size:"resource.transfer_size",resource_render_blocking_status:"resource.render_blocking_status",resource_dns:"resource.dns",resource_tcp:"resource.tcp",resource_ssl:"resource.ssl",resource_ttfb:"resource.ttfb",resource_trans:"resource.trans",resource_redirect:"resource.redirect",resource_first_byte:"resource.firstbyte",resource_dns_time:"resource.dns_time",resource_download_time:"resource.download_time",resource_first_byte_time:"resource.first_byte_time",resource_connect_time:"resource.connect_time",resource_ssl_time:"resource.ssl_time",resource_redirect_time:"resource.redirect_time"}},error:{type:Pt.ERROR,tags:{error_id:"error.id",trace_id:"_gc.trace_id",span_id:"_gc.span_id",error_source:"error.source",error_type:"error.type",error_handling:"error.handling"},fields:{error_message:["string","error.message"],error_stack:["string","error.stack"],error_causes:["string","error.causes"],error_handling_stack:["string","error.handling_stack"]}},long_task:{type:Pt.LONG_TASK,tags:{long_task_id:"long_task.id"},fields:{duration:"long_task.duration",blocking_duration:"long_task.blocking_duration",first_ui_event_timestamp:"long_task.first_ui_event_timestamp",render_start:"long_task.render_start",style_and_layout_start:"long_task.style_and_layout_start",long_task_start_time:"long_task.start_time",scripts:["string","long_task.scripts"]}},action:{type:Pt.ACTION,tags:{action_type:"action.type"},fields:{action_name:"action.target.name",duration:"action.loading_time",action_error_count:"action.error.count",action_resource_count:"action.resource.count",action_frustration_types:"action.frustration.type",action_long_task_count:"action.long_task.count",action_target:"_gc.action.target",action_position:"_gc.action.position"}},telemetry:{type:"telemetry",fields:{status:"telemetry.status",message:["string","telemetry.message"],type:"telemetry.type",error_stack:["string","telemetry.error.stack"],error_kind:["string","telemetry.error.kind"],connectivity:["string","telemetry.connectivity"],runtime_env:["string","telemetry.runtime_env"],usage:["string","telemetry.usage"],configuration:["string","telemetry.configuration"]}},browser_log:{type:Pt.LOGGER,tags:{error_source:"error.source",error_type:"error.type",error_resource_url:"http.url",error_resource_url_host:"http.url_host",error_resource_url_path:"http.url_path",error_resource_url_path_group:"http.url_path_group",error_resource_status:"http.status_code",error_resource_status_group:"http.status_group",error_resource_method:"http.method",action_id:"user_action.id",service:"service",status:"status"},fields:{message:["string","message"],error_message:["string","error.message"],error_stack:["string","error.stack"]}}},Zr=[];function Yr(e,t,n){var r=new yn,i=new yn,o=Vr(e.sessionStoreStrategyType,t,n);Zr.push((function(){return o.stop()}));var a,s=Je({expireDelay:144e5});function u(){return{id:o.getSession().id,trackingType:o.getSession()[t],hasError:!!o.getSession().hasError}}return Zr.push((function(){return s.stop()})),o.renewObservable.subscribe((function(){s.add(u(),le()),r.notify()})),o.expireObservable.subscribe((function(){i.notify(),s.closeActive(le())})),o.expandOrRenewSession(),s.add(u(),ge().relative),a=En(window,[Ye,it,et,rt],(function(){o.expandOrRenewSession()}),{capture:!0,passive:!0}).stop,Zr.push(a),function(e){var t=function(){"visible"===document.visibilityState&&e()},n=Sn(document,ot,t).stop;Zr.push(n);var r=y(t,6e4);Zr.push((function(){h(r)}))}((function(){return o.expandSession()})),function(e){var t=Sn(window,ut,e,{capture:!0}).stop;Zr.push(t)}((function(){o.restartSession()})),{findSession:function(e,t){return s.find(e,t)},renewObservable:r,expireObservable:i,sessionStateUpdateObservable:o.sessionStateUpdateObservable,expire:o.expire,updateSessionState:o.updateSessionState}}var ei=3145728,ti=0,ni=1,ri=2,ii=0,oi=1;function ai(e,t,n,r,i){t.transportStatus===ti&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?ui(e,t,n,{onSuccess:function(){return ci(ii,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),si(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function si(e,t,n,r){e.transportStatus===ri&&m((function(){ui(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,ci(oi,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(256e3,2*e.currentBackoffTime),si(e,t,n,r)}})}),e.currentBackoffTime)}function ui(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e,t,n){return!(t.retryMaxSize>-1&&n.retry&&n.retry.count>t.retryMaxSize)&&("opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500))}(n,t,e)?(t.transportStatus=ti,i()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?ni:ri,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o())}))}function ci(e,t,n,r,i){e===ii&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max "+r+" events size queued for upload: 3MiB",source:cn.AGENT,startClocks:de()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=fi();o.size()>0;)ai(o.dequeue(),t,n,r,i)}function fi(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=ei}}}function li(e,t){return e?(e=e+(-1===e.indexOf("?")?"?":"&")+"precision=ms",t&&(e=e+"&encoding="+t),e):e}function di(e,t,n,r){void 0===n&&(n=-1);var i=function(e){return{transportStatus:ti,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:fi(),queueFullReported:!1,retryMaxSize:e}}(n),o=function(n,r){return function(e,t,n,r){var i=n.data,o=n.bytesCount,a=li(e,n.encoding);if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&o<t){var s={method:"POST",body:i,keepalive:!0,mode:"cors"};n.type&&(s.headers={"Content-Type":n.type}),fetch(a,s).then(c((function(e){"function"==typeof r&&r({status:e.status,type:e.type})})),c((function(){vi(a,n,r)})))}else vi(a,n,r)}(e,t,n,r)};return{send:function(t){ai(t,i,o,e,r)},sendOnExit:function(n){!function(e,t,n){var r=n.data,i=n.bytesCount,o=li(e,n.encoding);if(navigator.sendBeacon&&i<t)try{var a;if(a=n.type?new Blob([r],{type:n.type}):r,navigator.sendBeacon(o,a))return}catch(e){pi||(pi=!0)}vi(o,n)}(e,t,n)}}}var pi=!1;function vi(e,t,n){var r=t.data,i=new XMLHttpRequest;i.open("POST",e,!0),r instanceof Blob?i.setRequestHeader("Content-Type",r.type):t.type&&i.setRequestHeader("Content-Type",t.type),Sn(i,"loadend",(function(){"function"==typeof n&&n({status:i.status})}),{once:!0}),i.send(r)}function mi(t){if("object"===e(t)&&t)t=qt(t);else if(!z(t))return t;return String(t).replace(/[\s=,"]/g,(function(e){return"\\"+e}))}function gi(t,n){return"object"===e(t)&&t?t=qt(t):n&&(t=""+t),t}function yi(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function hi(t){return"object"===e(t)&&t?yi(qt(t)):z(t)?yi(t):t}var _i="custom_keys",bi=function(e){if(!e||!e.type)return{rowStr:"",rowData:void 0};var t={tags:{},fields:{}},n=!1,r="";return x(Qr,(function(i,o){if(i.type===e.type){r+=o+",",t.measurement=o;var a=[],s=R({},Kr,i.tags),u=["date","type",_i];x(s,(function(n,r){var i=Se(e,n);u.push(r),(i||F(i))&&(t.tags[r]=gi(i,!0),a.push(mi(r)+"="+mi(i)))}));var c=[],f=R({},Xr,i.fields);if(x(f,(function(n,r){if(A(n)&&2===n.length){var i=n[1],o=Se(e,i);u.push(r),null!=o&&(t.fields[r]=gi(o),c.push(mi(r)+"="+hi(o)))}else if(z(n)){o=Se(e,n);u.push(r),null!=o&&(t.fields[r]=gi(o),c.push(mi(r)+"="+hi(o)))}})),e.context&&D(e.context)&&!B(e.context)){var l=[];x(e.context,(function(e,n){u.indexOf(n)>-1||(u.push(n),null!=e&&(l.push(n),t.fields[n]=gi(e),c.push(mi(n)+"="+hi(e))))})),l.length&&(t.fields.custom_keys=gi(l),c.push(mi(_i)+"="+hi(l)))}e.type===Pt.LOGGER&&x(e,(function(e,n){-1===u.indexOf(n)&&null!=e&&(t.fields[n]=gi(e),c.push(mi(n)+"="+hi(e)))})),a.length&&(r+=a.join(",")),c.length&&(r+=" ",r+=c.join(","),n=!0),r=r+" "+e.date,t.time=e.date}})),{rowStr:n?r:"",rowData:n?t:void 0}};function wi(e){var t=e.encoder,n=e.request,r=e.messageBytesLimit,i=e.sendContentTypeByJson,o=e.flushController,s={},u=o.flushObservable.subscribe((function(e){!function(e){var r=M(s).join(i?",":"\n");s={};var o=(u=e.reason,Te(M(Wr),u)),a=o?n.sendOnExit:n.send;var u;if(o&&t.isAsync){var f=t.finishSync();f.outputBytesCount&&a(Si(f,i));var l=[f.pendingData,r].filter(Boolean).join("\n");l&&a({data:l,bytesCount:rn(l)})}else{if(r){var d=c([r],t.isEmpty());i&&(d+="]"),t.write(d)}else i&&t.write("]");t.finish((function(e){a(Si(e))}))}}(e)}));function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i?t?"["+e.join(","):","+e.join(","):t?e.join("\n"):"\n"+e.join("\n")}function f(e,n){var u=function(e){return i?qt(bi(e).rowData):bi(e).rowStr}(e),f=t.estimateEncodedBytesCount(u);f>=r?a.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(r,"KB.")):(function(e){return void 0!==e&&void 0!==s[e]}(n)&&function(e){var n=s[e];delete s[e];var r=t.estimateEncodedBytesCount(n);o.notifyAfterRemoveMessage(r)}(n),function(e,n,r){o.notifyBeforeAddMessage(n),void 0!==r?(s[r]=e,o.notifyAfterAddMessage()):t.write(c([e],t.isEmpty()),(function(e){o.notifyAfterAddMessage(e-n)}))}(u,f,n))}return{flushController:o,add:f,upsert:f,stop:u.unsubscribe}}function Si(e,t){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),type:t?"application/json;UTF-8":void 0,bytesCount:e.outputBytesCount,encoding:e.encoding}}function Ei(e){var t=e.messagesLimit,n=e.bytesLimit,r=e.durationLimit,i=e.pageExitObservable,o=e.sessionExpireObservable;i.subscribe((function(e){return f(e.reason)})),o.subscribe((function(){return f("session_expire")}));var a,s=new yn((function(){return function(){pageExitSubscription.unsubscribe(),sessionExpireSubscription.unsubscribe()}})),u=0,c=0;function f(e){if(0!==c){var t=c,n=u;c=0,u=0,l(),s.notify({reason:e,messagesCount:t,bytesCount:n})}}function l(){g(a),a=void 0}return{flushObservable:s,getMessagesCount:function(){return c},notifyBeforeAddMessage:function(e){u+e>=n&&f("bytes_limit"),c+=1,u+=e,void 0===a&&(a=m((function(){f("duration_limit")}),r))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),u+=e,c>=t?f("messages_limit"):u>=n&&f("bytes_limit")},notifyAfterRemoveMessage:function(e){u-=e,0===(c-=1)&&l()}}}function Ci(){var e;arguments.length>0&&void 0!==arguments[0]||null===(e=p().location)||void 0===e||e.hostname;return!1}function Ti(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function xi(e,t,n){return(t=Ti(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e,t,n){for(var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach((function(t){xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),i=0,o=Object.entries(t);i<o.length;i++){var s=Qn(o[i],2),u=s[0],c=s[1],f=c.required;"string"===c.type&&u in r&&(r[u]=String(r[u])),f&&!(u in e)&&a.warn("The property ".concat(u," of ").concat(n," context is required; context will not be sent to the intake."))}return r}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.customerDataTracker,r=t.propertiesConfig,i=void 0===r?{}:r,o={},a=new yn,s={getContext:function(){return Y(o)},setContext:function(t){"object"===Q(t)?(o=on(Oi(t,i,e)),null==n||n.updateCustomerData(o)):s.clearContext(),a.notify()},setContextProperty:function(t,r){o[t]=on(Oi(xi({},t,r),i,e)[t]),null==n||n.updateCustomerData(o),a.notify()},removeContextProperty:function(t){delete o[t],null==n||n.updateCustomerData(o),Oi(o,i,e),a.notify()},clearContext:function(){o={},null==n||n.resetCustomerData(),a.notify()},changeObservable:a};return s}var Ii="user",Ai="global context",Pi="view",Ni=[];function Mi(e,t,n,r){var i=function(e,t,n){return e.storeContextsKey&&z(e.storeContextsKey)?"_gc_s_"+t+"_"+n+"_"+e.storeContextsKey:"_gc_s_"+t+"_"+n}(e,n,r);function o(){var e=localStorage.getItem(i);return null!==e?JSON.parse(e):{}}return Ni.push(Sn(window,bt,(function(e){i===e.key&&t.setContext(o())}))),t.changeObservable.subscribe((function(){localStorage.setItem(i,JSON.stringify(t.getContext()))})),t.setContext(I(o(),t.getContext())),t}var Li=3072,Vi=16384,ji=0,Ui=1,Di=2;function Bi(e){var t=0,n=G((function(n){t=rn(qt(n)),e()}),200),r=n.throttled,i=n.cancel,o=function(){i(),t=0};return{updateCustomerData:function(e){B(e)?o():r(e)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function qi(e){a.warn("Customer data exceeds the recommended ".concat(e/tn,"KiB threshold."))}function zi(){var e="",t=0;return{isAsync:!1,isEmpty:function(){return!e},write:function(n,r){var i=rn(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function Hi(e){var t=k({},e);return x(["id","name","email"],(function(e){e in t&&(t[e]=String(t[e]))})),t}function Fi(e){this.map=new WeakMap,e&&e.forEach((function(e){this.map.set(e,1)}))}function Gi(e,t){t.silentMultipleInit||a.error(e+" is already initialized.")}Fi.prototype.add=function(e){return this.map.set(e,1),this},Fi.prototype.delete=function(e){return this.map.delete(e)},Fi.prototype.has=function(e){return this.map.has(e)};var Wi=1,Ji=2,$i=3,Ki="0",Xi="1",Qi="2",Zi="3",Yi="4",eo="5",to="6";function no(e,t){var n=Yr(e,"rum",(function(t){return function(e,t){var n,r=e.sessionSampleRate,i=e.sessionOnErrorSampleRate,o=e.sessionReplaySampleRate,a=e.sessionReplayOnErrorSampleRate,s=oe(r),u=oe(i),c=oe(o),f=oe(a);!function(e){return e===Ki||e===eo||e===to||e===Yi||e===Qi||e===Zi||e===Xi}(t)?u||s?s&&c?n=Xi:s&&f?n=Zi:!s||c||f?u&&c?n=Yi:u&&f?n=to:!u||c||f||(n=eo):n=Qi:n=Ki:n=t;return{trackingType:n,isTracked:ro(n)}}(e,t)}));return n.expireObservable.subscribe((function(){t.notify(Un)})),n.renewObservable.subscribe((function(){t.notify(jn)})),n.sessionStateUpdateObservable.subscribe((function(e){var t=e.previousState,r=e.newState;if(!t.hasError&&r.hasError){var i=n.findSession();i&&(i.hasError=!0,i.ets=r.ets||pe())}})),{findTrackedSession:function(e){var t=n.findSession(e);if(t&&ro(t.trackingType)){var r=t.trackingType===eo||t.trackingType===Yi||t.trackingType===to,i=Wi;return t.trackingType===Xi||t.trackingType===Yi?i=Ji:t.trackingType!==to&&t.trackingType!==Zi||(i=$i),{id:t.id,plan:i,errorSessionReplayAllowed:i===$i,sessionHasError:t.hasError,isErrorSession:r,sessionErrorTimestamp:t.ets,sessionReplayAllowed:i===Ji||i===$i}}},expire:n.expire,expireObservable:n.expireObservable,sessionStateUpdateObservable:n.sessionStateUpdateObservable,setErrorForSession:function(){return n.updateSessionState({hasError:"1",ets:pe()})}}}function ro(e){return e!==Ki}var io="_gc_usr_id";var oo=function(e){var t;if(e.sessionStoreStrategyType)return t="Cookie"===e.sessionStoreStrategyType.type?function(e){var t=dr(io,e);return t||(t=W(),lr(io,t,5184e6,e)),t}(e.sessionStoreStrategyType.cookieOptions):function(){var e=localStorage.getItem(io);return e||(e=W(),localStorage.setItem(io,e)),e}(),{getId:function(){return t}}};function ao(){var e=function(){var e,t=window;if(t.Zone&&(e=v(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=v(new t.MutationObserver(te),"originalInstance");e=n&&n.constructor}e||(e=t.MutationObserver);return e}();return new yn((function(t){if(e){var n=new e(c((function(){return t.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}))}function so(e){var t=O(e);return new yn((function(n){var r,i,o,a,s=(r=c,i=mn(History.prototype,"pushState",(function(e){(0,e.onPostCall)(r)})),o=mn(History.prototype,"replaceState",(function(e){(0,e.onPostCall)(r)})),a=Sn(window,nt,r),{stop:function(){i.stop(),o.stop(),a.stop()}}),u=Sn(window,pt,c);function c(){if(t.href!==e.href){var r=O(e);n.notify({newLocation:r,oldLocation:t}),t=r}}return function(){s.stop(),u.stop()}}))}var uo="active",co="passive",fo="hidden",lo="frozen",po="terminated";function vo(e){void 0===e&&(e=500);var t,n=Je({expireDelay:144e5,maxEntries:4e3});i(mo(),le());var r=En(window,[at,gt,yt,ot,ut,st,vt],(function(e){i(function(e){if(e.type===st)return lo;if(e.type===vt)return e.persisted?lo:po;return mo()}(e),e.timeStamp)}),{capture:!0}).stop;function i(e,r){void 0===r&&(r=le()),e!==t&&(t=e,n.closeActive(r),n.add({state:t,startTime:r},r))}var o={findAll:function(t,r){var i=n.findAll(t,r);if(0!==i.length){for(var o=[],a=Math.max(0,i.length-e),s=i.length-1;s>=a;s--){var u=i[s],c=me(t,u.startTime);o.push({state:u.state,start:ue(c)})}return o}},wasInPageStateAt:function(e,t){return o.wasInPageStateDuringPeriod(e,t,0)},wasInPageStateDuringPeriod:function(e,t,r){return n.findAll(t,r).some((function(t){return t.state===e}))},addPageState:i,stop:function(){r(),n.stop()}};return o}function mo(){return"hidden"===document.visibilityState?fo:document.hasFocus()?uo:co}function go(e,t){var n=yo(e)?{action:{error:{count:e.counts.errorCount},id:e.id,loadingTime:He(ue(e.duration)),frustration:{type:e.frustrationTypes},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_gc:{action:{target:e.target,position:e.position}}}:{action:{loadingTime:0}};return{customerContext:yo(e)?void 0:e.context,rawRumEvent:I({action:{id:W(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:Pt.ACTION,view:{in_foreground:t.wasInPageStateAt(uo,e.startClocks.relative)}},n),startTime:e.startClocks.relative,domainContext:yo(e)?{event:e.event,events:e.events}:{}}}function yo(e){return e.type!==At}function ho(e,t,n,r,i,o,a){var s=function(e,t,n,r,i,o){void 0===o&&(o=wi);var a=function(e,t){return o({encoder:t.encoder,request:di(t.endpoint,e.batchBytesLimit,e.retryMaxSize,n),flushController:Ei({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:r,sessionExpireObservable:i}),messageBytesLimit:e.messageBytesLimit,sendContentTypeByJson:e.sendContentTypeByJson})}(e,t);return{flushObservable:a.flushController.flushObservable,add:function(e){a.add(e)},upsert:function(e,t){a.upsert(e,t)},stop:function(){a.stop()}}}(e,{endpoint:e.rumEndpoint,encoder:a(2)},r,i,o);return t.subscribe(Hn,(function(e){e.type===Pt.VIEW?s.upsert(e,e.view.id):s.add(e)})),s}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wo,So="synthetics",Eo="user",Co={"view.url":"string","view.referrer":"string"},To={context:"object"},xo={service:"string",version:"string"},ko={};function Oo(e,t,n,r,i,o,s,u,c,f){ko[Pt.VIEW]=bo(bo({},To),Co),ko[Pt.ERROR]=k({"error.message":"string","error.stack":"string","error.resource.url":"string"},To,Co,xo),ko[Pt.RESOURCE]=k({"resource.url":"string"},To,Co,xo),ko[Pt.ACTION]=k({"action.target.name":"string"},To,Co,xo),ko[Pt.LONG_TASK]=k({},To,Co);var l={};l[Pt.ERROR]=tr(Pt.ERROR,e.eventRateLimiterThreshold,f),l[Pt.ACTION]=tr(Pt.ACTION,e.eventRateLimiterThreshold,f),t.subscribe(zn,(function(f){var d,p=f.startTime,v=f.rawRumEvent,m=f.savedCommonContext,g=f.customerContext,y=f.domainContext,h=i.findView(p),_=o.findUrl(p),b=n.findTrackedSession(p);if((!b||!b.isErrorSession||b.sessionHasError)&&(b&&h&&_)){var w=s.findActionId(p),S=s.findAllActionId(p),E=m||c(),C={_gc:{sdkName:e.sdkName,sdkVersion:e.sdkVersion,drift:Math.round(ve()-(be()+performance.now())),configuration:{session_sample_rate:ae(e.sessionSampleRate,3),session_replay_sample_rate:ae(e.sessionReplaySampleRate,3),session_on_error_sample_rate:ae(e.sessionOnErrorSampleRate,3),session_replay_on_error_sample_rate:ae(e.sessionReplayOnErrorSampleRate,3)}},terminal:{type:"web"},application:{id:e.applicationId},device:Qe,webview:{},env:e.env||"",service:h.service||e.service||"browser",version:h.version||e.version||"",source:"browser",date:pe(),user:{id:r.getId(),is_signin:"F",is_login:!1},session:{type:void 0===window._DATAFLUX_SYNTHETICS_BROWSER?Eo:So,id:b.id},view:{id:h.id,name:h.name||_.path,url:_.url,referrer:_.referrer,host:_.host,path:_.path,pathGroup:_.pathGroup,urlQuery:_.urlQuery},action:(d=v,-1!==[Pt.ERROR,Pt.RESOURCE,Pt.LONG_TASK].indexOf(d.type)&&w?{id:w,ids:S}:void 0),display:u.get()},T=Le(I(C,h,v)),x=I({},E.context,h.context,g);B(x)||(T.context=x),"has_replay"in T.session||(T.session.has_replay=E.hasReplay),b.errorSessionReplayAllowed&&(T.session.has_replay=T.session.has_replay&&b.sessionHasError),"view"===T.type&&(T.session.sampled_for_error_replay=b.errorSessionReplayAllowed,T.session.sampled_for_error_session=b.isErrorSession,T.session.error_timestamp_for_session=b.sessionErrorTimestamp),B(E.context.device)||(T.device=I(T.device,E.context.device)),B(E.context.webview)||(T.webview=I(T.webview,E.context.webview)),B(E.user)||(T.user=I(T.user,{is_signin:"T",is_login:!0},E.user)),function(e,t,n,r){if(t){var i=Zn(e,ko[e.type],(function(e){return t(e,n)}));if(!1===i&&e.type!==Pt.VIEW)return!1;!1===i&&a.warn("Can't dismiss view events using beforeSend!")}var o=!1;r[e.type]&&(o=r[e.type].isLimitReached());return!o}(T,e.beforeSend,y,l)&&(B(T.context)&&delete T.context,t.notify(Hn,T))}}))}function Ro(){return wo||(wo=new yn((function(e){var t=G((function(){e.notify(Io())}),200).throttled;return Sn(window,ht,t,{capture:!0,passive:!0}).stop}))),wo}function Io(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function Ao(e,n,r,i){var o=new yn;!function(e){var n=bn([t.error]).subscribe((function(t){e.notify(t.error)}))}(o),function(e){en((function(t,n){e.notify(fn({stackTrace:t,originalError:n,startClocks:de(),nonErrorPrefix:Dt,source:cn.SOURCE,handling:Ut}))}))}(o),function(e,t){var n=xn(0,[Cn]).subscribe((function(e){t.notify({startClocks:de(),message:e.message,stack:e.stack,type:e.subtype,source:cn.REPORT,handling:Ut})}))}(0,o);var a=r.findTrackedSession(),s=a.isErrorSession&&a.sessionHasError;return a.isErrorSession&&e.subscribe(jn,(function(){s=!1})),o.subscribe((function(t){a.isErrorSession&&!s&&(r.setErrorForSession(),s=!0),e.notify(Fn,{error:t})})),function(e,t){return e.subscribe(Fn,(function(n){e.notify(zn,k({customerContext:n.customerContext,savedCommonContext:n.savedCommonContext},function(e,t){return{rawRumEvent:{date:e.startClocks.timeStamp,error:{id:W(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser"},type:Pt.ERROR,view:{in_foreground:t.wasInPageStateAt(uo,e.startClocks.relative)}},startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(n.error,t)))})),{addError:function(t,n){var r=t.error,i=fn({stackTrace:r instanceof Error?Ft(r):void 0,originalError:r,handlingStack:t.handlingStack,startClocks:t.startClocks,nonErrorPrefix:Bt,source:cn.CUSTOM,handling:jt});e.notify(Fn,{customerContext:t.context,savedCommonContext:n,error:i})}}}(e,i)}var Po="initial_document",No=[[wt,function(e){return Po===e}],[St,function(e){return"xmlhttprequest"===e}],[Ct,function(e){return"fetch"===e}],[Et,function(e){return"beacon"===e}],[Tt,function(e,t){return null!==t.match(/\.css$/i)}],[xt,function(e,t){return null!==t.match(/\.js$/i)}],[kt,function(e,t){return Te(["image","img","icon"],e)||null!==t.match(/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i)}],[Ot,function(e,t){return null!==t.match(/\.(woff|eot|woff2|ttf)$/i)}],[Rt,function(e,t){return Te(["audio","video"],e)||null!==t.match(/\.(mp3|mp4)$/i)}]];function Mo(e){var t=e.name;if(!function(e){try{return!!rr(e)}catch(e){return!1}}(t))return It;var n=function(e){var t=rr(e).pathname;return"/"===t[0]?t:"/"+t}(t),r=It;return x(No,(function(t){var i=t[0];if((0,t[1])(e.initiatorType,n))return r=i,!1})),r}function Lo(){for(var e=N(arguments),t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function Vo(e){return""===e.deliveryType?"other":e.deliveryType}function jo(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}var Uo=/[^\u0000-\u007F]/;function Do(e,t){return n=e,(Uo.test(n)?void 0!==window.TextEncoder?(new TextEncoder).encode(n).length:new Blob([n]).size:n.length)>t;var n}function Bo(e){return 0===e.duration&&e.startTime<e.responseEnd?se(e.responseEnd-e.startTime):se(e.duration)}function qo(e){if(Ho(e)){var t=e.startTime,n=e.fetchStart,r=e.redirectStart,i=e.redirectEnd,o=e.domainLookupStart,a=e.domainLookupEnd,s=e.connectStart,u=e.secureConnectionStart,c=e.connectEnd,f=e.requestStart,l=e.responseStart,d=e.responseEnd,p={firstbyte:se(l-f),trans:se(d-l),downloadTime:Go(t,l,d),firstByteTime:Go(t,f,l)};return l>0&&l<=le()&&(p.ttfb=se(l-f)),c!==n&&(p.tcp=se(c-s),p.connectTime=Go(t,s,c),Lo(s,u,c)&&(p.ssl=se(c-u),p.sslTime=Go(t,u,c))),a!==n&&(p.dns=se(a-o),p.dnsTime=Go(t,o,a)),Fo(e)&&(p.redirect=se(i-r),p.redirectTime=Go(t,r,i)),e.renderBlockingStatus&&(p.renderBlockingStatus=e.renderBlockingStatus),p}}function zo(e){return e.duration>=0}function Ho(e){var t=Lo(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!Fo(e)||Lo(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return t&&n}function Fo(e){return e.redirectEnd>e.startTime}function Go(e,t,n){return{duration:se(n-t),start:se(t-e)}}function Wo(e){return e.startTime<e.responseStart?{size:e.decodedBodySize,encodedBodySize:e.encodedBodySize,decodedBodySize:e.decodedBodySize,transferSize:e.transferSize}:{size:void 0,encodedBodySize:void 0,decodedBodySize:void 0,transferSize:void 0}}function Jo(e,t){return t&&!function(e,t){var n=[t.rumEndpoint];return t.logsEndpoint&&n.push(t.logsEndpoint),t.sessionReplayEndPoint&&n.push(t.sessionReplayEndPoint),j(n,(function(t){return 0===e.indexOf(t)}))||t.isIntakeUrl(e)}(t,e)}var $o=/data:(.+)?(;base64)?,/g;function Ko(e){return!(e.length<=24e3)&&("data:"===e.substring(0,5)&&(e=e.substring(0,24e3),!0))}function Xo(e){return e.match($o)[0]+"[...]"}function Qo(e,t){var n=ve(),r=!1,i=En(window,[Ye,mt,et,it,ft],(function(e){if(e.cancelable){var t={entryType:"first-input",processingStart:le(),processingEnd:le(),startTime:e.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:function(){return{}}};e.type===ft?function(e){En(window,[lt,dt],(function(t){t.type===lt&&o(e)}),{once:!0})}(t):o(t)}}),{passive:!0,capture:!0}).stop;return{stop:i};function o(e){if(!r){r=!0,i();var o=e.processingStart-e.startTime;o>=0&&o<ve()-n&&t(e)}}}var Zo,Yo="event",ea="first-input",ta="largest-contentful-paint",na="layout-shift",ra="longtask",ia="navigation",oa="paint",aa="resource",sa="visibility-state";function ua(e,t){return new yn((function(n){if(window.PerformanceObserver){var r,i,o=function(t){var r=function(e,t){return t.filter((function(t){return!function(e,t){return!(t.entryType!==aa||Jo(e,t.name)&&zo(t))}(e,t)}))}(e,t);r.length>0&&n.notify(r)},a=!0,s=new PerformanceObserver(c((function(e){a?r=m((function(){o(e.getEntries())})):o(e.getEntries())})));try{s.observe(t)}catch(e){if(Te([aa,ia,ra,oa],t.type)){t.buffered&&(r=m((function(){o(performance.getEntriesByType(t.type))})));try{s.observe({entryTypes:[t.type]})}catch(e){return}}}if(a=!1,function(e){!Zo&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&(Zo=Sn(performance,"resourcetimingbufferfull",(function(){performance.clearResourceTimings()})))}(),!ca(ea)&&t.type===ea){var u=Qo(0,(function(e){o([e])}));i=u.stop}return function(){s.disconnect(),i&&i(),g(r)}}}))}function ca(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}var fa,la=["data-guance-action-name","data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],da=[ga,function(e){if(e.id&&!ma(e.id))return"#"+U(e.id)}],pa=[ga,function(e){if("BODY"===e.tagName)return;if(e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var n=e.classList[t];if(!ma(n))return U(e.tagName)+"."+U(n)}},function(e){return U(e.tagName)}];function va(e,t){if(function(e){if("isConnected"in e)return e.isConnected;return e.ownerDocument.documentElement.contains(e)}(e)){for(var n,r=e;r&&"HTML"!==r.nodeName;){var i=ha(r,da,_a,t,n);if(i)return i;n=ha(r,pa,ba,t,n)||wa(ya(r),n),r=r.parentElement}return n}}function ma(e){return/[0-9]/.test(e)}function ga(e,t){if(t&&(r=i(t)))return r;for(var n=0;n<la.length;n++){var r;if(r=i(la[n]))return r}function i(t){if(e.hasAttribute(t))return U(e.tagName)+"["+t+'="'+U(e.getAttribute(t))+'"]'}}function ya(e){for(var t=e.parentElement&&e.parentElement.firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;var r=U(e.tagName);return/^::/.test(r)?r:r+":nth-of-type("+n+")"}function ha(e,t,n,r,i){for(var o=0;o<t.length;o++){var a=(0,t[o])(e,r);if(a&&n(e,a,i))return wa(a,i)}}function _a(e,t,n){return 1===e.ownerDocument.querySelectorAll(wa(t,n)).length}function ba(e,t,n){var r;if(void 0===n)r=function(e){return e.matches(t)};else{var i=function(){if(void 0===fa)try{document.querySelector(":scope"),fa=!0}catch(e){fa=!1}return fa}()?wa("".concat(t,":scope"),n):wa(t,n);r=function(e){return null!==e.querySelector(i)}}for(var o=e.parentElement.firstElementChild;o;){if(o!==e&&r(o))return!1;o=o.nextElementSibling}return!0}function wa(e,t){return t?e+">"+t:e}function Sa(){if(ca(ia)){var e=performance.getEntriesByType(ia)[0];if(e)return e}var t=function(){var e={},t=performance.timing;for(var n in t)if(F(t[n])){var r=n,i=t[r];e[r]=0===i?0:ce(i)}return e}(),n=k({entryType:ia,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.responseEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,toJSON:function(){return k({},n,{toJSON:void 0})}},t);return n}function Ea(e,t,n){return void 0===n&&(n=Sa),function(e){var t,n=$r("complete",(function(){t=m((function(){e()}))}));return{stop:function(){n.stop(),g(t)}}}((function(){var e=n();(function(e){return e.loadEventEnd<=0})(e)||t(function(e){return{fetchStart:e.fetchStart,responseEnd:e.responseEnd,domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,loadEventEnd:e.loadEventEnd,loadEventStart:e.loadEventStart,domContentLoadedEventEnd:e.domContentLoadedEventEnd,domContentLoadedEventStart:e.domContentLoadedEventStart,firstByte:e.responseStart>=0&&e.responseStart<=le()?e.responseStart:void 0}}(e))}))}function Ca(e){if(void 0===e&&(e=window),"hidden"===document.visibilityState)return{getTimeStamp:function(){return 0},stop:te};if(ca(sa)){var t=performance.getEntriesByType(sa).find((function(e){return"hidden"===e.name}));if(t)return{getTimeStamp:function(){return t.startTime},stop:te}}var n=1/0,r=En(e,[vt,ot],(function(e){e.type!==vt&&"hidden"!==document.visibilityState||(n=e.timeStamp,r())}),{capture:!0}).stop;return{getTimeStamp:function(){return n},stop:function(){r()}}}function Ta(e,t,n){var r={},i=Ea(0,(function(e){t(e.loadEvent),r.navigationTimings=e,n()})),o=Ca(),a=i.stop,s=function(e,t,n){return{stop:ua(e,{type:oa,buffered:!0}).subscribe((function(e){var r=xe(e,(function(e){return e.entryType===oa&&"first-contentful-paint"===e.name&&e.startTime<t.getTimeStamp()&&e.startTime<6e5}));r&&n(r.startTime)})).unsubscribe}}(e,o,(function(e){r.firstContentfulPaint=e,n()})).stop,u=function(e,t,n,r){var i=1/0,o=En(n,[ft,et],(function(e){i=e.timeStamp}),{capture:!0,once:!0}).stop,a=0,s=ua(e,{type:ta,buffered:!0}).subscribe((function(n){var o,s=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(n,(function(e){return e.entryType===ta&&e.startTime<i&&e.startTime<t.getTimeStamp()&&e.startTime<6e5&&e.size>a}));s&&(s.element&&(o=va(s.element,e.actionNameAttribute)),r({value:s.startTime,targetSelector:o}),a=s.size)}));return{stop:function(){o(),s.unsubscribe()}}}(e,o,window,(function(e){r.largestContentfulPaint=e,n()})).stop,c=function(e,t,n){var r=ua(e,{type:ea,buffered:!0}).subscribe((function(r){var i=xe(r,(function(e){return e.entryType===ea&&e.startTime<t.getTimeStamp()}));if(i){var o,a=me(i.startTime,i.processingStart);i.target&&Jr(i.target)&&(o=va(i.target,e.actionNameAttribute)),n({delay:a>=0?a:0,time:i.startTime,targetSelector:o})}}));return{stop:function(){r.unsubscribe()}}}(e,o,(function(e){r.firstInput=e,n()})).stop;return{stop:function(){a(),s(),u(),c(),o.stop()},initialViewMetrics:r}}function xa(e,t,n,r){void 0===r&&(r=function(e,t){void 0===t&&(t=1e3);return new yn((function(e){function n(){var t,n,r,i,o,a;e.notify((a=window.visualViewport,o=a?a.pageTop-a.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,t=Math.round(o),n=Io().height,r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),i=Math.round(n+t),{scrollHeight:r,scrollDepth:i,scrollTop:t}))}if(window.ResizeObserver){var r=G(n,t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,o=new ResizeObserver(c(r.throttled));i&&o.observe(i);var a=Sn(window,rt,r.throttled,{passive:!0});return function(){r.cancel(),o.unobserve(i),a.stop()}}}))}());var i=0,o=0,a=0,s=r.subscribe((function(e){var r=e.scrollDepth,s=e.scrollTop,u=e.scrollHeight,c=!1;if(r>i&&(i=r,c=!0),u>o){o=u;var f=le();a=me(t.relative,f),c=!0}c&&n({maxDepth:Math.min(i,o),maxDepthScrollTop:s,maxScrollHeight:o,maxScrollHeightTime:a})}));return{stop:function(){return s.unsubscribe()}}}function ka(e,t,n,r,i){return function(e,t,n){var r,i=!1,o=m((function(){c({hadActivity:!1})}),100),a=void 0!==n?m((function(){return c({hadActivity:!0,end:pe()})}),n):void 0,s=e.subscribe((function(e){var t=e.isBusy;g(o),g(r);var n=pe();t||(r=m((function(){c({hadActivity:!0,end:n})}),100))})),u=function(){i=!0,g(o),g(r),g(a),s.unsubscribe()};function c(e){i||(u(),t(e))}return{stop:u}}(function(e,t,n){return new yn((function(r){var i,o=[],a=0;o.push(t.subscribe((function(){u()})),ua(n,{type:aa}).subscribe((function(e){j(e,(function(e){return!Oa(n,e.name)}))&&u()})),e.subscribe(Bn,(function(e){Oa(n,e.url)||(void 0===i&&(i=e.requestIndex),a+=1,u())})),e.subscribe(qn,(function(e){Oa(n,e.url)||void 0===i||e.requestIndex<i||(a-=1,u())})));var s=mn(window,"open",u).stop;return function(){s(),x(o,(function(e){e.unsubscribe()}))};function u(){r.notify({isBusy:a>0})}}))}(e,t,n),r,i)}function Oa(e,t){return n=e.excludedActivityUrls,r=t,void 0===i&&(i=!1),j(n,(function(e){try{if("function"==typeof e)return e(r);if(e instanceof RegExp)return e.test(r);if("string"==typeof e)return i?De(r,e):e===r}catch(e){a.error(e)}return!1}));var n,r,i}function Ra(e,t,n){if(!Pa())return{stop:te};var r,i,o=0;n({value:0});var a=function(){var e,t,n=0,r=0;return{update:function(i){var o;return void 0===e||i.startTime-t>=1e3||i.startTime-e>=25e3?(e=t=i.startTime,r=n=i.value,o=!0):(n+=i.value,t=i.startTime,(o=i.value>r)&&(r=i.value)),{cumulatedValue:n,isMaxValue:o}}}}(),s=ua(e,{type:na,buffered:!0}).subscribe((function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(!(f.hadRecentInput||f.startTime<t)){var l=a.update(f),d=l.cumulatedValue;if(l.isMaxValue){var p=Ia(f.sources);r=p?new WeakRef(p):void 0,i=me(t,f.startTime)}if(d>o){o=d;p=r&&r.deref();n({value:ae(o,4),targetSelector:p&&va(p,e.actionNameAttribute),time:i})}}}}));return{stop:function(){s.unsubscribe()}}}function Ia(e){if(e){var t=xe(e,(function(e){return!!e.node&&Jr(e.node)}));return t&&t.node}}var Aa;function Pa(){return ca(na)&&"WeakRef"in window}var Na=0,Ma=1/0,La=0;var Va=function(){return Aa?Na:window.performance.interactionCount||0},ja=new Map;function Ua(e,t,n){if(!(ca("event")&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:te,stop:te};var r,i,o=function(e){"interactionCount"in performance||Aa||(Aa=new window.PerformanceObserver(c((function(e){e.getEntries().forEach((function(e){var t=e;t.interactionId&&(Ma=Math.min(Ma,t.interactionId),La=Math.max(La,t.interactionId),Na=(La-Ma)/7+1)}))})))).observe({type:"event",buffered:!0,durationThreshold:0});var t=e===Nt?0:Va(),n={stopped:!1};function r(){return Va()-t}return{getViewInteractionCount:function(){return n.stopped?n.interactionCount:r()},stopViewInteractionCount:function(){n={stopped:!0,interactionCount:r()}}}}(n),a=o.getViewInteractionCount,s=o.stopViewInteractionCount,u=1/0,f=function(e){var t=[];function n(){t.sort((function(e,t){return t.duration-e.duration})).splice(10)}return{process:function(e){var r=t.findIndex((function(t){return e.interactionId===t.interactionId})),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(a),l=-1;function d(n){for(var o=0,a=n;o<a.length;o++){var s=a[o];s.interactionId&&s.startTime>=t&&s.startTime<=u&&f.process(s)}var c,d,p=f.estimateP98Interaction();p&&p.duration!==l&&(l=p.duration,i=me(t,p.startTime),c=p.startTime,d=ja.get(c),ja.delete(c),!(r=d)&&p.target&&Jr(p.target)&&(r=va(p.target,e.actionNameAttribute)))}var p=ua(e,{type:ea,buffered:!0}).subscribe(d),v=ua(e,{type:Yo,durationThreshold:40,buffered:!0}).subscribe(d);return{getInteractionToNextPaint:function(){return l>=0?{value:Math.min(l,6e4),targetSelector:r,time:i}:a()?{value:0}:void 0},setViewEnd:function(e){u=e,s()},stop:function(){v.unsubscribe(),p.unsubscribe()}}}function Da(e,t,n,r,i,o){var a={},s=function(e,t,n,r,i,o){var a=r===Nt,s=!0,u=[],c=Ca();function f(){if(!s&&!a&&u.length>0){var e=Math.max.apply(Math,u);e<c.getTimeStamp()&&o(e)}}var l=ka(e,t,n,(function(e){s&&(s=!1,e.hadActivity&&u.push(me(i.timeStamp,e.end)),f())})).stop;return{setLoadEvent:function(e){a&&(a=!1,u.push(e),f())},stop:function(){l(),c.stop(),s&&(s=!1,f())}}}(e,t,n,i,o,(function(e){a.loadingTime=e,r()})),u=s.stop,c=s.setLoadEvent,f=xa(0,o,(function(e){a.scroll=e})).stop,l=Ra(n,o.relative,(function(e){a.cumulativeLayoutShift=e,r()})).stop,d=Ua(n,o.relative,i),p=d.stop,v=d.getInteractionToNextPaint;return{stop:function(){u(),l(),f()},stopINPTracking:p,setLoadEvent:c,setViewEnd:d.setViewEnd,getCommonViewMetrics:function(){return a.interactionToNextPaint=v(),a}}}function Ba(e,t,n){var r=function(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange;void 0===r&&(r=te);var i={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},o=t.subscribe(Hn,(function(e){if(e.type!==Pt.VIEW&&n(e))switch(e.type){case Pt.ERROR:i.errorCount+=1,r();break;case Pt.ACTION:e.action.frustration&&(i.frustrationCount+=e.action.frustration.type.length),i.actionCount+=1,r();break;case Pt.LONG_TASK:i.longTaskCount+=1,r();break;case Pt.RESOURCE:i.resourceCount+=1,r()}}));return{stop:function(){o.unsubscribe()},eventCounts:i}}({lifeCycle:e,isChildEvent:function(e){return e.view.id===t},onChange:n});return{stop:r.stop,eventCounts:r.eventCounts}}var qa=3e5,za=3e5;function Ha(e,t,n,r,i,o,a){var s=new Set;function u(i,o,a){var u=function(e,t,n,r,i,o,a){void 0===o&&(o=de());var s,u,c,f,l,d=W(),p=new yn,v={},g=0,_=O(r),b=Ri(),w=!0;a&&(u=a.name,c=a.service,f=a.version,l=a.context);l&&b.setContext(l);var S={id:d,name:u,startClocks:o,service:c,version:f};e.notify(An,S),e.notify(Pn,S);var E=G(q,3e3,{leading:!1}),C=E.throttled,T=E.cancel,x=Da(e,t,n,B,i,o),k=x.setLoadEvent,R=(x.stop,x.getCommonViewMetrics),I=x.stopINPTracking,A=(x.setViewEnd,i===Nt?Ta(n,k,B):{stop:te,initialViewMetrics:{}}),P=A.stop,N=A.initialViewMetrics,M=Ba(e,d,B),L=M.stop,V=M.eventCounts,j=y(q,qa),U=e.subscribe(Dn,(function(e){e.reason===Wr.UNLOADING&&q()}));function D(){e.notify(Mn,{id:d,name:u,context:b.getContext(),startClocks:o})}function B(){D(),C()}function q(){T(),D(),g+=1;var t=void 0===s?pe():s.timeStamp;e.notify(Nn,{customTimings:v,documentVersion:g,id:d,name:u,service:c,version:f,context:b.getContext(),loadingType:i,location:_,startClocks:o,commonViewMetrics:R(),initialViewMetrics:N,duration:me(o.timeStamp,t),isActive:void 0===s,sessionIsActive:w,eventCounts:V})}q(),b.changeObservable.subscribe(B);var z={name:u,service:c,version:f,contextManager:b,stopObservable:p,end:function(t){s||(s=je(t&&t.endClocks,de()),w=je(t&&t.sessionIsActive,!0),e.notify(Ln,{endClocks:s}),e.notify(Vn,{endClocks:s}),h(j),U.unsubscribe(),q(),m((function(){z.stop()}),za))},stop:function(){P(),L(),I(),p.notify()},addTiming:function(e,t){if(!s){var n=function(e){return e<31536e6}(t)?t:me(o.timeStamp,t);v[function(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");t!==e&&console.warn("Invalid timing name: "+e+", sanitized to: "+t);return t}(e)]=n,B()}},setViewName:function(e){u=e,q()}};return z}(t,n,r,e,i,o,a);return s.add(u),u.stopObservable.subscribe((function(){s.delete(u)})),u}var c,f=u(Nt,ge(),a);return t.subscribe(jn,(function(){f=u(Mt,void 0,{name:f.name,service:f.service,version:f.version,context:f.contextManager.getContext()})})),t.subscribe(Un,(function(){f.end({sessionIsActive:!1})})),o&&(c=function(e){return e.subscribe((function(e){var t,n,r=e.oldLocation,i=e.newLocation;if(n=i,(t=r).pathname!==n.pathname||!qe(n.hash)&&ze(n.hash)!==ze(t.hash))return f.end(),void(f=u(Mt))}))}(i)),{addTiming:function(e,t){void 0===t&&(t=pe()),f.addTiming(e,t)},startView:function(e,t){f.end({endClocks:t}),f=u(Mt,t,e)},setViewContext:function(e){f.contextManager.setContext(e)},setViewContextProperty:function(e,t){f.contextManager.setContextProperty(e,t)},setViewName:function(e){f.setViewName(e)},getViewContext:function(){return f.contextManager.getContext()},stop:function(){c&&c.unsubscribe(),f.end(),s.forEach((function(e){e.stop()}))}}}function Fa(e,t,n,r,i,o,a,s){return e.subscribe(Nn,(function(n){e.notify(zn,function(e,t,n,r){var i=r.findAll(e.startClocks.relative,e.duration),o={_gc:{document_version:e.documentVersion,page_states:i},date:e.startClocks.timeStamp,type:Pt.VIEW,view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:Se(e.commonViewMetrics,"cumulativeLayoutShift.value"),cumulative_layout_shift_time:Se(e.commonViewMetrics,"cumulativeLayoutShift.time"),cumulative_layout_shift_target_selector:Se(e.commonViewMetrics,"cumulativeLayoutShift.targetSelector"),first_byte:ue(Se(e.initialViewMetrics,"navigationTimings.firstByte")),dom_complete:ue(Se(e.initialViewMetrics,"navigationTimings.domComplete")),dom_content_loaded:ue(Se(e.initialViewMetrics,"navigationTimings.domContentLoaded")),dom_interactive:ue(Se(e.initialViewMetrics,"navigationTimings.domInteractive")),error:{count:e.eventCounts.errorCount},first_contentful_paint:ue(Se(e.initialViewMetrics,"firstContentfulPaint")),first_input_delay:ue(Se(e.initialViewMetrics,"firstInput.delay")),first_input_time:ue(Se(e.initialViewMetrics,"firstInput.time")),first_input_target_selector:Se(e.initialViewMetrics,"firstInput.targetSelector"),interaction_to_next_paint:ue(Se(e.commonViewMetrics,"interactionToNextPaint.value")),interaction_to_next_paint_target_selector:Se(e.commonViewMetrics,"interactionToNextPaint.targetSelector"),is_active:e.isActive,name:e.name,largest_contentful_paint:ue(Se(e.initialViewMetrics,"largestContentfulPaint.value")),largest_contentful_paint_element_selector:Se(e.initialViewMetrics,"largestContentfulPaint.targetSelector"),load_event:ue(Se(e.initialViewMetrics,"navigationTimings.loadEvent")),loading_time:He(ue(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:ue(e.duration)},display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:ue(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{is_active:!!e.sessionIsActive&&void 0},privacy:{replay_level:t.defaultPrivacyLevel}};B(e.customTimings)||(o.view.custom_timings=(a=e.customTimings,s=ue,u={},x(a,(function(e,t){u[t]=s(e)})),u));var a,s,u;return{rawRumEvent:o=I(o,{view:Ga(e.initialViewMetrics.navigationTimings)}),startTime:e.startClocks.relative,domainContext:{location:e.location}}}(n,t,0,o))})),Ha(n,e,r,t,i,!t.trackViewsManually,s)}function Ga(e){if(e){var t=e.fetchStart,n=e.responseEnd,r=e.domInteractive,i=e.domContentLoaded,o=e.domComplete,a=e.loadEventEnd,s=e.loadEventStart,u=e.domContentLoadedEventEnd,c={};if(F(n)&&F(t)&&n!==t&&n>t){c.fpt=ue(n-t);var f=parseInt((n-t)/1e3);c.apdexLevel=f>9?9:f}return F(r)&&F(t)&&r!==t&&r>t&&(c.tti=ue(r-t)),F(i)&&F(t)&&i!==t&&i>t&&(c.dom_ready=ue(i-t)),F(a)&&F(t)&&a!==t&&a>t&&(c.load=ue(a-t)),F(s)&&F(u)&&s!==u&&s>u&&(c.resource_load_time=ue(s-u)),F(o)&&F(r)&&o!==r&&o>r&&(c.dom=ue(o-r)),c}}function Wa(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}var Ja=1;function $a(e,t,n){var r={clearTracingIfNeeded:Wa,traceFetch:function(e){},traceXhr:function(e,t){}};!function(e,t,n){var r=Hr().subscribe((function(r){var i=r;if(Jo(t,i.url))switch(i.state){case"start":n.traceXhr(i,i.xhr),i.requestIndex=Ka(),e.notify(Bn,{requestIndex:i.requestIndex,url:i.url});break;case"complete":n.clearTracingIfNeeded(i),e.notify(qn,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:Lt.XHR,url:i.url,xhr:i.xhr,isAborted:i.isAborted,handlingStack:i.handlingStack})}}))}(e,t,r),function(e,t,n){var r=qr().subscribe((function(r){var i=r;if(Jo(t,i.url))switch(i.state){case"start":n.traceFetch(i),i.requestIndex=Ka(),e.notify(Bn,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":!function(e,t){var n=e.response&&function(e){try{return e.clone()}catch(e){return}}(e.response);n&&n.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function a(){var e,a;if(r.cancel().catch(te),n.collectStreamBody){var s;if(1===i.length)s=i[0];else{s=new Uint8Array(o);var u=0;x(i,(function(e){s.set(e,u),u+=e.length}))}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(c((function(t){t.done?a():(n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?a():e())})),c((function(e){t(e)})))}()}(n.body,(function(){t(me(e.startClocks.timeStamp,pe()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t(me(e.startClocks.timeStamp,pe()))}(i,(function(t){n.clearTracingIfNeeded(i),e.notify(qn,{duration:t,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:Lt.FETCH,url:i.url,response:i.response,init:i.init,input:i.input,isAborted:i.isAborted,handlingStack:i.handlingStack})}))}}))}(e,t,r)}function Ka(){var e=Ja;return Ja+=1,e}var Xa=new Fi;function Qa(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=L(t,(function(e){return!Xa.has(e)}));n=L(n,(function(e){return zo(e)&&Ho(e)})),n=L(n,(function(t){return n=t,r=e.startClocks.relative,i=Za({startTime:e.startClocks.relative,duration:e.duration}),o=1,n.startTime>=r-o&&Za(n)<=he(i,o);var n,r,i,o}));var r=void 0;if(n.length>1){var i=Number.MAX_SAFE_INTEGER;n.forEach((function(t){var n=Math.abs(t.startTime-e.startClocks.relative);n<i&&(i=n,r=t)}))}else 1===n.length&&(r=n[0]);return r?(Xa.add(r),r.toJSON()):void 0}}}function Za(e){return he(e.startTime,e.duration)}function Ya(e,t){$r("interactive",(function(){var e=k(Sa().toJSON(),{entryType:aa,initiatorType:Po,toJSON:function(){return k({},e,{toJSON:void 0})}});t(e)}))}function es(e,t,n,r,i){void 0===r&&(r=function(){var e=[];function t(t){var r;if(t.didTimeout){var i=performance.now();r=function(){return 30-(performance.now()-i)}}else r=t.timeRemaining.bind(t);for(;r()>0&&e.length;)e.shift()();e.length&&n()}function n(){ir(t,{timeout:1e3})}return{push:function(t){1===e.push(t)&&n()}}}()),void 0===i&&(i=Ya),e.subscribe(qn,(function(e){a((function(){return function(e,t){var n=Qa(e),r=n?ye(n.startTime):e.startClocks,i=function(e){if(!(e.traceSampled&&e.traceId&&e.spanId))return;return{_gc:{spanId:e.spanId,traceId:e.traceId},resource:{id:W()}}}(e),o=e.type===Lt.XHR?St:Ct,a=n?ns(n):void 0,s=function(e,t,n){return e.wasInPageStateDuringPeriod(lo,t.relative,n)?void 0:ue(n)}(t,r,e.duration),u=$(e.url).getParse(),c=I({date:r.timeStamp,resource:{id:W(),type:o,duration:s,method:e.method,status:e.status,statusGroup:ee(e.status),url:Ko(e.url)?Xo(e.url):e.url,urlHost:u.Host,urlPath:u.Path,urlPathGroup:J(u.Path),urlQuery:K(e.url),deliveryType:n&&Vo(n),protocol:n&&jo(n)},type:Pt.RESOURCE},i,a);return{startTime:r.relative,rawRumEvent:c,domainContext:{performanceEntry:n,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}(e,n)}))}));var o=ua(t,{type:aa,buffered:!0}).subscribe((function(e){for(var n=function(e){(function(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType})(e)||Do(e.name,t.resourceUrlLimit)||a((function(){return ts(e,t)}))},r=0,i=e;r<i.length;r++){n(i[r])}}));function a(t){r.push((function(){var n=t();n&&e.notify(zn,n)}))}return i(t,(function(e){a((function(){return ts(e,t)}))})),{stop:function(){o.unsubscribe()}}}function ts(e,t){var n,r=ye(e.startTime),i=function(e){return e.traceId?{_gc:{traceId:e.traceId}}:void 0}(e),o=Mo(e),a=ns(e),s=$(e.name).getParse(),u=I({date:r.timeStamp,resource:{id:W(),type:o,url:e.name,urlHost:s.Host,urlPath:s.Path,urlPathGroup:J(s.Path),urlQuery:K(e.name),method:"GET",status:(n=e.responseStatus,0===n?void 0:n),statusGroup:ee(e.responseStatus),deliveryType:Vo(e),protocol:jo(e)},type:Pt.RESOURCE},i,a);return{startTime:r.relative,rawRumEvent:u,domainContext:{performanceEntry:e}}}function ns(e){return{resource:I({},{duration:Bo(e)},Wo(e),qo(e))}}var rs={sdkVersion:"3.2.24",sdkName:"df_web_rum_sdk"};function is(e){if(e.applicationId){if(function(e){return e.site||e.datakitOrigin||e.datakitUrl?!(e.site&&!e.clientToken&&(a.error("clientToken is not configured, no RUM data will be collected."),1)):(a.error("datakitOrigin or site is not configured, no RUM data will be collected."),!1)}(e))if(void 0===e.sessionOnErrorSampleRate||Oe(e.sessionOnErrorSampleRate))if(void 0===e.sessionReplaySampleRate||Oe(e.sessionReplaySampleRate))if(void 0===e.sessionReplayOnErrorSampleRate||Oe(e.sessionReplayOnErrorSampleRate)){var t=function(e){void 0!==e.allowedTracingUrls&&void 0!==e.allowedTracingOrigins&&a.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins.");if(void 0!==e.allowedTracingUrls){if(!A(e.allowedTracingUrls))return void a.error("Allowed Tracing URLs should be an array");var t=[];return x(e.allowedTracingUrls,(function(n){var r;Ce(n)?t.push({match:n,traceType:je(e.traceType,Vt)}):"object"===Q(r=n)&&Ce(r.match)&&z(r.traceType)?t.push(n):a.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)})),t}return[]}(e);if(t)if(void 0===e.tracingSampleRate||Oe(e.tracingSampleRate))if(void 0===e.excludedActivityUrls||A(e.excludedActivityUrls)){var n=Br(e);if(n){var r=!!je(e.trackUserInteractions,e.trackInteractions);return k({applicationId:e.applicationId,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:je(e.sessionReplaySampleRate,100),sessionOnErrorSampleRate:je(e.sessionOnErrorSampleRate,0),sessionReplayOnErrorSampleRate:je(e.sessionReplayOnErrorSampleRate,0),tracingSampleRate:je(e.tracingSampleRate,100),allowedTracingUrls:t,injectTraceHeader:e.injectTraceHeader&&d(e.injectTraceHeader,"injectTraceHeader threw an error:"),generateTraceId:e.generateTraceId&&d(e.generateTraceId,"generateTraceId threw an error:"),excludedActivityUrls:je(e.excludedActivityUrls,[]),workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:r,enableLongAnimationFrame:!!e.enableLongAnimationFrame,trackViewsManually:!!e.trackViewsManually,traceType:je(e.traceType,Vt),traceId128Bit:!!e.traceId128Bit,defaultPrivacyLevel:Ue(Dr,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:Dr.MASK_USER_INPUT,shouldMaskNode:e.shouldMaskNode&&d(e.shouldMaskNode,"shouldMaskNode threw an error:")},n,rs)}}else a.error("Excluded Activity Urls should be an array");else a.error("Tracing Sample Rate should be a number between 0 and 100")}else a.error("Error Session Replay Sample Rate should be a number between 0 and 100");else a.error("Session Replay Sample Rate should be a number between 0 and 100");else a.error("Error Session  Sample Rate should be a number between 0 and 100")}else a.error("Application ID is not configured, no RUM data will be collected.")}function os(e,t,n){var r,i,o,s,u=e.ignoreInitIfSyntheticsWillInjectRum,c=(r=[],{add:function(e){r.push(e)>500&&r.splice(0,1)},remove:function(e){Be(r,e)},drain:function(e){r.forEach((function(t){t(e)})),r.length=0}});function f(){if(o&&s){var e;if(s.trackViewsManually){if(!i)return;c.remove(i.callback),e=i.options}var t=n(s,undefined,e);c.drain(t)}}return{init:function(e){e?(o=e,u&&Boolean(window._GUANCE_SYNTHETICS_INJECTS_RUM||dr("guance-synthetics-injects-rum"))||e.remoteConfiguration||function(e){if(o=e,s)Gi("DATAFLUX_RUM",e);else{var t=is(e);t&&(s=t,qr().subscribe(te),f())}}(e)):a.error("Missing configuration")},getInitConfiguration:function(){return o},getInternalContext:te,stopSession:te,addTiming:function(e,t){void 0===t&&(t=pe()),c.add((function(n){n.addTiming(e,t)}))},startView:function(e,t){void 0===t&&(t=de());var n=function(n){n.startView(e,t)};c.add(n),i||(i={options:e,callback:n},f())},setViewName:function(e){c.add((function(t){return t.setViewName(e)}))},setViewContext:function(e){c.add((function(t){return t.setViewContext(e)}))},setViewContextProperty:function(e,t){c.add((function(n){return n.setViewContextProperty(e,t)}))},getViewContext:function(){},addAction:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addAction(e,n)}))},addError:function(e,n){void 0===n&&(n=t()),c.add((function(t){t.addError(e,n)}))}}}var as,ss,us,cs,fs=function(t,n,r){void 0===r&&(r={});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di,t=new Map,n=!1;function r(){if(!n&&e!==ji){var r=e===Di?Li:Vi,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.forEach((function(e){i+=e.getBytesCount()})),i>r&&(qi(r),n=!0)}}return{createDetachedTracker:function(){var e=Bi((function(){return r(e.getBytesCount())}));return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,Bi(r)),t.get(e)},setCompressionStatus:function(t){e===ji&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach((function(e){return e.stop()})),t.clear()}}}(ji),o=Ri("global",{customerDataTracker:i.getOrCreateTracker(Ai)}),s=Ri("user",{customerDataTracker:i.getOrCreateTracker(Ii),propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}});function l(){return function(e,t,n){return{context:e.getContext(),user:t.getContext(),hasReplay:!1}}(o,s)}var d,p,v=os(r,l,(function(e,a,u){e.storeContextsToLocal&&(Mi(e,o,"rum",Ai),Mi(e,s,"rum",Ii)),i.setCompressionStatus(a?Ui:Di);var c=t(e,n,i,l,u,a&&r.createDeflateEncoder?function(e){return r.createDeflateEncoder(a,e)}:zi);return v=function(e,t){return k({init:function(e){Gi("DATAFLUX_RUM",e)},initConfiguration:e.getInitConfiguration()},t)}(v,c),c})),m=c((function(t){var n="object"===e(t)?t:{name:t};v.startView(n),n.context&&i.getOrCreateTracker(Pi).updateCustomerData(n.context)}));return d={init:c((function(e){v.init(e)})),setViewName:c((function(e){v.setViewName(e)})),setViewContext:c((function(e){v.setViewContext(e)})),setViewContextProperty:c((function(e,t){v.setViewContextProperty(e,t)})),getViewContext:c((function(){return v.getViewContext()})),setGlobalContextProperty:c((function(e,t){o.setContextProperty(e,t)})),removeGlobalContextProperty:c((function(e){return o.removeContextProperty(e)})),getGlobalContext:c((function(){return o.getContext()})),setGlobalContext:c((function(e){o.setContext(e)})),clearGlobalContext:c((function(){return o.clearContext()})),getInitConfiguration:c((function(){return Y(v.initConfiguration)})),getInternalContext:c((function(e){return v.getInternalContext(e)})),addDebugSession:c((function(e){})),clearDebugSession:c((function(){})),getDebugSession:c((function(){})),addAction:c((function(e,t){var n=ln();f((function(){v.addAction({name:on(e),context:on(t),startClocks:de(),type:At,handlingStack:n})}))})),addError:c((function(e,t){var n=ln();f((function(){v.addError({error:e,handlingStack:n,context:on(t),startClocks:de()})}))})),addTiming:c((function(e,t){v.addTiming(on(e),t)})),setUser:c((function(e){(function(e){var t="object"===Q(e);return t||a.error("Unsupported user:",e),t})(e)&&s.setContext(Hi(e))})),getUser:c((function(){return s.getContext()})),setUserProperty:c((function(e,t){var n={};n[e]=t;var r=Hi(n)[e];s.setContextProperty(e,r)})),removeUserProperty:c((function(e){return s.removeContextProperty(e)})),clearUser:c((function(){return s.clearContext()})),startView:m,stopSession:c((function(){v.stopSession()}))},p=k({onReady:function(e){e()}},d),Object.defineProperty(p,"_setDebug",{get:function(){return u},enumerable:!1}),p}((function(e,t,n,r,i,o){var a=[],s=new Gn,u=function(e){s.notify(Fn,{error:e})},c=new yn((function(e){var t=En(window,[ot,st],(function(t){t.type===ot&&"hidden"===document.visibilityState?e.notify({reason:Wr.HIDDEN}):t.type===st&&e.notify({reason:Wr.FROZEN})}),{capture:!0}),n=Sn(window,Ze,(function(){e.notify({reason:Wr.UNLOADING})}));return function(){t.stop(),n.stop()}}));c.subscribe((function(e){s.notify(Dn,e)})),a.push((function(){pageExitSubscription.unsubscribe()}));var f=Ci()?void 0:no(e,s);if(!Ci()){var l=ho(e,s,0,u,c,f.expireObservable,o);a.push((function(){l.stop()}))}var d=oo(e),p=ao(),v=so(location),m=vo(),g=function(e,t,n,r,i,o,a,s,u,c){var f=function(e){var t=Je({expireDelay:144e5});return e.subscribe(An,(function(e){t.add(function(e){return{service:e.service,version:e.version,context:e.context,id:e.id,name:e.name,startClocks:e.startClocks}}(e),e.startClocks.relative)})),e.subscribe(Vn,(function(e){t.closeActive(e.endClocks.relative)})),e.subscribe(Mn,(function(e){var n=t.find(e.startClocks.relative);n&&e.name&&(n.name=e.name),n&&e.context&&(n.context=e.context)})),e.subscribe(jn,(function(){t.reset()})),{findView:function(e){return t.find(e)},stop:function(){t.stop()}}}(e),l=function(e,t,n){var r,i=Je({expireDelay:144e5});e.subscribe(An,(function(e){var t=n.href;i.add(a({url:t,location:n,referrer:r||document.referrer}),e.startClocks.relative),r=t})),e.subscribe(Vn,(function(e){i.closeActive(e.endClocks.relative)}));var o=t.subscribe((function(e){var t=i.find();if(t){var n=le();i.closeActive(n),i.add(a({url:e.newLocation.href,location:e.newLocation,referrer:t.referrer}),n)}}));function a(e){var t=e.location.pathname,n=e.location.hash;return n&&!qe(n)&&(t="/"+ze(n)),{url:e.url,referrer:e.referrer,host:e.location.host,path:t,pathGroup:J(t),urlQuery:K(e.location.href)}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,a,n),d=function(e,t,n,r){return e.subscribe(In,(function(t){e.notify(zn,go(t,r))})),{actionContexts:{findActionId:te,findAllActionId:te},addAction:function(t,n){e.notify(zn,R({savedCommonContext:n},go(t,r)))}}}(e,0,0,o),p=d.actionContexts,v=d.addAction,m=(g=Io(),{get:function(){return{viewport:g}},stop:Ro().subscribe((function(e){g=e})).unsubscribe});var g;return Oo(t,e,r,i,f,l,p,m,u,c),{viewContexts:f,urlContexts:l,pageStateHistory:o,addAction:v,actionContexts:p,stop:function(){m.stop(),o.stop(),l.stop(),f.stop()}}}(s,e,location,f,d,m,v,0,r,u),y=g.viewContexts,h=g.urlContexts,_=g.actionContexts,b=g.stop,w=g.addAction;a.push(b);var S=Fa(s,e,location,p,v,m,0,i),E=S.addTiming,C=S.startView,T=S.setViewName,x=S.setViewContext,k=S.setViewContextProperty,O=S.getViewContext,I=S.stop;a.push(I);var A=es(s,e,m);a.push(A.stop);var P=Ao(s,0,f,m).addError;$a(s,e);var N=function(e,t,n,r,i){return{get:function(o){var a=n.findView(o),s=i.findUrl(o),u=t.findTrackedSession(o);if(u&&a&&s){var c=r.findActionId(o),f=r.findAllActionId(o);return{application:{id:e},session:{id:u.id},userAction:c?{id:c,ids:f}:void 0,view:{id:a.id,name:a.name||s.path,url:s.url,referrer:s.referrer,host:s.host,path:s.path,pathGroup:s.pathGroup,urlQuery:s.urlQuery}}}}}}(e.applicationId,f,y,_,h);return{addAction:w,addError:P,addTiming:E,configuration:e,startView:C,setViewContext:x,setViewContextProperty:k,getViewContext:O,setViewName:T,lifeCycle:s,viewContexts:y,session:f,stopSession:function(){f.expire()},getInternalContext:N.get,stop:function(){a.forEach((function(e){e()}))}}}),"recorderApi",{startDeflateWorker:null,createDeflateEncoder:null});as=p(),us=fs,cs=as[ss="DATAFLUX_RUM"],as[ss]=us,cs&&cs.q&&x(cs.q,(function(e){d(e,"onReady callback threw an error:")()}))}();